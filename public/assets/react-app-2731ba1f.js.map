{"version":3,"mappings":"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,YAAa,wBACb,OAAQ,CACN,MAAO,QACP,cAAe,kBACf,KAAM,WACP,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,2BACb,OAAQ,CACN,MAAO,QACP,cAAe,kBACf,KAAM,YACN,cAAe,SACf,SAAU,WACV,cAAe,MAChB,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,2BACb,OAAQ,CACN,MAAO,QACP,cAAe,kBACf,KAAM,YACN,cAAe,SACf,SAAU,WACV,cAAe,OACf,SAAU,cACV,QAAS,eACT,YAAa,SACb,mBAAoB,eACpB,QAAS,OACV,CACF,CACF,CACF,EAED,YAAa,CACX,KAAM,cACN,KAAM,KACN,YAAa,kCACb,OAAQ,CACN,EAAG,CACD,KAAM,YACN,YAAa,qBACb,OAAQ,CACN,MAAO,WACP,cAAe,UACf,KAAM,WACP,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,wBACb,OAAQ,CACN,MAAO,WACP,cAAe,UACf,KAAM,YACN,SAAU,QACV,cAAe,WACf,MAAO,gBACR,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,4BACb,OAAQ,CACN,MAAO,WACP,cAAe,UACf,KAAM,YACN,SAAU,QACV,cAAe,WACf,MAAO,iBACP,MAAO,cACP,QAAS,gBACT,IAAK,YACL,mBAAoB,aACpB,YAAa,YACd,CACF,CACF,CACF,EAED,OAAQ,CACN,KAAM,gBACN,KAAM,KACN,YAAa,kCACb,OAAQ,CACN,EAAG,CACD,KAAM,YACN,YAAa,oBACb,OAAQ,CACN,QAAS,eACT,YAAa,cACb,KAAM,WACP,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,2BACb,OAAQ,CACN,QAAS,eACT,YAAa,cACb,KAAM,YACN,SAAU,YACV,SAAU,QACV,cAAe,YAChB,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,0BACb,OAAQ,CACN,QAAS,eACT,YAAa,cACb,KAAM,YACN,SAAU,YACV,SAAU,QACV,cAAe,aACf,cAAe,gBACf,WAAY,WACZ,YAAa,OACb,mBAAoB,SACpB,aAAc,gBACf,CACF,CACF,CACF,EAED,UAAW,CAC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,cAAe,cACf,mBAAoB,SACpB,QAAS,YACV,CACF,CACF,CACF,EAED,eAAgB,CACd,KAAM,iBACN,KAAM,KACN,YAAa,+GACb,OAAQ,CACN,EAAG,CACD,KAAM,YACN,YAAa,qBACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,cAChB,cAAe,YAChB,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,sBACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,cAChB,cAAe,aACf,MAAO,YACP,cAAe,uBACf,WAAY,cACb,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,wBACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,cAChB,cAAe,aACf,MAAO,YACP,cAAe,uBACf,WAAY,eACZ,KAAM,YACN,SAAU,YACV,YAAa,aACb,cAAe,OACf,mBAAoB,sBACrB,CACF,CACF,CACF,EAGD,wBAAyB,CACvB,KAAM,wBACN,KAAM,KACN,YAAa,8GACb,OAAQ,CACN,EAAG,CACD,KAAM,YACN,YAAa,8BACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,kBAChB,cAAe,SAChB,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,oBACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,kBAChB,cAAe,UACf,MAAO,UACP,KAAM,UACN,WAAY,WACb,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,iCACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,kBAChB,cAAe,UACf,MAAO,UACP,KAAM,UACN,WAAY,YACZ,SAAU,SACV,YAAa,SACb,SAAU,SACV,mBAAoB,KACrB,CACF,CACF,CACF,EAED,gBAAiB,CACf,KAAM,kBACN,KAAM,KACN,YAAa,6DACb,OAAQ,CACN,EAAG,CACD,KAAM,YACN,YAAa,0BACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,kBAChB,cAAe,aAChB,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,mBACb,OAAQ,CACN,eAAgB,WAChB,eAAgB,kBAChB,cAAe,cACf,MAAO,QACP,KAAM,YACN,QAAS,YACV,CACF,EACD,EAAG,CACD,KAAM,WACN,YAAa,8B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C,uCAAwC,yCACxC,sCAAuC,4CACvC,+CAAgD,4CAChD,qDAAsD,2CAC1D,GAGE6B,GAxCW7B,GAwCJ,iBAAiB,CACtB,kBAAmB,CACjB,iFACA,kFACA,mFACA,8EACA,wEACD,EACD,qBAAsB,CACpB,gEACA,6DACA,sEACA,2EACA,4EACD,EACD,qBAAsB,CACpB,+DACA,gFACA,6EACA,yEACA,2EACD,EACD,mBAAoB,CAClB,sEACA,2DACA,mEACA,6DACA,uEACD,EACD,mBAAoB,CAClB,4DACA,wEACA,kEACA,oEACA,2EACD,EACD,oBAAqB,CACnB,4EACA,uEACA,6DACA,iEACA,iEACD,EACD,gBAAiB,CACf,sGACA,wGACA,0EACA,qGACA,6FACA,+FACA,kFACA,8FACA,+EACA,6FACD,CACL,GAGE6B,GAlGW7B,GAkGJ,eAAe,CACpB,mBAAoB,CAClB,GAAI,mBACJ,KAAM,mBACN,KAAM,KACN,YAAa,0DACb,SAAU,SACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,6EACP,eAAgB,mCAChB,iBAAkB,mDAClB,QAAS,cACT,MAAO,kCACP,KAAM,kCACN,eAAgB,8CACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,0EACP,eAAgB,+CAChB,iBAAkB,qEAClB,QAAS,0CACT,MAAO,mDACP,KAAM,8CACN,eAAgB,yCACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,0FACP,eAAgB,qDAChB,iBAAkB,0DAClB,QAAS,6DACT,MAAO,gDACP,KAAM,8CACN,eAAgB,kDACjB,CACF,CACF,CACF,EAED,sBAAuB,CACrB,GAAI,sBACJ,KAAM,sBACN,KAAM,KACN,YAAa,oEACb,SAAU,cACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,oFACP,eAAgB,8BAChB,iBAAkB,oDAClB,QAAS,qDACT,MAAO,yCACP,KAAM,kDACN,eAAgB,4CACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,gFACP,eAAgB,0CAChB,iBAAkB,iEAClB,QAAS,+DACT,MAAO,4CACP,KAAM,yDACN,eAAgB,+CACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,iFACP,eAAgB,sCAChB,iBAAkB,wDAClB,QAAS,kEACT,MAAO,mDACP,KAAM,yDACN,eAAgB,iEACjB,CACF,CACF,CACF,EAED,oBAAqB,CACnB,GAAI,oBACJ,KAAM,wBACN,KAAM,KACN,YAAa,2DACb,SAAU,cACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,mEACP,eAAgB,sCAChB,iBAAkB,kDAClB,QAAS,oCACT,MAAO,uDACP,KAAM,8CACN,eAAgB,kDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,oFACP,eAAgB,mDAChB,iBAAkB,0DAClB,QAAS,0CACT,MAAO,qDACP,KAAM,2DACN,eAAgB,iDACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,oFACP,eAAgB,4CAChB,iBAAkB,sEAClB,QAAS,gDACT,MAAO,kDACP,KAAM,oDACN,eAAgB,qDACjB,CACF,CACF,CACF,EAED,qBAAsB,CACpB,GAAI,qBACJ,KAAM,qBACN,KAAM,KACN,YAAa,8CACb,SAAU,gBACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,iEACP,eAAgB,0CAChB,iBAAkB,2DAClB,QAAS,uDACT,MAAO,kDACP,KAAM,mDACN,eAAgB,oDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,4DACP,eAAgB,kCAChB,iBAAkB,uCAClB,QAAS,qDACT,MAAO,kDACP,KAAM,oDACN,eAAgB,+CACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,uFACP,eAAgB,qCAChB,iBAAkB,0DAClB,QAAS,2DACT,MAAO,+DACP,KAAM,0DACN,eAAgB,wDACjB,CACF,CACF,CACF,EAED,yBAA0B,CACxB,GAAI,yBACJ,KAAM,6BACN,KAAM,KACN,YAAa,kDACb,SAAU,OACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,oEACP,eAAgB,qDAChB,iBAAkB,+CAClB,QAAS,uCACT,MAAO,kDACP,KAAM,8CACN,eAAgB,2DACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,qEACP,eAAgB,2CAChB,iBAAkB,+CAClB,QAAS,oDACT,MAAO,kDACP,KAAM,8CACN,eAAgB,yDACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,sEACP,eAAgB,iDAChB,iBAAkB,mEAClB,QAAS,4DACT,MAAO,qDACP,KAAM,gEACN,eAAgB,yDACjB,CACF,CACF,CACF,EAED,eAAgB,CACd,GAAI,eACJ,KAAM,sBACN,KAAM,KACN,YAAa,kDACb,SAAU,aACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,wEACP,eAAgB,2CAChB,iBAAkB,8DAClB,QAAS,sDACT,MAAO,2CACP,KAAM,+CACN,eAAgB,kDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,6DACP,eAAgB,sDAChB,iBAAkB,6DAClB,QAAS,4DACT,MAAO,yDACP,KAAM,wDACN,eAAgB,wDACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,oEACP,eAAgB,kEAChB,iBAAkB,2DAClB,QAAS,yDACT,MAAO,+CACP,KAAM,+DACN,eAAgB,sEACjB,CACF,CACF,CACF,EAED,eAAgB,CACd,GAAI,eACJ,KAAM,qBACN,KAAM,KACN,YAAa,0DACb,SAAU,gBACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,oFACP,eAAgB,wCAChB,iBAAkB,qDAClB,QAAS,oDACT,MAAO,qDACP,KAAM,oDACN,eAAgB,0CACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,qFACP,eAAgB,+DAChB,iBAAkB,iDAClB,QAAS,qDACT,MAAO,yDACP,KAAM,uDACN,eAAgB,+CACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,oEACP,eAAgB,+BAChB,iBAAkB,uDAClB,QAAS,0DACT,MAAO,iDACP,KAAM,uDACN,eAAgB,uDACjB,CACF,CACF,CACF,EAED,mBAAoB,CAClB,GAAI,mBACJ,KAAM,mBACN,KAAM,KACN,YAAa,8DACb,SAAU,YACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,8EACP,eAAgB,mCAChB,iBAAkB,sDAClB,QAAS,kDACT,MAAO,2CACP,KAAM,sDACN,eAAgB,mDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,sEACP,eAAgB,mDAChB,iBAAkB,kDAClB,QAAS,sDACT,MAAO,yDACP,KAAM,4DACN,eAAgB,8CACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,qFACP,eAAgB,4BAChB,iBAAkB,oDAClB,QAAS,qDACT,MAAO,+CACP,KAAM,4DACN,eAAgB,mDACjB,CACF,CACF,CACF,EAED,sBAAuB,CACrB,GAAI,sBACJ,KAAM,8BACN,KAAM,KACN,YAAa,wDACb,SAAU,UACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,mFACP,eAAgB,8BAChB,iBAAkB,mDAClB,QAAS,gEACT,MAAO,uDACP,KAAM,uDACN,eAAgB,0DACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,2EACP,eAAgB,2CAChB,iBAAkB,+CAClB,QAAS,iEACT,MAAO,+CACP,KAAM,2DACN,eAAgB,8DACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,6EACP,eAAgB,kCAChB,iBAAkB,+DAClB,QAAS,2DACT,MAAO,kDACP,KAAM,4DACN,eAAgB,0DACjB,CACF,CACF,CACF,EAED,mBAAoB,CAClB,GAAI,mBACJ,KAAM,oCACN,KAAM,KACN,YAAa,gEACb,SAAU,gBACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,2EACP,eAAgB,6CAChB,iBAAkB,sDAClB,QAAS,2DACT,MAAO,qDACP,KAAM,uCACN,eAAgB,sDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,wEACP,eAAgB,+CAChB,iBAAkB,mDAClB,QAAS,8DACT,MAAO,4DACP,KAAM,gDACN,eAAgB,uDACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,uEACP,eAAgB,6DAChB,iBAAkB,+DAClB,QAAS,iEACT,MAAO,sDACP,KAAM,8DACN,eAAgB,oEACjB,CACF,CACF,CACF,EAED,iBAAkB,CAChB,GAAI,iBACJ,KAAM,8BACN,KAAM,KACN,YAAa,iEACb,SAAU,eACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,gFACP,eAAgB,+CAChB,iBAAkB,4DAClB,QAAS,iEACT,MAAO,6DACP,KAAM,wDACN,eAAgB,iDACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,6DACP,eAAgB,0DAChB,iBAAkB,wDAClB,QAAS,2DACT,MAAO,mEACP,KAAM,oEACN,eAAgB,6DACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,sFACP,eAAgB,+CAChB,iBAAkB,6DAClB,QAAS,yDACT,MAAO,uDACP,KAAM,0DACN,eAAgB,kEACjB,CACF,CACF,CACF,EAED,gBAAiB,CACf,GAAI,gBACJ,KAAM,qBACN,KAAM,MACN,YAAa,uDACb,SAAU,UACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,uFACP,eAAgB,qDAChB,iBAAkB,oDAClB,QAAS,uDACT,MAAO,+CACP,KAAM,sDACN,eAAgB,0DACjB,CACF,EACD,EAAG,CACD,KAAM,UACN,KAAM,KACN,SAAU,CACR,MAAO,kEACP,eAAgB,uDAChB,iBAAkB,0DAClB,QAAS,uDACT,MAAO,oEACP,KAAM,yDACN,eAAgB,0DACjB,CACF,EACD,EAAG,CACD,KAAM,eACN,KAAM,KACN,SAAU,CACR,MAAO,wFACP,eAAgB,8CAChB,iBAAkB,wEAClB,QAAS,gEACT,MAAO,6DACP,KAAM,wEACN,eAAgB,8DACjB,CACF,CACF,CACF,EAED,iBAAkB,CAChB,GAAI,iBACJ,KAAM,kBACN,KAAM,KACN,YAAa,gEACb,SAAU,SACV,OAAQ,CACN,EAAG,CACD,KAAM,iBACN,KAAM,KACN,SAAU,CACR,MAAO,2EACP,eAAgB,gDAChB,iBAAkB,gEAClB,QAAS,2CACT,MAAO,gDACP,KAAM,yDACN,eAAgB,8DACjB,CACF,EACD,EAAG,CACD,KAAM,qBACN,KAAM,KACN,SAAU,CACR,MAAO,wEACP,eAAgB,yCAChB,iBAAkB,0DAClB,QAAS,iEACT,MAAO,mDACP,KAAM,mEACN,eAAgB,mEACjB,CACF,EACD,EAAG,CACD,KAAM,gBACN,KAAM,KACN,SAAU,CACR,MAAO,uFACP,eAAgB,8DAChB,iBAAkB,6DAClB,QAAS,6DACT,MAAO,4DACP,KAAM,wEACN,eAAgB,oEACjB,CACF,CACF,CACF,CACL,GAiGE6B,GAh0BW7B,GAg0BJ,mBAAmB,CACxB,aAAc,CACZ,8EACA,mEACA,gEACA,6DACA,+DACD,EACD,iBAAkB,CAChB,8EACA,+CACA,8CACA,iEACA,wEACD,EACD,oBAAqB,CACnB,sEACA,+DACA,uDACA,gEACA,+DACD,EACD,mBAAoB,CAClB,+DACA,mFACA,4EACA,4EACA,yEACD,CACL,GCl1BA,MAAM8B,GAAsB,CAE1B,IAAKlW,GAAmB,EACxB,UAAW,CAET,eAAgB,oBAAqB,mBAAoB,oBACzD,iBAAkB,cAAe,gBAAiB,eAClD,qBAAsB,kBAEtB,GAAG,OAAO,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ACF,CACF,GAGFsM,MAAC,QAAM,KAAG,GAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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","names":["l","n","p","q","r","t","u","v","w","x","y","z","A","a","B","C","D","E","b","e","F","G","H","I","J","K","L","M","d","c","k","h","g","f","m","N","O","escape","P","Q","R","S","T","U","V","W","X","react_production_min","reactModule","require$$0","reactJsxRuntime_production_min","jsxRuntimeModule","exports","schedulerModule","aa","ca","require$$1","da","ea","fa","ha","ia","ja","ka","la","ma","oa","pa","qa","ra","sa","ta","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Va","Wa","Xa","Ya","Za","ab","bb","cb","db","eb","fb","gb","hb","ib","jb","kb","lb","mb","nb","ob","pb","qb","rb","sb","tb","ub","vb","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","oc","nc","pc","qc","rc","sc","tc","uc","vc","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","Wc","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","id","jd","kd","ld","md","nd","od","pd","qd","rd","sd","td","ud","vd","wd","xd","yd","Ad","zd","Bd","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","ce","de","ee","fe","ge","he","ie","je","ke","le","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","Ie","Je","Ke","Le","Me","Ne","Oe","Pe","Qe","Re","Se","Te","Ue","Ve","We","Xe","Ye","Ze","$e","af","bf","cf","df","ef","ff","gf","hf","jf","kf","lf","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","na","xa","$a","ba","xf","yf","zf","Af","Bf","Cf","Df","Ef","Ff","Gf","Hf","Jf","If","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","jh","kh","lh","mh","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","gi","hi","ii","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","ej","fj","gj","hj","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Kj","Lj","Mj","Nj","Oj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","Xj","Yj","Zj","ak","bk","ck","dk","ek","fk","gk","hk","ik","jk","kk","lk","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","Qk","Rk","Sk","Tk","Uk","Vk","Wk","Xk","Yk","Zk","$k","al","bl","cl","dl","el","fl","gl","hl","il","jl","kl","ll","ml","ol","pl","ql","rl","sl","tl","ul","vl","reactDom_production_min","checkDCE","err","reactDomModule","client","schema","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","createStore","React","is","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","value","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","characterPresets","scenePresets","sceneCategories","actionPresets","directorStyles","audioPresets","templates","convertPresetToTemplate","preset","convertedPresets","key","allTemplates","getAllTemplateKeys","isPresetTemplate","templateKey","_a","getTemplate","usePromptStore","set","get","categoryId","newExpanded","fieldKey","saveStateForUndo","newEnabled","newValues","newFieldValues","newExpandedCategories","newExpandedDetails","newEnabledFields","detailKey","newDetailValues","newExpandedCustomDetails","newCustomDetails","fieldValues","detailValues","customDetails","aspectRatio","filtered","ratio","randomizeFullScene","allFields","category","field","numFieldsToSelect","selectedFields","selectedSetting","selectedTimeOfDay","selectedWeather","randomValue","__vitePreload","scenePresetsData","presetKeys","randomPresetKey","locationPreset","applyScenePresetData","availableFields","numAdditionalFields","additionalFields","enabledFields","expandedCategories","compatibleValue","cinematicCategories","cinematicFields","sceneFields","numCinematicFields","cinematicSelection","sceneSelection","environmentalCategories","environmentalFields","numFields","environments","chosenEnvironment","technicalCategories","technicalFields","setting","timeOfDay","weather","validOptions","option","compatibleOptions","timeCompatibleOptions","weatherCompatibleOptions","cinematicPreferences","preferred","pref","environment","environmentalPreferences","options","locationCompatibility","compatible","timeCompatibility","weatherCompatibility","sceneTemplates","genericTemplates","currentState","newUndoStack","level","template","templateFields","categoryHasTemplateFields","mergedEnabledFields","mergedFieldValues","mergedExpandedCategories","fieldCount","categoriesAffected","presetData","primaryField","categoryHasPresetFields","mergedCustomDetails","characterCategories","characterFields","name","savedCharacters","newCharacter","updatedCharacters","savedScenes","newScene","updatedScenes","characterId","character","sceneId","scene","savedActions","actionFields","newAction","updatedActions","actionId","action","savedSettings","settingFields","newSetting","updatedSettings","settingId","savedStyles","styleFields","newStyle","updatedStyles","styleId","style","savedAudio","audioFields","newAudio","updatedAudio","audioId","audio","categoryType","templateUsage","now","newUsageData","_b","limit","_","usage","sceneOptions","originalScene","savedScenePacks","newScenePack","index","updatedScenePacks","packId","type","exportData","filename","s","blob","url","file","resolve","reject","reader","importData","newCharacters","char","newScenes","description","defaultStyle","projects","newProject","updatedProjects","projectId","project","updates","currentProject","updatedCurrentProject","styleSettings","setFieldValue","sceneData","strategy","clearAll","legacyCharacterFields","hasNewCharacters","hasNewLegacyCharacter","currentCharacters","mergedCharacters","newChar","existingIndex","existing","DetailPanel","selectedValue","updateDetailValue","detailConfig","quickTags","applyQuickTag","tagValues","renderDetailField","detailField","baseClasses","jsx","jsxs","tag","DialogueBuilder","onChange","characters","dialogueMode","setDialogueMode","dialogueLines","setDialogueLines","activeLineIndex","setActiveLineIndex","showTemplates","setShowTemplates","dialogueTemplates","availableSpeakers","speakers","legacyCharacterName","characterName","str","emotionalTones","deliveryStyles","addDialogueLine","newLine","newLines","updateValue","updateDialogueLine","removeDialogueLine","i","lines","sum","line","switchToSimpleMode","combinedText","switchToConversationMode","switchToTemplateMode","applyTemplate","getEstimatedTiming","text","words","_c","speaker","tone","delivery","CharacterManager","loadCharacter","showAddModal","setShowAddModal","expandedCharacter","setExpandedCharacter","namePool","roles","personalities","generateRandomCharacter","nameCategory","names","randomName","addCharacter","characterData","updateCharacter","removeCharacter","duplicateCharacter","duplicated","importSavedCharacter","savedCharacterId","savedChar","importedCharacter","getCharacterIcon","getRoleColor","role","colors","personality","SoundDesignBuilder","soundMode","setSoundMode","soundLayers","setSoundLayers","activeLayerIndex","setActiveLayerIndex","soundTypes","volumeLevels","timingOptions","positionOptions","processingEffects","soundTemplates","addSoundLayer","newLayer","newLayers","updateSoundLayer","removeSoundLayer","templateName","layer","layers","combinedDescription","switchToLayeredMode","getVolumeIcon","volume","getTypeIcon","timing","position","effect","FieldRenderer","expandedDetails","expandedCustomDetails","toggleField","updateFieldValue","toggleDetailExpansion","toggleCustomDetailExpansion","updateCustomDetail","isEnabled","fieldValue","isDetailExpanded","isCustomDetailExpanded","customDetailValue","shouldShowCustomInput","showCustomInput","setShowCustomInput","canShowDetails","canShowCustomDetails","getCustomDetailsPlaceholder","fieldName","placeholderMap","shouldShowField","dependencyValue","handleToggle","handleValueChange","handleCustomInputChange","renderInput","ExperimentalModeEngine","formatId","absurdityLevel","randomnessEnabled","currentContent","format","levelTemplate","content","modifiedContent","availableThemes","selectedTheme","themeScenarios","selectedScenario","chaosLevel","randomObject","randomAction","dialogueArray","randomLine","eventCategories","selectedCategory","unexpectedEvent","baseScores","absurdityMultiplier","baseScore","platforms","experimentalContent","existingContent","merged","array","__publicField","TEMPLATE_CATEGORIES","TAB_LABELS","TemplateSelector","getTemplatePreview","applyCharacterPresetData","showModal","setShowModal","selectedTemplate","setSelectedTemplate","selectedLevel","setSelectedLevel","preview","setPreview","activeTab","setActiveTab","isPresetCategory","tabKey","setAbsurdityLevel","setRandomnessEnabled","experimentalPreview","setExperimentalPreview","handleTemplateSelect","result","error","templatePreview","handleLevelChange","handleApply","handleClose","handleTabChange","tab","handleAbsurdityChange","handleRandomnessToggle","newRandomness","getFilteredTemplates","Fragment","createPortal","label","templateCount","experimentalFormat","isDirectorTemplate","isPreset","levelData","_d","_e","platform","ThemeContext","createContext","useTheme","context","useContext","ThemeProvider","children","isDarkMode","setIsDarkMode","savedTheme","root","mediaQuery","handleChange","prev","theme","CinematicModeToggle","className","toggleTheme","Logo","width","height","showBackground","size","submark","isHovered","setIsHovered","animationPhase","setAnimationPhase","visibleLetters","setVisibleLetters","showCursor","setShowCursor","leftBraceVisible","setLeftBraceVisible","rightBraceVisible","setRightBraceVisible","sizeConfig","submarkConfig","config","subConfig","logoWidth","logoHeight","neonTeal","electricBlue","neonColor","glowIntensity","textGradient","subtitleGradient","subtleGlowFilter","braceDepthFilter","braceGradient","completionGlowFilter","timeouts","mountTimeout","letter","timeout","leftBraceTimeout","rightBraceTimeout","completeTimeout","resetTimeout","interval","handleClick","LoadingScreen","onComplete","progress","setProgress","loadingText","setLoadingText","messages","messageIndex","progressValue","newMessageIndex","AuthService","existingAuth","auth","parsed","authData","email","password","response","userData","token","data","currentAuth","updatedAuth","canvas","ctx","fingerprint","today","stored","authService","useAuth","setAuth","isLoading","setIsLoading","setError","handleAuthChange","event","signup","login","verifyEmail","sendVerificationEmail","logout","trackAnonymousUsage","canUseAnonymously","getAnonymousUsage","clearError","isAuthenticated","user","needsVerification","isEmailVerified","UserService","tierInfo","subscriptionData","updatedUser","featureName","requirement","newCount","cycleEnd","nextCycleEnd","daysRemaining","lastReset","nextReset","eventType","feature","userService","useSubscription","setUser","refreshUser","currentUser","handleStorageChange","handleCustomUserUpdate","checkSubscriptionStatus","upgradeSubscription","cancelSubscription","trackFeatureUsage","getUsageStats","toggleProStatus","forceProStatus","resetUser","isPro","isYearly","subscription","ViralVideoGeneratorModal","onClose","modalRef","selectedFormat","setSelectedFormat","userInputs","setUserInputs","isGenerating","setIsGenerating","showGenerateSuccess","setShowGenerateSuccess","liveUpdates","setLiveUpdates","enhancingField","setEnhancingField","useAIEnhancement","setUseAIEnhancement","viralFormats","handleClickOutside","handleFormatSelect","initialInputs","handleInputChange","generateComprehensiveJson","handleEnhance","currentValue","enhancedValue","enhanceValue","aiService","aiApiService$1","enhancementPrompt","getViralEnhancement","fieldEnhancements","viralPrefixes","viralSuffixes","randomPrefix","randomSuffix","buildViralSceneJson","inputs","sceneDescription","tagline","enhanceEntireJson","currentJson","enhancedResponse","enhancedJson","handleManualGenerate","jsonOutput","AI_SYSTEM_PROMPTS","buildPrompt","mode","originalJSON","additionalContext","prompts","systemPrompt","continuationType","optimizationMode","CONTINUATION_TYPES","AIApiService","envVars","groqFromEnv","openaiFromEnv","_f","timeSinceLastRequest","waitTime","cleanedResponse","jsonStart","jsonEnd","parseError","useOpenAI","provider","baseURL","apiKey","defaultModel","requestPayload","requestOptions","lastError","attempt","_g","errorData","APIError","_h","_i","_k","_j","delay","extensionType","count","originalPrompt","userPreferences","trait","currentScene","expansionType","sceneCount","narrativeStructure","scenes","globalContext","results","sharedSettings","prompt","fallbackExtensions","cleaned","codeBlockPatterns","pattern","match","jsonObjectPatterns","braceMatch","bracketMatch","openChar","closeChar","startIndex","inString","escaped","imageBase64","base64Data","cleanedContent","cleanError","validatedFields","fieldStats","fieldData","confidence","categoryKey","userSeedIdea","isProgressive","categoryConfig","sceneContext","isExpansion","existingFields","hasExistingContent","userPrompt","primaryFieldNames","suggestions","fieldMap","status","message","isLastAttempt","aiApiService","AvatarCreator","isOpen","onSave","avatar","setAvatar","avatarOptions","updateAvatar","generateCharacterDescription","applyToCharacter","CharacterEngine","onResult","characterDescription","setCharacterDescription","generatedCharacter","setGeneratedCharacter","showAvatarCreator","setShowAvatarCreator","timer","element","generateCharacter","applyCharacterToScene","updatedJson","handleAvatarSave","avatarData","avatarCharacter","WorldBuilder","worldData","setWorldData","selectedExpansionType","setSelectedExpansionType","expansionTypes","generateWorld","applyLocationToScene","location","applyFullWorldToScene","getExpansionIcon","StoryboardGenerator","storyboard","setStoryboard","setSceneCount","setNarrativeStructure","narrativeStructures","generateStoryboard","applySceneToProject","applyFullStoryboard","getSceneIcon","structure","StyleGenerator","styleData","setStyleData","activeSection","setActiveSection","presetStyles","cameraAngles","generateSmartStyleSuggestion","applyPresetStyle","applyCameraAngle","angle","applyDirectorStyle","director","applyGeneratedStyle","renderPresetStyles","renderCameraAngles","renderDirectorStyles","JSONValidator","fields","jsonString","repaired","fixed","repairStrategies","openBraces","closeBraces","openBrackets","closeBrackets","fixedLines","fieldPattern","reconstructed","simplePattern","start","end","colonIndex","extracted","patterns","validFields","aiExtensionFields","dataKeys","isValidField","isMetadataField","isNotesOrMessage","isAIExtension","validated","fieldDefinitions","fieldDef","validatedValue","definitions","closest","num","valueStr","exactMatch","opt","partialMatch","bestMatch","bestDistance","distance","str1","str2","matrix","j","errorMessage","jsonValidator","SceneExtender","onSceneExtended","onTimeline","showAdvancedOptions","isExtending","setIsExtending","extendingType","setExtendingType","showOptions","setShowOptions","selectedType","setSelectedType","extensionResults","setExtensionResults","showResults","setShowResults","quickMode","setQuickMode","contextSettings","setContextSettings","abortControllerRef","extendScene","validationResult","extendedScene","fallbackScene","generateMultipleExtensions","types","cancelExtension","applyExtension","addToTimeline","getTypeColor","ProFeaturesHub","onShowPricing","onJsonUpdate","onSceneExtenderClick","onApplySceneOption","onDismissSceneOptions","extensionLoading","extensionError","compact","activeFeature","setActiveFeature","proFeatures","handleCharacterGenerated","handleWorldGenerated","handleStoryboardGenerated","handleStyleGenerated","handleFeatureClick","featureId","isActive","LoadingButton","loading","disabled","onClick","props","isDisabled","disabledClasses","SceneBuilderChecklist","onProjectChange","isAdvancedMode","setIsAdvancedMode","showToast","toggleCategory","loadScene","loadAction","loadSetting","loadStyle","loadAudio","saveCharacter","randomizeCharacterFields","randomizeLocationBased","randomizeCinematicStyle","applyProjectStyle","recordTemplateUsage","getRecentTemplates","getMostUsedTemplates","showTemplateModal","setShowTemplateModal","activeCategory","setActiveCategory","activeSubcategory","setActiveSubcategory","showLoadModal","setShowLoadModal","loadCategory","setLoadCategory","loadingStates","setLoadingStates","animatingCategories","setAnimatingCategories","expandSparkles","setExpandSparkles","loadGlowEffects","setLoadGlowEffects","previousSavedCounts","setPreviousSavedCounts","categoryInputs","setCategoryInputs","currentCounts","previousCount","currentCount","newSet","setLoading","placeholderText","templateSubcategories","categorizeTemplates","subcategoryKey","recentTemplates","mostUsedTemplates","combinedTemplates","mostUsed","recent","subcategory","categoryMatch","tagMatch","templateTag","getCategoryCompletion","categoryFields","filledFields","categoriesToExpand","schemaCategory","schemaField","handleLoad","loadKey","handleLoadSelection","itemId","loadedItem","item","handleCreate","formSection","LoadModal","TemplateModal","subcategories","categorizedTemplates","handleCategorySubmit","input","handleCategoryExpand","expandKey","enhancementInput","expandType","displayInput","completion","hasInput","UniversalInput","aiFeatures","textInput","setTextInput","isConverting","setIsConverting","inputMode","setInputMode","uploadedImage","setUploadedImage","imagePreview","setImagePreview","hasConverted","setHasConverted","lastConvertedInput","setLastConvertedInput","textareaRef","fileInputRef","adjustTextareaHeight","textarea","scrollHeight","handleConvert","handleTextEnhancement","handleTextToJson","handleImageToJson","jsonData","currentFields","handleKeyPress","validateFile","fileToBase64","handleFileUpload","base64","handleFileChange","handleDragOver","handleDrop","files","clearImage","currentMode","Analytics","script","gtag","searchConsoleId","meta","path","title","eventName","parameters","isProUser","success","method","fieldsCount","tier","errorType","navigation","analytics","TutorialOverlay","onSkip","onTutorialAction","currentStep","setCurrentStep","isVisible","setIsVisible","tutorialState","setTutorialState","overlayRef","tutorialSteps","convertButton","btn","jsonSection","indicator","enhanceButton","expanded","nextMode","advancedToggle","currentStepData","getTargetPosition","rect","getTooltipPosition","targetPos","preferredPosition","stepData","tooltipWidth","tooltipHeight","padding","targetPadding","viewportWidth","viewportHeight","isLargeTarget","isTextInput","isAiTools","targetCenterY","positions","fitsInViewport","pos","fallbackOrder","fallback","forcedPosition","scrollToTutorial","tooltipPos","scrollTarget","targetTop","targetBottom","targetCenter","viewportTop","viewportBottom","tooltipTop","tooltipBottom","handleAction","nextStep","skipTutorial","completeTutorial","prevStep","targetPosition","tooltipPosition","handleEscape","getArrowClass","tooltipCenterX","tooltipCenterY","targetCenterX","button","Toast","duration","getToastStyles","baseStyles","typeStyles","getIcon","icons","getTextColor","ToastContainer","toasts","removeToast","toast","toastId","useToast","setToasts","addToast","useCallback","newToast","showSuccess","showError","showWarning","showInfo","IntegratedHeader","showDropdown","setShowDropdown","showCreateProject","setShowCreateProject","newProjectName","setNewProjectName","dropdownRef","createProject","switchProject","deleteProject","saveScene","saveAction","saveSetting","saveStyle","saveAudio","deleteCharacter","deleteScene","deleteAction","deleteSetting","deleteStyle","deleteAudio","deleteScenePack","loadScenePack","handleCreateProject","handleLoadProject","handleSaveProject","handleLoadItem","loaders","handleDeleteItem","deleters","handleExportItem","totalLibraryItems","formatDate","timestamp","libraryCategories","App","getJsonOutput","randomizeFields","randomizeSceneFields","randomizeEnvironmental","randomizeTechnicalSetup","saveScenePack","applySceneWithMergeStrategy","incrementProjectSceneCount","setAspectRatio","undo","undoStack","copySuccess","setCopySuccess","showRandomizeDropdown","setShowRandomizeDropdown","showPricing","setShowPricing","showViralGenerator","setShowViralGenerator","sceneExtenderSuccess","setSceneExtenderSuccess","setExtensionLoading","extensionResult","setExtensionResult","setExtensionError","setSceneOptions","appliedOptionIndex","setAppliedOptionIndex","mergeStrategy","setMergeStrategy","subscriptionHook","showSaveModal","setShowSaveModal","saveCategory","setSaveCategory","saveName","setSaveName","showTutorial","setShowTutorial","showConfirmModal","setShowConfirmModal","dontShowAgain","setDontShowAgain","randomizeDropdownRef","handleTutorialAction","params","getConfirmationPreference","actionType","setConfirmationPreference","skipConfirm","handleClearAllClick","clearLoading","handleClearAll","setClearLoading","handleFullSceneRandomizeClick","optionsElement","copyLoading","setCopyLoading","saveLoading","setSaveLoading","copyToClipboard","handleGenerate5Options","handleApplySceneOption","optionIndex","usedStrategy","handleDismissSceneOptions","renderRandomizeDropdown","randomOptions","renderSceneOptions","categoryElement","ReactDOM"],"sources":["../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/scheduler/cjs/scheduler.production.min.js","../../node_modules/scheduler/index.js","../../node_modules/react-dom/cjs/react-dom.production.min.js","../../node_modules/react-dom/index.js","../../node_modules/react-dom/client.js","../../schema.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../characterPresetsData.js","../../scenePresetsData.js","../../actionPresetsData.js","../../directorStylesData.js","../../audioPresetsData.js","../../templates.js","../../store.js","../../DetailPanel.jsx","../../DialogueBuilder.jsx","../../CharacterManager.jsx","../../SoundDesignBuilder.jsx","../../FieldRenderer.jsx","../../ExperimentalModeEngine.js","../../TemplateSelector.jsx","../../ThemeContext.jsx","../../CinematicModeToggle.jsx","../../Logo.jsx","../../LoadingScreen.jsx","../../authService.js","../../useAuth.js","../../userService.js","../../StripeIntegration.jsx","../../ViralVideoGeneratorModal.jsx","../../aiSystemPrompts.js","../../aiApiService.js","../../AvatarCreator.jsx","../../CharacterEngine.jsx","../../WorldBuilder.jsx","../../StoryboardGenerator.jsx","../../StyleGenerator.jsx","../../jsonValidator.js","../../SceneExtender.jsx","../../ProFeaturesHub.jsx","../../LoadingButton.jsx","../../SceneBuilderChecklist.jsx","../../UniversalInput.jsx","../../analytics.js","../../TutorialOverlay.jsx","../../Toast.jsx","../../useToast.js","../../IntegratedHeader.jsx","../../App.jsx","../../main.jsx"],"sourcesContent":["/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","export const schema = {\n  \"categories\": [\n    {\n      \"id\": \"scene_description\",\n      \"label\": \"Scene Description\",\n      \"fields\": [\n        { \"key\": \"scene\", \"type\": \"textarea\", \"label\": \"Scene Description\" },\n        { \"key\": \"setting\", \"type\": \"select\", \"label\": \"Setting/Location\", \"options\": [\"indoor studio\", \"outdoor park\", \"city street\", \"beach\", \"forest\", \"mountains\", \"desert\", \"rooftop\", \"bedroom\", \"kitchen\", \"office\", \"restaurant\", \"cafe\", \"warehouse\", \"subway station\", \"shopping mall\", \"downtown plaza\", \"alley\", \"bridge\", \"parking garage\", \"lake\", \"waterfall\", \"cave\", \"meadow\", \"library\", \"gym\", \"concert hall\", \"stadium\", \"movie theater\", \"amusement park\", \"art museum\", \"nightclub\", \"arcade\", \"castle courtyard\", \"roman forum\", \"fjord\", \"medieval tavern\", \"pirate ship\", \"temple garden\", \"space station\", \"cyberpunk street\", \"alien planet\", \"laboratory\", \"robot factory\", \"time portal chamber\", \"underwater station\", \"floating islands\", \"mirror maze\", \"art studio\", \"home theater\", \"wine cellar\", \"greenhouse\", \"workshop\", \"dance studio\", \"reading nook\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"beach\": {\n            \"label\": \"Beach Details\",\n            \"fields\": [\n              { \"key\": \"beach_type\", \"type\": \"select\", \"label\": \"Beach Type\", \"options\": [\"tropical\", \"rocky coast\", \"sandy shore\", \"cliff beach\", \"secluded cove\", \"busy boardwalk\"] },\n              { \"key\": \"beach_features\", \"type\": \"text\", \"label\": \"Features\", \"placeholder\": \"e.g., palm trees, driftwood, rocks, pier\" },\n              { \"key\": \"beach_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the beach atmosphere, wave size, crowd level...\" }\n            ]\n          },\n          \"forest\": {\n            \"label\": \"Forest Details\",\n            \"fields\": [\n              { \"key\": \"forest_type\", \"type\": \"select\", \"label\": \"Forest Type\", \"options\": [\"dense woodland\", \"pine forest\", \"tropical rainforest\", \"autumn forest\", \"mystical forest\", \"bamboo grove\"] },\n              { \"key\": \"forest_lighting\", \"type\": \"select\", \"label\": \"Lighting\", \"options\": [\"dappled sunlight\", \"misty morning\", \"deep shadows\", \"golden rays\", \"moonlit clearing\"] },\n              { \"key\": \"forest_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the forest density, sounds, vegetation...\" }\n            ]\n          },\n          \"city street\": {\n            \"label\": \"City Street Details\",\n            \"fields\": [\n              { \"key\": \"street_type\", \"type\": \"select\", \"label\": \"Street Type\", \"options\": [\"busy downtown\", \"quiet residential\", \"shopping district\", \"industrial area\", \"alleyway\", \"pedestrian zone\"] },\n              { \"key\": \"street_activity\", \"type\": \"select\", \"label\": \"Activity Level\", \"options\": [\"crowded\", \"moderate traffic\", \"empty\", \"rush hour\", \"late night\", \"weekend bustle\"] },\n              { \"key\": \"street_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe architecture, signage, street life...\" }\n            ]\n          },\n          \"mountains\": {\n            \"label\": \"Mountain Details\",\n            \"fields\": [\n              { \"key\": \"mountain_type\", \"type\": \"select\", \"label\": \"Mountain Type\", \"options\": [\"snow-capped peaks\", \"rolling hills\", \"rocky cliffs\", \"alpine meadow\", \"valley vista\", \"mountain lake\"] },\n              { \"key\": \"mountain_weather\", \"type\": \"select\", \"label\": \"Weather\", \"options\": [\"clear skies\", \"misty clouds\", \"dramatic storm\", \"golden sunset\", \"fresh snow\"] },\n              { \"key\": \"mountain_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the mountain landscape, elevation, vegetation...\" }\n            ]\n          },\n          \"rooftop\": {\n            \"label\": \"Rooftop Details\",\n            \"fields\": [\n              { \"key\": \"rooftop_type\", \"type\": \"select\", \"label\": \"Rooftop Type\", \"options\": [\"urban skyline\", \"penthouse terrace\", \"industrial rooftop\", \"garden rooftop\", \"water tower access\", \"fire escape\"] },\n              { \"key\": \"rooftop_view\", \"type\": \"text\", \"label\": \"View\", \"placeholder\": \"e.g., city lights, sunset, ocean, mountains\" },\n              { \"key\": \"rooftop_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the rooftop setup, safety barriers, atmosphere...\" }\n            ]\n          }\n        } },\n        { \"key\": \"time_of_day\", \"type\": \"select\", \"label\": \"Time of Day\", \"options\": [\"morning\", \"afternoon\", \"sunset\", \"night\", \"golden hour\", \"blue hour\", \"dawn\", \"dusk\", \"noon\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"golden hour\": {\n            \"label\": \"Golden Hour Details\",\n            \"fields\": [\n              { \"key\": \"golden_timing\", \"type\": \"select\", \"label\": \"Timing\", \"options\": [\"early golden hour\", \"peak golden light\", \"late golden hour\", \"just before sunset\"] },\n              { \"key\": \"golden_intensity\", \"type\": \"select\", \"label\": \"Light Intensity\", \"options\": [\"soft warm glow\", \"brilliant golden\", \"deep amber\", \"honeyed light\"] },\n              { \"key\": \"golden_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the lighting quality, shadow length, atmosphere...\" }\n            ]\n          },\n          \"blue hour\": {\n            \"label\": \"Blue Hour Details\",\n            \"fields\": [\n              { \"key\": \"blue_phase\", \"type\": \"select\", \"label\": \"Blue Hour Phase\", \"options\": [\"early blue hour\", \"deep blue\", \"twilight transition\", \"near darkness\"] },\n              { \"key\": \"blue_lighting\", \"type\": \"select\", \"label\": \"Artificial Lighting\", \"options\": [\"city lights emerging\", \"street lamps on\", \"window glow\", \"neon signs\", \"minimal artificial\"] },\n              { \"key\": \"blue_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the blue tones, contrast with artificial lights...\" }\n            ]\n          },\n          \"sunset\": {\n            \"label\": \"Sunset Details\",\n            \"fields\": [\n              { \"key\": \"sunset_stage\", \"type\": \"select\", \"label\": \"Sunset Stage\", \"options\": [\"early sunset\", \"sun touching horizon\", \"sun half-set\", \"final rays\", \"afterglow\"] },\n              { \"key\": \"sunset_colors\", \"type\": \"text\", \"label\": \"Sky Colors\", \"placeholder\": \"e.g., orange, pink, purple, red gradients\" },\n              { \"key\": \"sunset_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the sky colors, cloud formations, lighting...\" }\n            ]\n          },\n          \"night\": {\n            \"label\": \"Night Details\",\n            \"fields\": [\n              { \"key\": \"night_type\", \"type\": \"select\", \"label\": \"Night Type\", \"options\": [\"clear starry night\", \"moonlit\", \"city night\", \"overcast night\", \"stormy night\", \"foggy night\"] },\n              { \"key\": \"night_lighting\", \"type\": \"select\", \"label\": \"Primary Lighting\", \"options\": [\"moonlight\", \"street lights\", \"neon signs\", \"car headlights\", \"window glow\", \"minimal lighting\"] },\n              { \"key\": \"night_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the darkness level, artificial lighting, mood...\" }\n            ]\n          },\n          \"dawn\": {\n            \"label\": \"Dawn Details\",\n            \"fields\": [\n              { \"key\": \"dawn_stage\", \"type\": \"select\", \"label\": \"Dawn Stage\", \"options\": [\"pre-dawn\", \"first light\", \"sunrise\", \"early morning\", \"full daylight\"] },\n              { \"key\": \"dawn_atmosphere\", \"type\": \"select\", \"label\": \"Atmosphere\", \"options\": [\"misty\", \"crisp and clear\", \"humid\", \"dewy\", \"foggy\"] },\n              { \"key\": \"dawn_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the emerging light, colors, freshness...\" }\n            ]\n          }\n        } },\n        { \"key\": \"environment\", \"type\": \"select\", \"label\": \"Environmental Details\", \"options\": [\"sunny\", \"cloudy\", \"rainy\", \"snowy\", \"foggy\", \"windy\", \"stormy\", \"misty\", \"humid\", \"dry\", \"hot\", \"cold\", \"dramatic sky\", \"clear sky\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"stormy\": {\n            \"label\": \"Storm Details\",\n            \"fields\": [\n              { \"key\": \"storm_intensity\", \"type\": \"select\", \"label\": \"Storm Intensity\", \"options\": [\"light storm\", \"moderate storm\", \"heavy storm\", \"severe thunderstorm\", \"approaching storm\"] },\n              { \"key\": \"storm_elements\", \"type\": \"text\", \"label\": \"Storm Elements\", \"placeholder\": \"e.g., lightning, heavy rain, wind, hail\" },\n              { \"key\": \"storm_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the storm atmosphere, sky color, dramatic effects...\" }\n            ]\n          },\n          \"foggy\": {\n            \"label\": \"Fog Details\",\n            \"fields\": [\n              { \"key\": \"fog_density\", \"type\": \"select\", \"label\": \"Fog Density\", \"options\": [\"light mist\", \"moderate fog\", \"thick fog\", \"dense fog\", \"patchy fog\"] },\n              { \"key\": \"fog_type\", \"type\": \"select\", \"label\": \"Fog Type\", \"options\": [\"morning mist\", \"sea fog\", \"ground fog\", \"radiation fog\", \"mystical fog\"] },\n              { \"key\": \"fog_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe visibility, mood, lighting effects through fog...\" }\n            ]\n          },\n          \"rainy\": {\n            \"label\": \"Rain Details\",\n            \"fields\": [\n              { \"key\": \"rain_intensity\", \"type\": \"select\", \"label\": \"Rain Intensity\", \"options\": [\"light drizzle\", \"steady rain\", \"heavy rain\", \"downpour\", \"scattered showers\"] },\n              { \"key\": \"rain_atmosphere\", \"type\": \"select\", \"label\": \"Atmosphere\", \"options\": [\"refreshing\", \"gloomy\", \"dramatic\", \"cozy\", \"melancholic\", \"cleansing\"] },\n              { \"key\": \"rain_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe puddles, reflections, sound, people's reactions...\" }\n            ]\n          },\n          \"snowy\": {\n            \"label\": \"Snow Details\",\n            \"fields\": [\n              { \"key\": \"snow_intensity\", \"type\": \"select\", \"label\": \"Snow Intensity\", \"options\": [\"light flurries\", \"steady snowfall\", \"heavy snow\", \"blizzard\", \"fresh powder\"] },\n              { \"key\": \"snow_condition\", \"type\": \"select\", \"label\": \"Snow Condition\", \"options\": [\"falling snow\", \"fresh snow on ground\", \"deep snow\", \"slushy snow\", \"ice and snow\"] },\n              { \"key\": \"snow_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe snow accumulation, winter atmosphere, visibility...\" }\n            ]\n          },\n          \"windy\": {\n            \"label\": \"Wind Details\",\n            \"fields\": [\n              { \"key\": \"wind_strength\", \"type\": \"select\", \"label\": \"Wind Strength\", \"options\": [\"gentle breeze\", \"moderate wind\", \"strong wind\", \"gusty wind\", \"gale force\"] },\n              { \"key\": \"wind_effects\", \"type\": \"text\", \"label\": \"Wind Effects\", \"placeholder\": \"e.g., leaves blowing, hair movement, clothing flutter\" },\n              { \"key\": \"wind_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the wind's impact on the scene, sound, movement...\" }\n            ]\n          },\n          \"dramatic sky\": {\n            \"label\": \"Dramatic Sky Details\",\n            \"fields\": [\n              { \"key\": \"sky_type\", \"type\": \"select\", \"label\": \"Sky Type\", \"options\": [\"dark storm clouds\", \"colorful sunset\", \"threatening clouds\", \"epic cloud formations\", \"otherworldly sky\"] },\n              { \"key\": \"sky_colors\", \"type\": \"text\", \"label\": \"Sky Colors\", \"placeholder\": \"e.g., deep purples, fiery oranges, ominous grays\" },\n              { \"key\": \"sky_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe cloud formations, lighting contrasts, drama...\" }\n            ]\n          }\n        } }\n      ]\n    },\n    {\n      \"id\": \"subjects\",\n      \"label\": \"Characters & People\",\n      \"fields\": [\n        { \"key\": \"characters\", \"type\": \"character_manager\", \"label\": \"Characters\" },\n        { \"key\": \"character_type\", \"type\": \"select\", \"label\": \"Character Type\", \"options\": [\"human\", \"animal\", \"robot\", \"stylized\", \"object\", \"creature\", \"custom...\"] },\n        { \"key\": \"character_name\", \"type\": \"text\", \"label\": \"Character Name\", \"placeholder\": \"e.g., Sarah, Marcus, Luna, etc.\" },\n        { \"key\": \"secondary_subjects\", \"type\": \"text\", \"label\": \"Secondary Subjects (comma-separated)\" },\n        { \"key\": \"number_of_subjects\", \"type\": \"number\", \"label\": \"Number of Subjects\" },\n        { \"key\": \"actions\", \"type\": \"select\", \"label\": \"Actions\", \"options\": [\"walking\", \"running\", \"dancing\", \"jumping\", \"sitting\", \"standing\", \"talking\", \"laughing\", \"crying\", \"singing\", \"working\", \"eating\", \"drinking\", \"sleeping\", \"fighting\", \"hugging\", \"waving\", \"pointing\", \"flying\", \"swimming\", \"programming\", \"creating\", \"performing\", \"teaching\", \"healing\", \"protecting\", \"exploring\", \"transforming\", \"glitching\", \"powering up\", \"casting spells\", \"driving\", \"cooking\", \"painting\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"dancing\": {\n            \"label\": \"Dance Details\",\n            \"fields\": [\n              { \"key\": \"dance_style\", \"type\": \"select\", \"label\": \"Dance Style\", \"options\": [\"ballet\", \"hip hop\", \"contemporary\", \"ballroom\", \"freestyle\", \"breakdancing\", \"salsa\", \"jazz\", \"folk dance\"] },\n              { \"key\": \"dance_energy\", \"type\": \"select\", \"label\": \"Energy Level\", \"options\": [\"graceful\", \"energetic\", \"passionate\", \"rhythmic\", \"expressive\", \"powerful\"] },\n              { \"key\": \"dance_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the dance movements, rhythm, expression...\" }\n            ]\n          },\n          \"fighting\": {\n            \"label\": \"Fighting Details\",\n            \"fields\": [\n              { \"key\": \"fight_style\", \"type\": \"select\", \"label\": \"Fighting Style\", \"options\": [\"martial arts\", \"boxing\", \"sword fighting\", \"hand-to-hand\", \"defensive\", \"aggressive\", \"magic combat\"] },\n              { \"key\": \"fight_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"sparring\", \"intense combat\", \"defensive stance\", \"all-out battle\", \"controlled\"] },\n              { \"key\": \"fight_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe combat style, weapons, defensive or offensive...\" }\n            ]\n          },\n          \"running\": {\n            \"label\": \"Running Details\",\n            \"fields\": [\n              { \"key\": \"running_style\", \"type\": \"select\", \"label\": \"Running Style\", \"options\": [\"jogging\", \"sprinting\", \"marathon pace\", \"casual run\", \"urgent escape\", \"athletic stride\"] },\n              { \"key\": \"running_context\", \"type\": \"select\", \"label\": \"Context\", \"options\": [\"exercise\", \"chase scene\", \"competitive race\", \"urgent mission\", \"playful\", \"training\"] },\n              { \"key\": \"running_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe pace, breathing, determination, purpose...\" }\n            ]\n          },\n          \"performing\": {\n            \"label\": \"Performance Details\",\n            \"fields\": [\n              { \"key\": \"performance_type\", \"type\": \"select\", \"label\": \"Performance Type\", \"options\": [\"singing\", \"acting\", \"magic show\", \"comedy\", \"music\", \"poetry\", \"storytelling\"] },\n              { \"key\": \"performance_stage\", \"type\": \"select\", \"label\": \"Setting\", \"options\": [\"stage\", \"street performance\", \"intimate venue\", \"grand theater\", \"casual setting\"] },\n              { \"key\": \"performance_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the performance style, audience, energy...\" }\n            ]\n          },\n          \"creating\": {\n            \"label\": \"Creative Details\",\n            \"fields\": [\n              { \"key\": \"creation_type\", \"type\": \"select\", \"label\": \"Creative Activity\", \"options\": [\"painting\", \"sculpting\", \"writing\", \"crafting\", \"building\", \"designing\", \"composing\"] },\n              { \"key\": \"creation_focus\", \"type\": \"select\", \"label\": \"Focus Level\", \"options\": [\"deeply concentrated\", \"inspired flow\", \"careful precision\", \"experimental\", \"passionate\"] },\n              { \"key\": \"creation_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the creative process, tools, inspiration...\" }\n            ]\n          }\n        } },\n        { \"key\": \"emotions\", \"type\": \"select\", \"label\": \"Emotions/Mood\", \"options\": [\"happy\", \"sad\", \"angry\", \"surprised\", \"excited\", \"calm\", \"nervous\", \"confident\", \"thoughtful\", \"playful\", \"serious\", \"romantic\", \"mysterious\", \"determined\", \"frustrated\", \"joyful\", \"curious\", \"wise\", \"innocent\", \"mischievous\", \"heroic\", \"villainous\", \"confused\", \"enlightened\", \"protective\", \"friendly\", \"fierce\", \"gentle\", \"majestic\", \"quirky\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"mysterious\": {\n            \"label\": \"Mysterious Emotion Details\",\n            \"fields\": [\n              { \"key\": \"mystery_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"subtly enigmatic\", \"deeply mysterious\", \"intriguingly secretive\", \"ominously mysterious\", \"playfully mysterious\"] },\n              { \"key\": \"mystery_expression\", \"type\": \"select\", \"label\": \"Expression\", \"options\": [\"knowing smile\", \"distant gaze\", \"raised eyebrow\", \"half-hidden face\", \"piercing stare\"] },\n              { \"key\": \"mystery_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the mysterious aura, body language, hidden knowledge...\" }\n            ]\n          },\n          \"confident\": {\n            \"label\": \"Confidence Details\",\n            \"fields\": [\n              { \"key\": \"confidence_type\", \"type\": \"select\", \"label\": \"Confidence Type\", \"options\": [\"quiet confidence\", \"bold confidence\", \"natural assurance\", \"commanding presence\", \"self-assured\"] },\n              { \"key\": \"confidence_posture\", \"type\": \"select\", \"label\": \"Posture\", \"options\": [\"straight shoulders\", \"head held high\", \"relaxed stance\", \"authoritative pose\", \"graceful bearing\"] },\n              { \"key\": \"confidence_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the confident energy, presence, self-assurance...\" }\n            ]\n          },\n          \"romantic\": {\n            \"label\": \"Romantic Emotion Details\",\n            \"fields\": [\n              { \"key\": \"romance_type\", \"type\": \"select\", \"label\": \"Romance Type\", \"options\": [\"tender love\", \"passionate romance\", \"sweet affection\", \"deep devotion\", \"playful flirtation\"] },\n              { \"key\": \"romance_expression\", \"type\": \"select\", \"label\": \"Expression\", \"options\": [\"loving gaze\", \"gentle smile\", \"blushing\", \"soft touch\", \"dreamy look\"] },\n              { \"key\": \"romance_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the romantic feelings, tenderness, connection...\" }\n            ]\n          },\n          \"determined\": {\n            \"label\": \"Determination Details\", \n            \"fields\": [\n              { \"key\": \"determination_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"quietly determined\", \"fiercely determined\", \"unwavering resolve\", \"gritty determination\", \"focused drive\"] },\n              { \"key\": \"determination_focus\", \"type\": \"select\", \"label\": \"Focus\", \"options\": [\"goal-oriented\", \"obstacle-overcoming\", \"mission-driven\", \"challenge-facing\", \"future-focused\"] },\n              { \"key\": \"determination_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the determination, willpower, inner strength...\" }\n            ]\n          },\n          \"heroic\": {\n            \"label\": \"Heroic Emotion Details\",\n            \"fields\": [\n              { \"key\": \"heroic_type\", \"type\": \"select\", \"label\": \"Heroic Type\", \"options\": [\"noble hero\", \"reluctant hero\", \"brave protector\", \"selfless savior\", \"inspiring leader\"] },\n              { \"key\": \"heroic_stance\", \"type\": \"select\", \"label\": \"Stance\", \"options\": [\"protective pose\", \"ready for action\", \"inspiring presence\", \"humble strength\", \"courageous bearing\"] },\n              { \"key\": \"heroic_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the heroic spirit, courage, selflessness...\" }\n            ]\n          }\n        } }\n      ]\n    },\n    {\n      \"id\": \"character_details\",\n      \"label\": \"Character Details\",\n      \"fields\": [\n        { \"key\": \"gender\", \"type\": \"select\", \"label\": \"Gender\", \"options\": [\"male\", \"female\", \"non-binary\", \"unspecified\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"] },\n        { \"key\": \"age_range\", \"type\": \"select\", \"label\": \"Age Range\", \"options\": [\"infant\", \"toddler\", \"child (5-10)\", \"preteen (11-13)\", \"teenager (14-17)\", \"young adult (18-25)\", \"adult (26-40)\", \"middle-aged (41-60)\", \"elderly (60+)\", \"ancient (80+)\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"] },\n        { \"key\": \"ethnicity\", \"type\": \"select\", \"label\": \"Ethnicity\", \"options\": [\"caucasian\", \"african\", \"asian\", \"hispanic/latino\", \"middle eastern\", \"native american\", \"pacific islander\", \"indian\", \"mixed race\", \"ambiguous ethnicity\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"] },\n        { \"key\": \"body_type\", \"type\": \"select\", \"label\": \"Body Type\", \"options\": [\"slim\", \"athletic\", \"average\", \"curvy\", \"muscular\", \"stocky\", \"plus-size\", \"petite\", \"tall\", \"lanky\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"], \"allowDetails\": true, \"detailConfig\": {\n          \"athletic\": {\n            \"label\": \"Athletic Body Details\",\n            \"fields\": [\n              { \"key\": \"athletic_type\", \"type\": \"select\", \"label\": \"Athletic Type\", \"options\": [\"runner's build\", \"swimmer's build\", \"gymnast\", \"dancer\", \"martial artist\", \"general fitness\"] },\n              { \"key\": \"athletic_definition\", \"type\": \"select\", \"label\": \"Muscle Definition\", \"options\": [\"toned\", \"defined\", \"lean muscle\", \"well-developed\", \"subtle definition\"] },\n              { \"key\": \"athletic_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe posture, fitness level, specific athletic traits...\" }\n            ]\n          },\n          \"muscular\": {\n            \"label\": \"Muscular Body Details\", \n            \"fields\": [\n              { \"key\": \"muscle_type\", \"type\": \"select\", \"label\": \"Muscle Type\", \"options\": [\"bodybuilder\", \"powerlifter\", \"functional strength\", \"lean muscle\", \"bulky muscle\"] },\n              { \"key\": \"muscle_size\", \"type\": \"select\", \"label\": \"Muscle Size\", \"options\": [\"moderately muscular\", \"very muscular\", \"extremely muscular\", \"naturally strong\", \"lean and strong\"] },\n              { \"key\": \"muscle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe muscle development, symmetry, overall physique...\" }\n            ]\n          },\n          \"curvy\": {\n            \"label\": \"Curvy Body Details\",\n            \"fields\": [\n              { \"key\": \"curve_type\", \"type\": \"select\", \"label\": \"Body Shape\", \"options\": [\"hourglass\", \"pear shape\", \"apple shape\", \"full figure\", \"classic curves\"] },\n              { \"key\": \"curve_proportion\", \"type\": \"select\", \"label\": \"Proportions\", \"options\": [\"balanced curves\", \"bottom heavy\", \"top heavy\", \"full curves\", \"subtle curves\"] },\n              { \"key\": \"curve_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe body proportions, confidence, natural beauty...\" }\n            ]\n          },\n          \"petite\": {\n            \"label\": \"Petite Body Details\",\n            \"fields\": [\n              { \"key\": \"petite_build\", \"type\": \"select\", \"label\": \"Build Type\", \"options\": [\"delicate frame\", \"compact\", \"small but strong\", \"graceful\", \"fine-boned\"] },\n              { \"key\": \"petite_proportions\", \"type\": \"select\", \"label\": \"Proportions\", \"options\": [\"well-proportioned\", \"long-limbed\", \"compact build\", \"balanced\", \"elegant\"] },\n              { \"key\": \"petite_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe stature, elegance, presence...\" }\n            ]\n          }\n        } },\n        { \"key\": \"hair_color\", \"type\": \"select\", \"label\": \"Hair Color\", \"options\": [\"blonde\", \"brown\", \"black\", \"red\", \"gray\", \"white\", \"silver\", \"auburn\", \"strawberry blonde\", \"dirty blonde\", \"platinum\", \"rainbow\", \"blue\", \"pink\", \"green\", \"purple\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"], \"allowDetails\": true, \"detailConfig\": {\n          \"rainbow\": {\n            \"label\": \"Rainbow Hair Details\",\n            \"fields\": [\n              { \"key\": \"rainbow_pattern\", \"type\": \"select\", \"label\": \"Color Pattern\", \"options\": [\"traditional rainbow\", \"pastel rainbow\", \"ombre rainbow\", \"rainbow streaks\", \"rainbow tips\"] },\n              { \"key\": \"rainbow_colors\", \"type\": \"text\", \"label\": \"Specific Colors\", \"placeholder\": \"e.g., pink, blue, purple, green\" },\n              { \"key\": \"rainbow_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the color transitions, vibrancy, styling...\" }\n            ]\n          },\n          \"red\": {\n            \"label\": \"Red Hair Details\",\n            \"fields\": [\n              { \"key\": \"red_shade\", \"type\": \"select\", \"label\": \"Red Shade\", \"options\": [\"copper red\", \"auburn\", \"strawberry blonde\", \"deep burgundy\", \"bright red\", \"ginger\"] },\n              { \"key\": \"red_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"natural\", \"vibrant\", \"subtle\", \"bold\", \"fiery\"] },\n              { \"key\": \"red_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the red tone, natural or dyed, shine...\" }\n            ]\n          },\n          \"blonde\": {\n            \"label\": \"Blonde Hair Details\",\n            \"fields\": [\n              { \"key\": \"blonde_shade\", \"type\": \"select\", \"label\": \"Blonde Shade\", \"options\": [\"platinum blonde\", \"golden blonde\", \"honey blonde\", \"ash blonde\", \"dirty blonde\", \"strawberry blonde\"] },\n              { \"key\": \"blonde_highlights\", \"type\": \"select\", \"label\": \"Highlights\", \"options\": [\"no highlights\", \"subtle highlights\", \"chunky highlights\", \"balayage\", \"ombre\"] },\n              { \"key\": \"blonde_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the blonde tone, processing, natural look...\" }\n            ]\n          },\n          \"blue\": {\n            \"label\": \"Blue Hair Details\", \n            \"fields\": [\n              { \"key\": \"blue_shade\", \"type\": \"select\", \"label\": \"Blue Shade\", \"options\": [\"electric blue\", \"navy blue\", \"teal\", \"sky blue\", \"midnight blue\", \"pastel blue\"] },\n              { \"key\": \"blue_coverage\", \"type\": \"select\", \"label\": \"Coverage\", \"options\": [\"full head\", \"tips only\", \"streaks\", \"underneath layer\", \"ombre\"] },\n              { \"key\": \"blue_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the blue intensity, fade, styling...\" }\n            ]\n          }\n        } },\n        { \"key\": \"hair_style\", \"type\": \"select\", \"label\": \"Hair Style\", \"options\": [\"long straight\", \"long curly\", \"short\", \"buzz cut\", \"bob\", \"pixie cut\", \"braids\", \"ponytail\", \"messy\", \"afro\", \"dreadlocks\", \"bald\", \"mohawk\", \"man bun\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"], \"allowDetails\": true, \"detailConfig\": {\n          \"braids\": {\n            \"label\": \"Braid Details\",\n            \"fields\": [\n              { \"key\": \"braid_type\", \"type\": \"select\", \"label\": \"Braid Type\", \"options\": [\"single braid\", \"twin braids\", \"french braid\", \"dutch braid\", \"fishtail braid\", \"crown braid\"] },\n              { \"key\": \"braid_length\", \"type\": \"select\", \"label\": \"Length\", \"options\": [\"shoulder length\", \"mid-back\", \"waist length\", \"short braids\"] },\n              { \"key\": \"braid_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe braid styling, accessories, texture...\" }\n            ]\n          },\n          \"long curly\": {\n            \"label\": \"Curly Hair Details\",\n            \"fields\": [\n              { \"key\": \"curl_pattern\", \"type\": \"select\", \"label\": \"Curl Pattern\", \"options\": [\"loose waves\", \"spiral curls\", \"tight curls\", \"ringlets\", \"beach waves\", \"natural texture\"] },\n              { \"key\": \"curl_volume\", \"type\": \"select\", \"label\": \"Volume\", \"options\": [\"voluminous\", \"controlled\", \"wild and free\", \"sleek curls\", \"bouncy\"] },\n              { \"key\": \"curl_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe curl definition, shine, movement...\" }\n            ]\n          },\n          \"ponytail\": {\n            \"label\": \"Ponytail Details\", \n            \"fields\": [\n              { \"key\": \"ponytail_height\", \"type\": \"select\", \"label\": \"Height\", \"options\": [\"high ponytail\", \"mid ponytail\", \"low ponytail\", \"side ponytail\"] },\n              { \"key\": \"ponytail_style\", \"type\": \"select\", \"label\": \"Style\", \"options\": [\"sleek\", \"messy\", \"braided ponytail\", \"twisted\", \"voluminous\"] },\n              { \"key\": \"ponytail_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe ponytail styling, accessories, texture...\" }\n            ]\n          },\n          \"afro\": {\n            \"label\": \"Afro Details\",\n            \"fields\": [\n              { \"key\": \"afro_size\", \"type\": \"select\", \"label\": \"Size\", \"options\": [\"small afro\", \"medium afro\", \"large afro\", \"shaped afro\", \"natural afro\"] },\n              { \"key\": \"afro_texture\", \"type\": \"select\", \"label\": \"Texture\", \"options\": [\"soft and fluffy\", \"defined texture\", \"dense\", \"voluminous\", \"natural texture\"] },\n              { \"key\": \"afro_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe afro shape, definition, natural beauty...\" }\n            ]\n          }\n        } },\n        { \"key\": \"eye_color\", \"type\": \"select\", \"label\": \"Eye Color\", \"options\": [\"brown\", \"blue\", \"green\", \"hazel\", \"gray\", \"amber\", \"violet\", \"heterochromia\", \"black\", \"light blue\", \"dark brown\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"] },\n        { \"key\": \"skin_tone\", \"type\": \"select\", \"label\": \"Skin Tone\", \"options\": [\"pale\", \"fair\", \"light\", \"medium\", \"olive\", \"tan\", \"dark\", \"deep\", \"porcelain\", \"bronze\", \"ebony\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"] },\n        { \"key\": \"distinguishing_features\", \"type\": \"select\", \"label\": \"Distinguishing Features\", \"options\": [\"freckles\", \"dimples\", \"scars\", \"tattoos\", \"piercings\", \"birthmarks\", \"glasses\", \"beard\", \"mustache\", \"clean-shaven\", \"none\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"human\", \"stylized\"], \"allowDetails\": true, \"detailConfig\": {\n          \"tattoos\": {\n            \"label\": \"Tattoo Details\",\n            \"fields\": [\n              { \"key\": \"tattoo_style\", \"type\": \"select\", \"label\": \"Style\", \"options\": [\"tribal\", \"realistic\", \"traditional\", \"geometric\", \"watercolor\", \"minimalist\", \"japanese\", \"american traditional\"] },\n              { \"key\": \"tattoo_location\", \"type\": \"text\", \"label\": \"Location\", \"placeholder\": \"e.g., left arm, chest, back\" },\n              { \"key\": \"tattoo_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the tattoo design, colors, size...\" }\n            ]\n          },\n          \"scars\": {\n            \"label\": \"Scar Details\", \n            \"fields\": [\n              { \"key\": \"scar_type\", \"type\": \"select\", \"label\": \"Type\", \"options\": [\"surgical\", \"battle\", \"accident\", \"burn\", \"claw marks\"] },\n              { \"key\": \"scar_location\", \"type\": \"text\", \"label\": \"Location\", \"placeholder\": \"e.g., across face, on hand\" },\n              { \"key\": \"scar_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the scars...\" }\n            ]\n          },\n          \"piercings\": {\n            \"label\": \"Piercing Details\",\n            \"fields\": [\n              { \"key\": \"piercing_type\", \"type\": \"select\", \"label\": \"Type\", \"options\": [\"ear\", \"nose\", \"eyebrow\", \"lip\", \"tongue\", \"multiple\"] },\n              { \"key\": \"piercing_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the piercings, jewelry style...\" }\n            ]\n          }\n        } },\n        { \"key\": \"animal_species\", \"type\": \"select\", \"label\": \"Animal Species\", \"options\": [\"domestic cat\", \"domestic dog\", \"wild lion\", \"tiger\", \"leopard\", \"bear\", \"wolf\", \"fox\", \"bird\", \"eagle\", \"owl\", \"fish\", \"horse\", \"elephant\", \"monkey\", \"dragon\", \"unicorn\", \"phoenix\", \"griffin\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"animal\"] },\n        { \"key\": \"animal_color\", \"type\": \"select\", \"label\": \"Animal Color\", \"options\": [\"black\", \"white\", \"brown\", \"gray\", \"orange\", \"golden\", \"silver\", \"red\", \"multicolored\", \"striped\", \"spotted\", \"rainbow\", \"magical colors\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"animal\"] },\n        { \"key\": \"robot_style\", \"type\": \"select\", \"label\": \"Robot Style\", \"options\": [\"humanoid android\", \"mechanical robot\", \"AI assistant\", \"cyborg\", \"hologram\", \"futuristic AI\", \"steampunk robot\", \"battle mech\", \"companion bot\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"robot\"] },\n        { \"key\": \"robot_material\", \"type\": \"select\", \"label\": \"Robot Material\", \"options\": [\"metallic chrome\", \"matte black\", \"white plastic\", \"carbon fiber\", \"translucent\", \"holographic\", \"rusted metal\", \"steampunk brass\", \"energy-based\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"robot\"] },\n        { \"key\": \"stylized_style\", \"type\": \"select\", \"label\": \"Animation Style\", \"options\": [\"pixar style\", \"anime character\", \"disney style\", \"cartoon network\", \"studio ghibli\", \"comic book\", \"video game\", \"claymation\", \"manga style\", \"chibi\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"stylized\"] },\n        { \"key\": \"object_type\", \"type\": \"select\", \"label\": \"Object Type\", \"options\": [\n          // VEHICLES & TRANSPORTATION\n          \"car\", \"truck\", \"motorcycle\", \"bicycle\", \"scooter\", \"skateboard\", \"boat\", \"ship\", \"submarine\", \"yacht\", \"sailboat\", \"airplane\", \"helicopter\", \"drone\", \"train\", \"bus\", \"taxi\", \"ambulance\", \"fire truck\", \"police car\", \"sports car\", \"van\", \"spacecraft\", \"rocket\",\n          \n          // BUILDINGS & ARCHITECTURE  \n          \"house\", \"apartment\", \"mansion\", \"cottage\", \"castle\", \"palace\", \"church\", \"cathedral\", \"temple\", \"school\", \"university\", \"library\", \"hospital\", \"office building\", \"skyscraper\", \"warehouse\", \"factory\", \"barn\", \"lighthouse\", \"tower\", \"bridge\", \"monument\", \"statue\", \"fountain\", \"stadium\", \"theater\", \"restaurant\", \"cafe\", \"hotel\", \"shopping mall\", \"store\",\n          \n          // HOUSEHOLD OBJECTS\n          \"chair\", \"table\", \"sofa\", \"bed\", \"dresser\", \"bookshelf\", \"desk\", \"lamp\", \"mirror\", \"clock\", \"vase\", \"television\", \"computer\", \"laptop\", \"smartphone\", \"refrigerator\", \"stove\", \"microwave\", \"washing machine\", \"vacuum cleaner\", \"toaster\", \"coffee maker\", \"plate\", \"cup\", \"mug\", \"spoon\", \"fork\", \"knife\", \"keys\", \"wallet\", \"backpack\", \"umbrella\", \"sunglasses\", \"watch\", \"jewelry\",\n          \n          // MUSICAL INSTRUMENTS\n          \"piano\", \"guitar\", \"violin\", \"drums\", \"trumpet\", \"saxophone\", \"flute\", \"harmonica\", \"microphone\", \"speaker\", \"headphones\",\n          \n          // TOOLS & EQUIPMENT\n          \"hammer\", \"screwdriver\", \"wrench\", \"saw\", \"drill\", \"ladder\", \"flashlight\", \"camera\", \"telescope\", \"microscope\", \"calculator\", \"pen\", \"pencil\", \"paintbrush\", \"scissors\", \"knife\",\n          \n          // TECHNOLOGY & GADGETS\n          \"robot\", \"smartphone\", \"tablet\", \"computer\", \"gaming console\", \"virtual reality headset\", \"smart watch\", \"drone\", \"3D printer\", \"solar panel\", \"battery\", \"circuit board\",\n          \n          // NATURE & ORGANIC\n          \"tree\", \"flower\", \"plant\", \"rock\", \"stone\", \"crystal\", \"gem\", \"shell\", \"feather\", \"leaf\", \"fruit\", \"vegetable\", \"mushroom\", \"cloud\", \"lightning\", \"fire\", \"ice\", \"snow\",\n          \n          // FANTASY & MAGICAL\n          \"magic wand\", \"crystal ball\", \"spell book\", \"potion bottle\", \"magical sword\", \"enchanted armor\", \"treasure chest\", \"dragon egg\", \"unicorn horn\", \"fairy dust\", \"magic ring\", \"portal\", \"altar\", \"crown\", \"staff\", \"orb\",\n          \n          \"custom...\"\n        ], \"dependency\": \"character_type\", \"dependsOn\": [\"object\"], \"allowDetails\": true, \"detailConfig\": {\n          \"car\": {\n            \"label\": \"Car Details\",\n            \"fields\": [\n              { \"key\": \"car_type\", \"type\": \"select\", \"label\": \"Car Type\", \"options\": [\"sedan\", \"SUV\", \"sports car\", \"convertible\", \"hatchback\", \"truck\", \"van\", \"electric car\", \"vintage car\", \"race car\"] },\n              { \"key\": \"car_color\", \"type\": \"select\", \"label\": \"Color\", \"options\": [\"red\", \"blue\", \"black\", \"white\", \"silver\", \"green\", \"yellow\", \"purple\", \"orange\", \"pink\"] },\n              { \"key\": \"car_condition\", \"type\": \"select\", \"label\": \"Condition\", \"options\": [\"brand new\", \"well-maintained\", \"slightly worn\", \"rusty\", \"damaged\", \"vintage restored\"] },\n              { \"key\": \"car_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the car's appearance, features, style...\" }\n            ]\n          },\n          \"skyscraper\": {\n            \"label\": \"Skyscraper Details\",\n            \"fields\": [\n              { \"key\": \"building_height\", \"type\": \"select\", \"label\": \"Height\", \"options\": [\"20-30 floors\", \"30-50 floors\", \"50-80 floors\", \"80+ floors\", \"supertall\"] },\n              { \"key\": \"building_style\", \"type\": \"select\", \"label\": \"Architectural Style\", \"options\": [\"modern glass\", \"art deco\", \"brutalist\", \"neoclassical\", \"futuristic\", \"mixed use\"] },\n              { \"key\": \"building_condition\", \"type\": \"select\", \"label\": \"Condition\", \"options\": [\"newly built\", \"well-maintained\", \"aging\", \"under construction\", \"abandoned\", \"being demolished\"] },\n              { \"key\": \"building_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the building's appearance, features, surroundings...\" }\n            ]\n          },\n          \"magic wand\": {\n            \"label\": \"Magic Wand Details\",\n            \"fields\": [\n              { \"key\": \"wand_material\", \"type\": \"select\", \"label\": \"Material\", \"options\": [\"oak wood\", \"cherry wood\", \"holly\", \"crystal\", \"metal\", \"bone\", \"enchanted wood\"] },\n              { \"key\": \"wand_core\", \"type\": \"select\", \"label\": \"Core\", \"options\": [\"phoenix feather\", \"dragon heartstring\", \"unicorn hair\", \"crystal shard\", \"star fragment\", \"ancient rune\"] },\n              { \"key\": \"wand_length\", \"type\": \"select\", \"label\": \"Length\", \"options\": [\"short (6-8 inches)\", \"standard (9-12 inches)\", \"long (13-15 inches)\", \"staff-length\"] },\n              { \"key\": \"wand_power\", \"type\": \"text\", \"label\": \"Magical Properties\", \"placeholder\": \"e.g., fire magic, healing, teleportation, illusion\" },\n              { \"key\": \"wand_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the wand's appearance, engravings, magical aura...\" }\n            ]\n          }\n        }, \"dependency\": \"character_type\", \"dependsOn\": [\"object\"] },\n        { \"key\": \"creature_type\", \"type\": \"select\", \"label\": \"Creature Type\", \"options\": [\"mythical\", \"sci-fi\", \"fantasy\", \"supernatural\", \"custom...\"], \"dependency\": \"character_type\", \"dependsOn\": [\"creature\"], \"allowDetails\": true, \"detailConfig\": {\n          \"mythical\": {\n            \"label\": \"Mythical Creature Details\",\n            \"fields\": [\n              { \"key\": \"mythical_species\", \"type\": \"select\", \"label\": \"Species\", \"options\": [\"sasquatch/bigfoot\", \"unicorn\", \"dragon\", \"phoenix\", \"griffin\", \"pegasus\", \"centaur\", \"minotaur\", \"sphinx\", \"kraken\", \"sea serpent\", \"thunderbird\", \"chupacabra\", \"yeti\"] },\n              { \"key\": \"mythical_size\", \"type\": \"select\", \"label\": \"Size\", \"options\": [\"tiny\", \"small\", \"human-sized\", \"large\", \"giant\", \"colossal\"] },\n              { \"key\": \"mythical_powers\", \"type\": \"text\", \"label\": \"Special Powers\", \"placeholder\": \"e.g., flight, fire breathing, healing magic, invisibility\" },\n              { \"key\": \"mythical_appearance\", \"type\": \"textarea\", \"label\": \"Appearance Details\", \"placeholder\": \"Describe coloring, features, magical elements...\" }\n            ]\n          },\n          \"sci-fi\": {\n            \"label\": \"Sci-Fi Creature Details\",\n            \"fields\": [\n              { \"key\": \"scifi_species\", \"type\": \"select\", \"label\": \"Species\", \"options\": [\"storm trooper\", \"alien (gray)\", \"alien (reptilian)\", \"cyborg\", \"mutant\", \"android\", \"space marine\", \"genetically enhanced\", \"alien warrior\", \"bio-mechanical hybrid\", \"energy being\", \"synthetic life\"] },\n              { \"key\": \"scifi_origin\", \"type\": \"select\", \"label\": \"Origin\", \"options\": [\"galactic empire\", \"rebel alliance\", \"alien planet\", \"laboratory experiment\", \"future earth\", \"parallel dimension\", \"space station\", \"crashed ship\"] },\n              { \"key\": \"scifi_tech\", \"type\": \"text\", \"label\": \"Technology/Weapons\", \"placeholder\": \"e.g., blaster, energy sword, plasma cannon, force powers\" },\n              { \"key\": \"scifi_appearance\", \"type\": \"textarea\", \"label\": \"Appearance Details\", \"placeholder\": \"Describe armor, cybernetics, alien features...\" }\n            ]\n          },\n          \"fantasy\": {\n            \"label\": \"Fantasy Creature Details\",\n            \"fields\": [\n              { \"key\": \"fantasy_species\", \"type\": \"select\", \"label\": \"Species\", \"options\": [\"elf\", \"dwarf\", \"orc\", \"goblin\", \"troll\", \"ogre\", \"hobbit/halfling\", \"tiefling\", \"dragonborn\", \"fairy\", \"pixie\", \"gnome\", \"drow\", \"wood elf\", \"dark elf\", \"high elf\"] },\n              { \"key\": \"fantasy_culture\", \"type\": \"select\", \"label\": \"Culture/Clan\", \"options\": [\"forest dweller\", \"mountain clan\", \"underground society\", \"noble court\", \"warrior tribe\", \"magical academy\", \"ancient civilization\", \"nomadic group\"] },\n              { \"key\": \"fantasy_abilities\", \"type\": \"text\", \"label\": \"Abilities/Magic\", \"placeholder\": \"e.g., archery mastery, earth magic, berserker rage, stealth\" },\n              { \"key\": \"fantasy_appearance\", \"type\": \"textarea\", \"label\": \"Appearance Details\", \"placeholder\": \"Describe ears, height, build, magical markings...\" }\n            ]\n          },\n          \"supernatural\": {\n            \"label\": \"Supernatural Creature Details\",\n            \"fields\": [\n              { \"key\": \"supernatural_species\", \"type\": \"select\", \"label\": \"Species\", \"options\": [\"vampire\", \"werewolf\", \"ghost\", \"demon\", \"angel\", \"banshee\", \"poltergeist\", \"shadow being\", \"spirit\", \"wraith\", \"incubus/succubus\", \"reaper\", \"djinn/genie\", \"mummy\"] },\n              { \"key\": \"supernatural_age\", \"type\": \"select\", \"label\": \"Age\", \"options\": [\"newly turned\", \"decades old\", \"centuries old\", \"ancient\", \"immortal\", \"ageless\", \"recently deceased\"] },\n              { \"key\": \"supernatural_powers\", \"type\": \"text\", \"label\": \"Supernatural Powers\", \"placeholder\": \"e.g., shape shifting, mind control, telekinesis, phasing\" },\n              { \"key\": \"supernatural_weakness\", \"type\": \"text\", \"label\": \"Weaknesses\", \"placeholder\": \"e.g., silver, holy water, sunlight, iron\" },\n              { \"key\": \"supernatural_appearance\", \"type\": \"textarea\", \"label\": \"Appearance Details\", \"placeholder\": \"Describe ethereal qualities, transformations, aura...\" }\n            ]\n          }\n        } },\n        { \"key\": \"clothing\", \"type\": \"select\", \"label\": \"Clothing/Costume\", \"options\": [\"casual wear\", \"formal wear\", \"business attire\", \"sportswear\", \"vintage clothing\", \"futuristic outfit\", \"historical costume\", \"uniform\", \"traditional dress\", \"swimwear\", \"winter coat\", \"summer dress\", \"fantasy armor\", \"sci-fi suit\", \"robot chassis\", \"mechanical parts\", \"holographic projection\", \"anime outfit\", \"cartoon style\", \"pixar clothing\", \"magical garments\", \"no clothing\", \"natural fur/skin\", \"scales/feathers\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"casual wear\": {\n            \"label\": \"Casual Wear Details\",\n            \"fields\": [\n              { \"key\": \"shirt_type\", \"type\": \"select\", \"label\": \"Shirt/Top\", \"options\": [\"t-shirt\", \"tank top\", \"hoodie\", \"sweatshirt\", \"button-down shirt\", \"blouse\", \"cardigan\", \"crop top\", \"long sleeve\", \"flannel\", \"polo shirt\", \"henley\"] },\n              { \"key\": \"shirt_color\", \"type\": \"select\", \"label\": \"Top Color\", \"options\": [\"white\", \"black\", \"gray\", \"blue\", \"red\", \"green\", \"yellow\", \"purple\", \"pink\", \"orange\", \"navy\", \"maroon\", \"striped\", \"plaid\", \"graphic print\"] },\n              { \"key\": \"shirt_fit\", \"type\": \"select\", \"label\": \"Top Fit\", \"options\": [\"fitted\", \"loose\", \"oversized\", \"slim fit\", \"regular fit\", \"baggy\", \"tailored\"] },\n              { \"key\": \"pants_type\", \"type\": \"select\", \"label\": \"Bottoms\", \"options\": [\"jeans\", \"shorts\", \"sweatpants\", \"leggings\", \"joggers\", \"khakis\", \"cargo pants\", \"athletic shorts\", \"denim shorts\", \"track pants\", \"yoga pants\"] },\n              { \"key\": \"pants_color\", \"type\": \"select\", \"label\": \"Bottoms Color\", \"options\": [\"blue denim\", \"black\", \"gray\", \"khaki\", \"white\", \"navy\", \"brown\", \"dark wash\", \"light wash\", \"faded\", \"ripped\"] },\n              { \"key\": \"shoes_type\", \"type\": \"select\", \"label\": \"Footwear\", \"options\": [\"sneakers\", \"sandals\", \"flip-flops\", \"boots\", \"loafers\", \"canvas shoes\", \"running shoes\", \"high-tops\", \"slip-ons\", \"barefoot\"] },\n              { \"key\": \"accessories\", \"type\": \"text\", \"label\": \"Accessories\", \"placeholder\": \"e.g., baseball cap, backpack, watch, sunglasses\" },\n              { \"key\": \"style_description\", \"type\": \"textarea\", \"label\": \"Overall Style\", \"placeholder\": \"Describe the casual look, condition, style vibe...\" }\n            ]\n          },\n          \"formal wear\": {\n            \"label\": \"Formal Wear Details\", \n            \"fields\": [\n              { \"key\": \"formal_type\", \"type\": \"select\", \"label\": \"Formal Type\", \"options\": [\"business suit\", \"evening gown\", \"cocktail dress\", \"tuxedo\", \"formal dress\", \"blazer combo\", \"three-piece suit\", \"black tie\", \"white tie\"] },\n              { \"key\": \"suit_color\", \"type\": \"select\", \"label\": \"Color\", \"options\": [\"black\", \"navy\", \"charcoal\", \"gray\", \"burgundy\", \"midnight blue\", \"white\", \"cream\", \"silver\", \"pinstripe\"] },\n              { \"key\": \"fabric_type\", \"type\": \"select\", \"label\": \"Fabric\", \"options\": [\"wool\", \"silk\", \"satin\", \"velvet\", \"cotton\", \"linen\", \"cashmere\", \"polyester blend\", \"tweed\"] },\n              { \"key\": \"formal_shoes\", \"type\": \"select\", \"label\": \"Formal Footwear\", \"options\": [\"dress shoes\", \"high heels\", \"oxfords\", \"loafers\", \"pumps\", \"stilettos\", \"dress boots\", \"patent leather\", \"suede\"] },\n              { \"key\": \"formal_accessories\", \"type\": \"text\", \"label\": \"Formal Accessories\", \"placeholder\": \"e.g., tie, bow tie, jewelry, cufflinks, pocket square\" },\n              { \"key\": \"formal_description\", \"type\": \"textarea\", \"label\": \"Formal Style\", \"placeholder\": \"Describe the formal attire, elegance level, occasion...\" }\n            ]\n          },\n          \"business attire\": {\n            \"label\": \"Business Attire Details\",\n            \"fields\": [\n              { \"key\": \"business_level\", \"type\": \"select\", \"label\": \"Formality Level\", \"options\": [\"business formal\", \"business casual\", \"smart casual\", \"corporate\", \"startup casual\"] },\n              { \"key\": \"business_top\", \"type\": \"select\", \"label\": \"Top\", \"options\": [\"dress shirt\", \"blouse\", \"blazer\", \"cardigan\", \"sweater\", \"polo shirt\", \"button-down\", \"professional top\"] },\n              { \"key\": \"business_bottom\", \"type\": \"select\", \"label\": \"Bottom\", \"options\": [\"dress pants\", \"skirt\", \"slacks\", \"suit pants\", \"chinos\", \"pencil skirt\", \"a-line skirt\", \"trouser pants\"] },\n              { \"key\": \"business_shoes\", \"type\": \"select\", \"label\": \"Professional Footwear\", \"options\": [\"dress shoes\", \"loafers\", \"low heels\", \"flats\", \"oxford shoes\", \"professional boots\", \"pumps\"] },\n              { \"key\": \"business_colors\", \"type\": \"select\", \"label\": \"Color Scheme\", \"options\": [\"black and white\", \"navy and white\", \"gray tones\", \"earth tones\", \"conservative colors\", \"modern neutrals\"] },\n              { \"key\": \"business_accessories\", \"type\": \"text\", \"label\": \"Professional Accessories\", \"placeholder\": \"e.g., briefcase, laptop bag, watch, minimal jewelry\" },\n              { \"key\": \"business_description\", \"type\": \"textarea\", \"label\": \"Professional Style\", \"placeholder\": \"Describe the business look, industry appropriateness...\" }\n            ]\n          },\n          \"sportswear\": {\n            \"label\": \"Sportswear Details\",\n            \"fields\": [\n              { \"key\": \"sport_type\", \"type\": \"select\", \"label\": \"Sport/Activity\", \"options\": [\"gym workout\", \"running\", \"yoga\", \"basketball\", \"soccer\", \"tennis\", \"swimming\", \"cycling\", \"hiking\", \"general fitness\"] },\n              { \"key\": \"athletic_top\", \"type\": \"select\", \"label\": \"Athletic Top\", \"options\": [\"sports bra\", \"tank top\", \"t-shirt\", \"long sleeve\", \"compression shirt\", \"jersey\", \"track jacket\", \"hoodie\"] },\n              { \"key\": \"athletic_bottom\", \"type\": \"select\", \"label\": \"Athletic Bottom\", \"options\": [\"leggings\", \"shorts\", \"sweatpants\", \"track pants\", \"compression shorts\", \"athletic skirt\", \"joggers\", \"bike shorts\"] },\n              { \"key\": \"athletic_shoes\", \"type\": \"select\", \"label\": \"Athletic Footwear\", \"options\": [\"running shoes\", \"cross-trainers\", \"basketball shoes\", \"cleats\", \"tennis shoes\", \"hiking boots\", \"cycling shoes\"] },\n              { \"key\": \"athletic_material\", \"type\": \"select\", \"label\": \"Material\", \"options\": [\"moisture-wicking\", \"breathable\", \"compression\", \"cotton blend\", \"polyester\", \"spandex blend\", \"technical fabric\"] },\n              { \"key\": \"athletic_accessories\", \"type\": \"text\", \"label\": \"Athletic Gear\", \"placeholder\": \"e.g., water bottle, fitness tracker, headband, gloves\" },\n              { \"key\": \"athletic_description\", \"type\": \"textarea\", \"label\": \"Athletic Style\", \"placeholder\": \"Describe the sportswear look, performance features...\" }\n            ]\n          },\n          \"fantasy armor\": {\n            \"label\": \"Armor Details\",\n            \"fields\": [\n              { \"key\": \"armor_type\", \"type\": \"select\", \"label\": \"Type\", \"options\": [\"plate armor\", \"chainmail\", \"leather armor\", \"scale armor\", \"magical armor\"] },\n              { \"key\": \"armor_material\", \"type\": \"select\", \"label\": \"Material\", \"options\": [\"steel\", \"leather\", \"dragon scale\", \"mithril\", \"enchanted metal\", \"bone\"] },\n              { \"key\": \"armor_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the armor design, decorations, condition...\" }\n            ]\n          },\n          \"sci-fi suit\": {\n            \"label\": \"Sci-Fi Suit Details\",\n            \"fields\": [\n              { \"key\": \"suit_type\", \"type\": \"select\", \"label\": \"Type\", \"options\": [\"space suit\", \"power armor\", \"cyberpunk outfit\", \"tech suit\", \"energy suit\"] },\n              { \"key\": \"suit_features\", \"type\": \"text\", \"label\": \"Special Features\", \"placeholder\": \"e.g., HUD display, energy shields, thrusters\" },\n              { \"key\": \"suit_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the suit's appearance, technology, design...\" }\n            ]\n          }\n        } }\n      ]\n    },\n    {\n      \"id\": \"camera_details\",\n      \"label\": \"Camera Details\",\n      \"fields\": [\n        { \"key\": \"angle\", \"type\": \"select\", \"label\": \"Camera Angle\", \"options\": [\"eye level\", \"low angle\", \"high angle\", \"bird's-eye\", \"worm's-eye\", \"dutch angle\", \"over-the-shoulder\", \"POV\", \"aerial\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"low angle\": {\n            \"label\": \"Low Angle Details\",\n            \"fields\": [\n              { \"key\": \"low_angle_degree\", \"type\": \"select\", \"label\": \"Angle Degree\", \"options\": [\"slight low angle\", \"moderate low angle\", \"extreme low angle\", \"dramatic upward\"] },\n              { \"key\": \"low_angle_effect\", \"type\": \"select\", \"label\": \"Visual Effect\", \"options\": [\"powerful/dominant\", \"heroic\", \"imposing\", \"intimidating\", \"majestic\"] },\n              { \"key\": \"low_angle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the power dynamic, subject presence, dramatic effect...\" }\n            ]\n          },\n          \"high angle\": {\n            \"label\": \"High Angle Details\",\n            \"fields\": [\n              { \"key\": \"high_angle_degree\", \"type\": \"select\", \"label\": \"Angle Degree\", \"options\": [\"slight high angle\", \"moderate high angle\", \"extreme high angle\", \"dramatic downward\"] },\n              { \"key\": \"high_angle_effect\", \"type\": \"select\", \"label\": \"Visual Effect\", \"options\": [\"vulnerable\", \"diminished\", \"isolated\", \"overwhelmed\", \"contemplative\"] },\n              { \"key\": \"high_angle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the vulnerability, scale, emotional impact...\" }\n            ]\n          },\n          \"dutch angle\": {\n            \"label\": \"Dutch Angle Details\",\n            \"fields\": [\n              { \"key\": \"dutch_tilt_degree\", \"type\": \"select\", \"label\": \"Tilt Degree\", \"options\": [\"subtle tilt (5-10°)\", \"moderate tilt (15-20°)\", \"strong tilt (25-35°)\", \"extreme tilt (40°+)\"] },\n              { \"key\": \"dutch_mood\", \"type\": \"select\", \"label\": \"Mood Effect\", \"options\": [\"unsettling\", \"dynamic\", \"tension\", \"confusion\", \"artistic flair\"] },\n              { \"key\": \"dutch_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the disorientation, artistic effect, emotional tone...\" }\n            ]\n          },\n          \"bird's-eye\": {\n            \"label\": \"Bird's-Eye Details\",\n            \"fields\": [\n              { \"key\": \"birds_eye_height\", \"type\": \"select\", \"label\": \"Height Level\", \"options\": [\"moderate overhead\", \"high overhead\", \"extreme overhead\", \"satellite view\"] },\n              { \"key\": \"birds_eye_scope\", \"type\": \"select\", \"label\": \"Scope\", \"options\": [\"single subject\", \"small area\", \"wide landscape\", \"epic scale\"] },\n              { \"key\": \"birds_eye_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the scale, perspective, geographical overview...\" }\n            ]\n          }\n        } },\n        { \"key\": \"movement\", \"type\": \"select\", \"label\": \"Camera Movement\", \"options\": [\"static\", \"pan left\", \"pan right\", \"tilt up\", \"tilt down\", \"tracking\", \"dolly in\", \"dolly out\", \"dolly zoom\", \"orbit\", \"crane\", \"handheld\", \"gimbal\", \"drone\", \"zoom in\", \"zoom out\", \"slow zoom\", \"tracking shots\", \"overhead\", \"trunk camera\", \"one-point perspective\", \"quick cuts\", \"dynamic movement\", \"smooth gimbal\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"tracking\": {\n            \"label\": \"Tracking Shot Details\",\n            \"fields\": [\n              { \"key\": \"tracking_direction\", \"type\": \"select\", \"label\": \"Direction\", \"options\": [\"left to right\", \"right to left\", \"forward\", \"backward\", \"circular\", \"figure-8\"] },\n              { \"key\": \"tracking_speed\", \"type\": \"select\", \"label\": \"Speed\", \"options\": [\"very slow\", \"slow\", \"medium\", \"fast\", \"variable speed\"] },\n              { \"key\": \"tracking_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the specific tracking movement...\" }\n            ]\n          },\n          \"dolly zoom\": {\n            \"label\": \"Dolly Zoom Details\",\n            \"fields\": [\n              { \"key\": \"dolly_direction\", \"type\": \"select\", \"label\": \"Direction\", \"options\": [\"dolly in, zoom out\", \"dolly out, zoom in\"] },\n              { \"key\": \"dolly_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"subtle\", \"moderate\", \"dramatic\"] },\n              { \"key\": \"dolly_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the dolly zoom effect...\" }\n            ]\n          },\n          \"orbit\": {\n            \"label\": \"Orbit Shot Details\",\n            \"fields\": [\n              { \"key\": \"orbit_direction\", \"type\": \"select\", \"label\": \"Direction\", \"options\": [\"clockwise\", \"counter-clockwise\"] },\n              { \"key\": \"orbit_angle\", \"type\": \"select\", \"label\": \"Angle\", \"options\": [\"180°\", \"360°\", \"partial orbit\"] },\n              { \"key\": \"orbit_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the orbit movement...\" }\n            ]\n          }\n        } },\n        { \"key\": \"distance\", \"type\": \"select\", \"label\": \"Camera Distance\", \"options\": [\"extreme close-up\", \"close-up\", \"medium close-up\", \"medium shot\", \"medium wide\", \"wide shot\", \"extreme wide shot\", \"establishing shot\", \"master shot\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"close-up\": {\n            \"label\": \"Close-Up Details\",\n            \"fields\": [\n              { \"key\": \"closeup_framing\", \"type\": \"select\", \"label\": \"Framing Focus\", \"options\": [\"face and shoulders\", \"head and neck\", \"facial features\", \"eyes emphasis\", \"emotional focus\"] },\n              { \"key\": \"closeup_purpose\", \"type\": \"select\", \"label\": \"Purpose\", \"options\": [\"emotional intimacy\", \"detail revelation\", \"character study\", \"dramatic tension\", \"connection\"] },\n              { \"key\": \"closeup_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the intimacy, emotion, specific details captured...\" }\n            ]\n          },\n          \"extreme close-up\": {\n            \"label\": \"Extreme Close-Up Details\",\n            \"fields\": [\n              { \"key\": \"extreme_closeup_focus\", \"type\": \"select\", \"label\": \"Focus Area\", \"options\": [\"eyes only\", \"mouth\", \"hands\", \"specific object\", \"facial detail\"] },\n              { \"key\": \"extreme_closeup_effect\", \"type\": \"select\", \"label\": \"Dramatic Effect\", \"options\": [\"intense emotion\", \"crucial detail\", \"psychological depth\", \"tension building\", \"revelation\"] },\n              { \"key\": \"extreme_closeup_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the specific detail, dramatic impact, psychological effect...\" }\n            ]\n          },\n          \"wide shot\": {\n            \"label\": \"Wide Shot Details\",\n            \"fields\": [\n              { \"key\": \"wide_shot_scope\", \"type\": \"select\", \"label\": \"Scope\", \"options\": [\"full body\", \"environment context\", \"relationship dynamics\", \"action space\", \"scenic overview\"] },\n              { \"key\": \"wide_shot_purpose\", \"type\": \"select\", \"label\": \"Purpose\", \"options\": [\"establishing location\", \"showing scale\", \"character relationships\", \"action coverage\", \"environmental context\"] },\n              { \"key\": \"wide_shot_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the environmental context, scale, relationships...\" }\n            ]\n          },\n          \"establishing shot\": {\n            \"label\": \"Establishing Shot Details\",\n            \"fields\": [\n              { \"key\": \"establishing_scale\", \"type\": \"select\", \"label\": \"Scale\", \"options\": [\"building exterior\", \"city skyline\", \"landscape view\", \"interior space\", \"neighborhood\"] },\n              { \"key\": \"establishing_info\", \"type\": \"select\", \"label\": \"Information Provided\", \"options\": [\"location context\", \"time of day\", \"scale reference\", \"mood setting\", \"story context\"] },\n              { \"key\": \"establishing_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the location, scale, contextual information provided...\" }\n            ]\n          }\n        } },\n        { \"key\": \"depth_of_field\", \"type\": \"select\", \"label\": \"Depth of Field\", \"options\": [\"shallow\", \"deep\", \"bokeh\", \"tilt-shift\", \"rack focus\", \"split diopter\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"shallow\": {\n            \"label\": \"Shallow DOF Details\",\n            \"fields\": [\n              { \"key\": \"shallow_aperture\", \"type\": \"select\", \"label\": \"Aperture Setting\", \"options\": [\"f/1.4 (very shallow)\", \"f/2.0 (shallow)\", \"f/2.8 (moderate shallow)\", \"wide open\"] },\n              { \"key\": \"shallow_focus_point\", \"type\": \"select\", \"label\": \"Focus Point\", \"options\": [\"subject's eyes\", \"main subject\", \"foreground element\", \"specific detail\", \"moving target\"] },\n              { \"key\": \"shallow_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the subject isolation, background blur, artistic effect...\" }\n            ]\n          },\n          \"bokeh\": {\n            \"label\": \"Bokeh Details\",\n            \"fields\": [\n              { \"key\": \"bokeh_quality\", \"type\": \"select\", \"label\": \"Bokeh Quality\", \"options\": [\"creamy smooth\", \"circular highlights\", \"hexagonal\", \"artistic blur\", \"dreamy\"] },\n              { \"key\": \"bokeh_background\", \"type\": \"select\", \"label\": \"Background\", \"options\": [\"city lights\", \"natural lighting\", \"studio lights\", \"colored elements\", \"textured surfaces\"] },\n              { \"key\": \"bokeh_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the bokeh quality, light circles, artistic blur...\" }\n            ]\n          },\n          \"rack focus\": {\n            \"label\": \"Rack Focus Details\",\n            \"fields\": [\n              { \"key\": \"rack_focus_transition\", \"type\": \"select\", \"label\": \"Focus Transition\", \"options\": [\"foreground to background\", \"background to foreground\", \"subject to subject\", \"reveal technique\"] },\n              { \"key\": \"rack_focus_speed\", \"type\": \"select\", \"label\": \"Transition Speed\", \"options\": [\"slow reveal\", \"medium pace\", \"quick snap\", \"dramatic pull\", \"smooth transition\"] },\n              { \"key\": \"rack_focus_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the focus pull, narrative purpose, visual transition...\" }\n            ]\n          },\n          \"tilt-shift\": {\n            \"label\": \"Tilt-Shift Details\",\n            \"fields\": [\n              { \"key\": \"tilt_shift_effect\", \"type\": \"select\", \"label\": \"Effect Style\", \"options\": [\"miniature effect\", \"selective focus\", \"dramatic perspective\", \"architectural correction\"] },\n              { \"key\": \"tilt_shift_focus_area\", \"type\": \"select\", \"label\": \"Focus Area\", \"options\": [\"horizontal band\", \"diagonal plane\", \"small area\", \"architectural element\"] },\n              { \"key\": \"tilt_shift_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the tilt-shift effect, focus plane, artistic impact...\" }\n            ]\n          }\n        } },\n        { \"key\": \"lens_type\", \"type\": \"select\", \"label\": \"Lens Type\", \"options\": [\"standard 50mm\", \"wide angle\", \"telephoto\", \"macro\", \"fisheye\", \"anamorphic\", \"vintage\", \"35mm\", \"85mm\", \"24-70mm\", \"70-200mm\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"wide angle\": {\n            \"label\": \"Wide Angle Details\",\n            \"fields\": [\n              { \"key\": \"wide_angle_focal\", \"type\": \"select\", \"label\": \"Focal Length\", \"options\": [\"14mm (ultra-wide)\", \"16-35mm (wide)\", \"24mm (moderate wide)\", \"28mm (standard wide)\"] },\n              { \"key\": \"wide_angle_effect\", \"type\": \"select\", \"label\": \"Visual Effect\", \"options\": [\"dramatic perspective\", \"expansive view\", \"environmental context\", \"distortion effect\", \"immersive feeling\"] },\n              { \"key\": \"wide_angle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the wide perspective, distortion, environmental scope...\" }\n            ]\n          },\n          \"telephoto\": {\n            \"label\": \"Telephoto Details\",\n            \"fields\": [\n              { \"key\": \"telephoto_focal\", \"type\": \"select\", \"label\": \"Focal Length\", \"options\": [\"85mm (short tele)\", \"135mm (medium tele)\", \"200mm (long tele)\", \"300mm+ (super tele)\"] },\n              { \"key\": \"telephoto_compression\", \"type\": \"select\", \"label\": \"Compression Effect\", \"options\": [\"background compression\", \"subject isolation\", \"shallow DOF\", \"distance collapse\", \"intimate framing\"] },\n              { \"key\": \"telephoto_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the compression, isolation, intimate perspective...\" }\n            ]\n          },\n          \"fisheye\": {\n            \"label\": \"Fisheye Details\",\n            \"fields\": [\n              { \"key\": \"fisheye_distortion\", \"type\": \"select\", \"label\": \"Distortion Level\", \"options\": [\"circular fisheye\", \"full-frame fisheye\", \"moderate distortion\", \"extreme distortion\"] },\n              { \"key\": \"fisheye_coverage\", \"type\": \"select\", \"label\": \"Coverage Angle\", \"options\": [\"180° circular\", \"180° full-frame\", \"150° coverage\", \"ultra-wide view\"] },\n              { \"key\": \"fisheye_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the distortion effect, curved perspective, artistic impact...\" }\n            ]\n          },\n          \"anamorphic\": {\n            \"label\": \"Anamorphic Details\",\n            \"fields\": [\n              { \"key\": \"anamorphic_ratio\", \"type\": \"select\", \"label\": \"Squeeze Ratio\", \"options\": [\"1.33x squeeze\", \"2x squeeze\", \"1.5x squeeze\", \"variable squeeze\"] },\n              { \"key\": \"anamorphic_flares\", \"type\": \"select\", \"label\": \"Lens Flares\", \"options\": [\"horizontal blue flares\", \"vintage flares\", \"minimal flares\", \"dramatic flares\", \"colored streaks\"] },\n              { \"key\": \"anamorphic_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the cinematic look, flares, widescreen aesthetic...\" }\n            ]\n          },\n          \"macro\": {\n            \"label\": \"Macro Details\",\n            \"fields\": [\n              { \"key\": \"macro_magnification\", \"type\": \"select\", \"label\": \"Magnification\", \"options\": [\"1:1 life size\", \"2:1 double size\", \"5:1 extreme macro\", \"close focus\"] },\n              { \"key\": \"macro_subject\", \"type\": \"select\", \"label\": \"Subject Type\", \"options\": [\"small objects\", \"textures\", \"details\", \"insects/nature\", \"jewelry/products\"] },\n              { \"key\": \"macro_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the extreme detail, magnification, subject focus...\" }\n            ]\n          }\n        } }\n      ]\n    },\n    {\n      \"id\": \"visual_style\",\n      \"label\": \"Visual Style\",\n      \"fields\": [\n        { \"key\": \"color_palette\", \"type\": \"select\", \"label\": \"Color Palette\", \"options\": [\"warm tones\", \"cool tones\", \"monochromatic\", \"complementary\", \"triadic\", \"vibrant\", \"muted\", \"pastel\", \"pastel colors\", \"earth tones\", \"neon\", \"black and white\", \"sepia\", \"desaturated\", \"high contrast\", \"low contrast\", \"saturated\", \"chiaroscuro\", \"cool blue tones\", \"warm vintage palette\", \"deep reds\", \"retro meme\", \"custom...\"] },\n        { \"key\": \"style\", \"type\": \"select\", \"label\": \"Style/Look\", \"options\": [\"cinematic\", \"documentary\", \"vintage\", \"modern\", \"futuristic\", \"retro\", \"minimalist\", \"maximalist\", \"grunge\", \"clean\", \"organic\", \"geometric\", \"surreal\", \"realistic\", \"stylized\", \"anime\", \"cartoon\", \"film noir\", \"authentic\", \"viral\", \"gritty\", \"whimsical\", \"clinical\", \"suburban\", \"gothic\", \"painterly\", \"internet culture\", \"custom...\"] },\n        { \"key\": \"influences\", \"type\": \"select\", \"label\": \"Influences/References\", \"options\": [\"Barry Jenkins\", \"Bong Joon-ho\", \"Chloe Zhao\", \"Christopher Nolan\", \"David Fincher\", \"Denis Villeneuve\", \"Edgar Wright\", \"Greta Gerwig\", \"Guillermo del Toro\", \"Hayao Miyazaki\", \"Jordan Peele\", \"Lulu Wang\", \"Quentin Tarantino\", \"Ridley Scott\", \"Rian Johnson\", \"Stanley Kubrick\", \"Steven Spielberg\", \"Wes Anderson\", \"Zack Snyder\", \"Roger Deakins\", \"Emmanuel Lubezki\", \"Blade Runner\", \"Mad Max\", \"Star Wars\", \"Marvel\", \"Studio Ghibli\", \"Pixar\", \"custom...\"] },\n        { \"key\": \"aspect_ratio\", \"type\": \"select\", \"label\": \"Aspect Ratio\", \"options\": [\"16:9\", \"9:16\", \"1:1\", \"21:9\", \"4:3\", \"3:2\", \"2.35:1\", \"2.39:1\", \"1.85:1\", \"custom...\"] },\n        { \"key\": \"frame_rate\", \"type\": \"select\", \"label\": \"Frame Rate/Look\", \"options\": [\"24fps cinematic\", \"30fps standard\", \"60fps smooth\", \"120fps slow-mo\", \"stop-motion\", \"time-lapse\", \"variable frame rate\", \"custom...\"] }\n      ]\n    },\n    {\n      \"id\": \"lighting\",\n      \"label\": \"Lighting\",\n      \"fields\": [\n        { \"key\": \"lighting_type\", \"type\": \"select\", \"label\": \"Lighting Type\", \"options\": [\"natural light\", \"artificial light\", \"mixed lighting\", \"key light\", \"fill light\", \"rim light\", \"practical lighting\", \"three-point lighting\", \"hard light\", \"soft light\", \"ambient light\", \"directional light\", \"studio lighting\", \"available light\", \"low-key lighting\", \"gothic lighting\", \"custom...\"] },\n        { \"key\": \"lighting_direction\", \"type\": \"select\", \"label\": \"Lighting Direction\", \"options\": [\"front lighting\", \"side lighting\", \"back lighting\", \"top lighting\", \"bottom lighting\", \"45-degree lighting\", \"Rembrandt lighting\", \"butterfly lighting\", \"split lighting\", \"rim lighting\", \"hair light\", \"background light\", \"golden hour\", \"chiaroscuro lighting\", \"custom...\"] },\n        { \"key\": \"light_quality\", \"type\": \"select\", \"label\": \"Light Quality\", \"options\": [\"soft\", \"hard\", \"diffused\", \"harsh\", \"warm\", \"cool\", \"neutral\", \"golden\", \"blue\", \"dramatic\", \"subtle\", \"moody\", \"bright\", \"dim\", \"contrasted\", \"even\", \"custom...\"] },\n        { \"key\": \"shadows\", \"type\": \"select\", \"label\": \"Shadows/Reflections\", \"options\": [\"soft shadows\", \"hard shadows\", \"no shadows\", \"dramatic shadows\", \"subtle shadows\", \"long shadows\", \"short shadows\", \"multiple shadows\", \"cast shadows\", \"drop shadows\", \"reflections\", \"no reflections\", \"strong reflections\", \"subtle reflections\", \"custom...\"] }\n      ]\n    },\n    {\n      \"id\": \"sound_music\",\n      \"label\": \"Sound / Music\",\n      \"fields\": [\n        { \"key\": \"music_style\", \"type\": \"select\", \"label\": \"Music Style\", \"options\": [\"orchestral\", \"electronic\", \"ambient\", \"rock\", \"pop\", \"jazz\", \"classical\", \"cinematic\", \"epic\", \"upbeat\", \"melancholic\", \"dramatic\", \"suspenseful\", \"romantic\", \"energetic\", \"minimalist\", \"no music\", \"emotional cues\", \"viral trending\", \"ambient narrative\", \"custom...\"] },\n        { \"key\": \"sound_design\", \"type\": \"sound_design\", \"label\": \"Sound Design\" },\n        { \"key\": \"dialogue\", \"type\": \"dialogue\", \"label\": \"Dialogue\" }\n      ]\n    },\n    {\n      \"id\": \"motion_timing\",\n      \"label\": \"Motion & Timing\",\n      \"fields\": [\n        { \"key\": \"speed\", \"type\": \"select\", \"label\": \"Speed\", \"options\": [\"normal\", \"slow motion\", \"fast motion\", \"time lapse\", \"hyper lapse\", \"variable speed\", \"freeze frame\", \"custom...\"] },\n        { \"key\": \"transition\", \"type\": \"select\", \"label\": \"Transition Type\", \"options\": [\"cut\", \"fade in\", \"fade out\", \"crossfade\", \"wipe\", \"slide\", \"zoom\", \"iris\", \"morph\", \"dissolve\", \"flash\", \"glitch\", \"none\", \"quick cuts\", \"dynamic cuts\", \"viral pacing\", \"custom...\"] },\n        { \"key\": \"duration\", \"type\": \"text\", \"label\": \"Duration (e.g. 10s)\" },\n        { \"key\": \"looping\", \"type\": \"select\", \"label\": \"Looping\", \"options\": [\"yes\", \"no\", \"seamless loop\", \"custom...\"] }\n      ]\n    },\n    {\n      \"id\": \"post_processing\",\n      \"label\": \"Post-Processing Effects\",\n      \"fields\": [\n        { \"key\": \"vfx\", \"type\": \"select\", \"label\": \"VFX\", \"options\": [\"particles\", \"smoke\", \"fire\", \"water\", \"explosions\", \"magic effects\", \"lens flares\", \"light rays\", \"energy beams\", \"sparkles\", \"dust\", \"fog\", \"rain\", \"snow\", \"lightning\", \"none\", \"glitch effects\", \"viral effects\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"particles\": {\n            \"label\": \"Particle Effects Details\",\n            \"fields\": [\n              { \"key\": \"particle_type\", \"type\": \"select\", \"label\": \"Particle Type\", \"options\": [\"dust motes\", \"floating embers\", \"snowflakes\", \"petals\", \"bubbles\", \"stars\", \"energy orbs\", \"sparks\"] },\n              { \"key\": \"particle_density\", \"type\": \"select\", \"label\": \"Density\", \"options\": [\"sparse\", \"moderate\", \"dense\", \"heavy\", \"overwhelming\"] },\n              { \"key\": \"particle_color\", \"type\": \"text\", \"label\": \"Color\", \"placeholder\": \"e.g., golden, white, multicolored\" },\n              { \"key\": \"particle_movement\", \"type\": \"select\", \"label\": \"Movement Pattern\", \"options\": [\"floating\", \"falling\", \"swirling\", \"rising\", \"chaotic\", \"directional\"] },\n              { \"key\": \"particle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe particle behavior, interaction with light, atmospheric effect...\" }\n            ]\n          },\n          \"magic effects\": {\n            \"label\": \"Magic Effects Details\",\n            \"fields\": [\n              { \"key\": \"magic_spell_type\", \"type\": \"select\", \"label\": \"Spell Type\", \"options\": [\"elemental magic\", \"healing light\", \"dark energy\", \"teleportation\", \"transformation\", \"protective shield\", \"energy blast\"] },\n              { \"key\": \"magic_energy\", \"type\": \"select\", \"label\": \"Energy Appearance\", \"options\": [\"glowing orbs\", \"swirling energy\", \"crackling electricity\", \"flowing wisps\", \"pulsing aura\", \"geometric patterns\"] },\n              { \"key\": \"magic_visual_style\", \"type\": \"select\", \"label\": \"Visual Style\", \"options\": [\"ethereal glow\", \"dramatic flashes\", \"subtle shimmer\", \"intense power\", \"mystical atmosphere\"] },\n              { \"key\": \"magic_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe magical energy, spell effects, visual manifestation...\" }\n            ]\n          },\n          \"fire\": {\n            \"label\": \"Fire Effects Details\",\n            \"fields\": [\n              { \"key\": \"fire_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"small flames\", \"moderate fire\", \"raging fire\", \"explosive fire\", \"controlled flame\"] },\n              { \"key\": \"fire_color\", \"type\": \"select\", \"label\": \"Flame Color\", \"options\": [\"orange-red\", \"blue flame\", \"white hot\", \"green flame\", \"purple flame\", \"multicolored\"] },\n              { \"key\": \"fire_behavior\", \"type\": \"select\", \"label\": \"Behavior\", \"options\": [\"flickering\", \"steady burn\", \"dancing flames\", \"aggressive spread\", \"contained\"] },\n              { \"key\": \"fire_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe fire dynamics, heat distortion, smoke interaction...\" }\n            ]\n          },\n          \"explosions\": {\n            \"label\": \"Explosion Details\",\n            \"fields\": [\n              { \"key\": \"explosion_scale\", \"type\": \"select\", \"label\": \"Scale\", \"options\": [\"small burst\", \"medium explosion\", \"large detonation\", \"massive blast\", \"controlled explosion\"] },\n              { \"key\": \"explosion_type\", \"type\": \"select\", \"label\": \"Type\", \"options\": [\"fireball\", \"shockwave\", \"energy burst\", \"smoke explosion\", \"debris explosion\"] },\n              { \"key\": \"explosion_timing\", \"type\": \"select\", \"label\": \"Timing\", \"options\": [\"instant flash\", \"sustained blast\", \"delayed reaction\", \"chain reaction\"] },\n              { \"key\": \"explosion_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe blast radius, debris, shockwave effects...\" }\n            ]\n          },\n          \"smoke\": {\n            \"label\": \"Smoke Effects Details\",\n            \"fields\": [\n              { \"key\": \"smoke_density\", \"type\": \"select\", \"label\": \"Density\", \"options\": [\"wispy\", \"moderate\", \"thick\", \"choking\", \"atmospheric\"] },\n              { \"key\": \"smoke_color\", \"type\": \"select\", \"label\": \"Color\", \"options\": [\"white\", \"gray\", \"black\", \"colored smoke\", \"multicolored\"] },\n              { \"key\": \"smoke_movement\", \"type\": \"select\", \"label\": \"Movement\", \"options\": [\"billowing\", \"rising\", \"swirling\", \"dispersing\", \"wind-blown\"] },\n              { \"key\": \"smoke_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe smoke behavior, atmospheric interaction, visual impact...\" }\n            ]\n          },\n          \"water\": {\n            \"label\": \"Water Effects Details\",\n            \"fields\": [\n              { \"key\": \"water_type\", \"type\": \"select\", \"label\": \"Water Type\", \"options\": [\"splashing\", \"flowing\", \"rain drops\", \"mist\", \"waves\", \"underwater bubbles\"] },\n              { \"key\": \"water_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"gentle\", \"moderate\", \"heavy\", \"torrential\", \"dramatic\"] },\n              { \"key\": \"water_interaction\", \"type\": \"select\", \"label\": \"Light Interaction\", \"options\": [\"reflective\", \"refractive\", \"sparkling\", \"translucent\", \"crystal clear\"] },\n              { \"key\": \"water_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe water movement, light reflection, atmospheric effect...\" }\n            ]\n          }\n        } },\n        { \"key\": \"motion_blur\", \"type\": \"select\", \"label\": \"Motion Blur\", \"options\": [\"off\", \"subtle\", \"moderate\", \"strong\", \"directional\", \"radial\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"directional\": {\n            \"label\": \"Directional Blur Details\",\n            \"fields\": [\n              { \"key\": \"direction_angle\", \"type\": \"select\", \"label\": \"Direction\", \"options\": [\"horizontal\", \"vertical\", \"diagonal left\", \"diagonal right\", \"custom angle\"] },\n              { \"key\": \"direction_intensity\", \"type\": \"select\", \"label\": \"Intensity\", \"options\": [\"light streak\", \"moderate blur\", \"heavy motion\", \"extreme speed\"] },\n              { \"key\": \"direction_speed_indication\", \"type\": \"select\", \"label\": \"Speed Indication\", \"options\": [\"slow movement\", \"moderate speed\", \"fast action\", \"extreme velocity\", \"variable speed\"] },\n              { \"key\": \"direction_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the motion direction, speed feel, dynamic energy...\" }\n            ]\n          },\n          \"radial\": {\n            \"label\": \"Radial Blur Details\",\n            \"fields\": [\n              { \"key\": \"radial_center_point\", \"type\": \"select\", \"label\": \"Center Point\", \"options\": [\"image center\", \"subject focus\", \"off-center\", \"multiple points\", \"dynamic center\"] },\n              { \"key\": \"radial_spin_intensity\", \"type\": \"select\", \"label\": \"Spin Intensity\", \"options\": [\"subtle rotation\", \"moderate spin\", \"fast spin\", \"extreme whirl\", \"variable rotation\"] },\n              { \"key\": \"radial_energy_type\", \"type\": \"select\", \"label\": \"Energy Type\", \"options\": [\"smooth rotation\", \"explosive burst\", \"implosion effect\", \"vortex energy\", \"portal effect\"] },\n              { \"key\": \"radial_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the rotational energy, center point dynamics, spiral effect...\" }\n            ]\n          },\n          \"subtle\": {\n            \"label\": \"Subtle Blur Details\",\n            \"fields\": [\n              { \"key\": \"subtle_target\", \"type\": \"select\", \"label\": \"Blur Target\", \"options\": [\"moving subjects only\", \"background elements\", \"selective areas\", \"edge softening\", \"atmospheric blur\"] },\n              { \"key\": \"subtle_purpose\", \"type\": \"select\", \"label\": \"Purpose\", \"options\": [\"natural motion\", \"depth enhancement\", \"focus attention\", \"cinematic realism\", \"dreamy atmosphere\"] },\n              { \"key\": \"subtle_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the subtle motion effects, areas of focus, natural feel...\" }\n            ]\n          },\n          \"strong\": {\n            \"label\": \"Strong Blur Details\",\n            \"fields\": [\n              { \"key\": \"strong_motion_type\", \"type\": \"select\", \"label\": \"Motion Type\", \"options\": [\"high-speed action\", \"dramatic movement\", \"impact blur\", \"chase sequence\", \"transformation\"] },\n              { \"key\": \"strong_coverage\", \"type\": \"select\", \"label\": \"Coverage\", \"options\": [\"full frame\", \"subject-focused\", \"background streak\", \"selective areas\", \"dynamic trails\"] },\n              { \"key\": \"strong_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the intense motion, dramatic impact, speed sensation...\" }\n            ]\n          }\n        } },\n        { \"key\": \"glow\", \"type\": \"select\", \"label\": \"Glow/Haze\", \"options\": [\"none\", \"subtle glow\", \"strong glow\", \"rim lighting\", \"atmospheric haze\", \"lens bloom\", \"custom...\"] },\n        { \"key\": \"grain\", \"type\": \"select\", \"label\": \"Grain Intensity\", \"options\": [\"none\", \"light\", \"medium\", \"heavy\", \"vintage\", \"digital noise\", \"film grain\", \"custom...\"] },\n        { \"key\": \"filters\", \"type\": \"select\", \"label\": \"Filters\", \"options\": [\"none\", \"sepia\", \"black and white\", \"vintage\", \"polaroid\", \"instagram\", \"VSCO\", \"cinematic\", \"desaturated\", \"high contrast\", \"low contrast\", \"warm filter\", \"cool filter\", \"70s film grain\", \"hyper-real\", \"custom...\"], \"allowDetails\": true, \"detailConfig\": {\n          \"vintage\": {\n            \"label\": \"Vintage Filter Details\",\n            \"fields\": [\n              { \"key\": \"vintage_era\", \"type\": \"select\", \"label\": \"Era\", \"options\": [\"1950s\", \"1960s\", \"1970s\", \"1980s\", \"1990s\", \"early 2000s\", \"film photography\"] },\n              { \"key\": \"vintage_grain_level\", \"type\": \"select\", \"label\": \"Grain Level\", \"options\": [\"subtle grain\", \"moderate grain\", \"heavy grain\", \"film texture\", \"digital vintage\"] },\n              { \"key\": \"vintage_color_shift\", \"type\": \"select\", \"label\": \"Color Shift\", \"options\": [\"warm tones\", \"cool fade\", \"sepia undertones\", \"faded colors\", \"saturated retro\"] },\n              { \"key\": \"vintage_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the vintage aesthetic, aging effects, nostalgic feel...\" }\n            ]\n          },\n          \"cinematic\": {\n            \"label\": \"Cinematic Filter Details\",\n            \"fields\": [\n              { \"key\": \"cinematic_lut_style\", \"type\": \"select\", \"label\": \"LUT Style\", \"options\": [\"Hollywood blockbuster\", \"indie film\", \"noir style\", \"sci-fi epic\", \"romantic drama\", \"action thriller\"] },\n              { \"key\": \"cinematic_color_grading\", \"type\": \"select\", \"label\": \"Color Grading\", \"options\": [\"orange and teal\", \"desaturated\", \"high contrast\", \"warm highlights\", \"cool shadows\", \"film emulation\"] },\n              { \"key\": \"cinematic_mood\", \"type\": \"select\", \"label\": \"Mood\", \"options\": [\"epic drama\", \"intimate storytelling\", \"high-tech\", \"gritty realism\", \"dreamy romance\", \"intense action\"] },\n              { \"key\": \"cinematic_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the cinematic look, color grading, professional feel...\" }\n            ]\n          },\n          \"black and white\": {\n            \"label\": \"B&W Filter Details\",\n            \"fields\": [\n              { \"key\": \"bw_style\", \"type\": \"select\", \"label\": \"B&W Style\", \"options\": [\"high contrast\", \"soft contrast\", \"film noir\", \"documentary\", \"artistic\", \"vintage B&W\"] },\n              { \"key\": \"bw_tone\", \"type\": \"select\", \"label\": \"Tone\", \"options\": [\"pure B&W\", \"warm tone\", \"cool tone\", \"selenium tone\", \"sepia hint\"] },\n              { \"key\": \"bw_grain\", \"type\": \"select\", \"label\": \"Film Grain\", \"options\": [\"no grain\", \"fine grain\", \"moderate grain\", \"heavy grain\", \"film texture\"] },\n              { \"key\": \"bw_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the B&W aesthetic, contrast level, artistic mood...\" }\n            ]\n          },\n          \"polaroid\": {\n            \"label\": \"Polaroid Filter Details\",\n            \"fields\": [\n              { \"key\": \"polaroid_border\", \"type\": \"select\", \"label\": \"Border Style\", \"options\": [\"white border\", \"aged border\", \"no border\", \"damaged border\", \"artistic frame\"] },\n              { \"key\": \"polaroid_fade\", \"type\": \"select\", \"label\": \"Color Fade\", \"options\": [\"slight fade\", \"moderate fade\", \"heavy fade\", \"authentic aging\", \"modern interpretation\"] },\n              { \"key\": \"polaroid_imperfections\", \"type\": \"select\", \"label\": \"Imperfections\", \"options\": [\"clean\", \"light spots\", \"dust and scratches\", \"chemical stains\", \"aged damage\"] },\n              { \"key\": \"polaroid_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the instant photo aesthetic, aging, nostalgic feel...\" }\n            ]\n          },\n          \"instagram\": {\n            \"label\": \"Social Media Filter Details\",\n            \"fields\": [\n              { \"key\": \"instagram_style\", \"type\": \"select\", \"label\": \"Filter Style\", \"options\": [\"Valencia\", \"X-Pro II\", \"Amaro\", \"Rise\", \"Hudson\", \"modern preset\", \"trending filter\"] },\n              { \"key\": \"instagram_saturation\", \"type\": \"select\", \"label\": \"Saturation\", \"options\": [\"natural\", \"enhanced\", \"vibrant\", \"muted\", \"desaturated\"] },\n              { \"key\": \"instagram_brightness\", \"type\": \"select\", \"label\": \"Brightness\", \"options\": [\"normal\", \"brightened\", \"high-key\", \"low-key\", \"dramatic\"] },\n              { \"key\": \"instagram_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the social media aesthetic, trendy look, engagement appeal...\" }\n            ]\n          },\n          \"VSCO\": {\n            \"label\": \"VSCO Filter Details\",\n            \"fields\": [\n              { \"key\": \"vsco_film_emulation\", \"type\": \"select\", \"label\": \"Film Emulation\", \"options\": [\"Kodak Portra\", \"Fuji 400H\", \"Ilford HP5\", \"Kodak Gold\", \"Agfa Vista\", \"custom film\"] },\n              { \"key\": \"vsco_exposure\", \"type\": \"select\", \"label\": \"Exposure\", \"options\": [\"underexposed\", \"normal\", \"overexposed\", \"pushed film\", \"pulled film\"] },\n              { \"key\": \"vsco_fade\", \"type\": \"select\", \"label\": \"Film Fade\", \"options\": [\"no fade\", \"subtle fade\", \"lifted blacks\", \"film crush\", \"vintage fade\"] },\n              { \"key\": \"vsco_description\", \"type\": \"textarea\", \"label\": \"Description\", \"placeholder\": \"Describe the film emulation, analog feel, professional aesthetic...\" }\n            ]\n          }\n        } }\n      ]\n    },\n    {\n      \"id\": \"mood_tone\",\n      \"label\": \"Mood / Tone\",\n      \"fields\": [\n        { \"key\": \"tone\", \"type\": \"select\", \"label\": \"Tone\", \"options\": [\"uplifting\", \"melancholic\", \"mysterious\", \"dramatic\", \"comedic\", \"romantic\", \"suspenseful\", \"peaceful\", \"energetic\", \"dark\", \"light\", \"serious\", \"playful\", \"nostalgic\", \"futuristic\", \"vintage\", \"epic\", \"intimate\", \"confident\", \"emotional\", \"whimsical\", \"custom...\"] },\n        { \"key\": \"atmosphere\", \"type\": \"select\", \"label\": \"Atmosphere\", \"options\": [\"cozy\", \"tense\", \"ethereal\", \"gritty\", \"dreamy\", \"harsh\", \"serene\", \"chaotic\", \"magical\", \"realistic\", \"surreal\", \"inviting\", \"foreboding\", \"inspiring\", \"oppressive\", \"liberating\", \"authentic\", \"quirky\", \"eerie\", \"nostalgic\", \"clinical precision\", \"majestic\", \"intimate\", \"viral energy\", \"custom...\"] },\n        { \"key\": \"emotional_response\", \"type\": \"select\", \"label\": \"Emotional Response\", \"options\": [\"joy\", \"sadness\", \"fear\", \"excitement\", \"wonder\", \"nostalgia\", \"hope\", \"anxiety\", \"comfort\", \"inspiration\", \"empowerment\", \"vulnerability\", \"awe\", \"curiosity\", \"satisfaction\", \"longing\", \"humor\", \"viral engagement\", \"authentic connection\", \"custom...\"] }\n      ]\n    },\n    {\n      \"id\": \"ai_extensions\",\n      \"label\": \"AI Extensions\",\n      \"fields\": [\n        { \"key\": \"continuation_type\", \"type\": \"select\", \"label\": \"Continuation Type\", \"options\": [\"logical\", \"twist\", \"genreShift\", \"characterDevelopment\", \"flashback\", \"timeSkip\", \"alternateReality\", \"environmentalEscalation\"] },\n        { \"key\": \"character_focus\", \"type\": \"text\", \"label\": \"Character Focus\", \"placeholder\": \"Which character is being developed\" },\n        { \"key\": \"development_type\", \"type\": \"select\", \"label\": \"Development Type\", \"options\": [\"fear\", \"desire\", \"backstory\", \"relationship\", \"skill\", \"vulnerability\", \"strength\", \"motivation\", \"internal_conflict\", \"growth\"] },\n        { \"key\": \"internal_state\", \"type\": \"textarea\", \"label\": \"Internal State\", \"placeholder\": \"Character's emotional/psychological condition\" },\n        { \"key\": \"narrative_connection\", \"type\": \"textarea\", \"label\": \"Narrative Connection\", \"placeholder\": \"How this connects to the previous scene\" },\n        { \"key\": \"twist_type\", \"type\": \"select\", \"label\": \"Twist Type\", \"options\": [\"unexpected_element\", \"character_revelation\", \"plot_reversal\", \"identity_surprise\", \"motive_reveal\", \"situation_flip\"] },\n        { \"key\": \"optimization_type\", \"type\": \"select\", \"label\": \"Optimization Type\", \"options\": [\"enhance\", \"platform\", \"style\", \"viral\", \"technical\", \"visual_spectacle\", \"emotional_resonance\", \"narrative_cohesion\"] },\n        { \"key\": \"quality_improvements\", \"type\": \"textarea\", \"label\": \"Quality Improvements\", \"placeholder\": \"List of key enhancements made\" },\n        { \"key\": \"creative_additions\", \"type\": \"textarea\", \"label\": \"Creative Additions\", \"placeholder\": \"Artistic improvements made\" },\n        { \"key\": \"viral_elements\", \"type\": \"textarea\", \"label\": \"Viral Elements\", \"placeholder\": \"Shareability enhancements\" },\n        { \"key\": \"engagement_hooks\", \"type\": \"textarea\", \"label\": \"Engagement Hooks\", \"placeholder\": \"Attention-grabbing moments\" },\n        { \"key\": \"platform_adaptations\", \"type\": \"textarea\", \"label\": \"Platform Adaptations\", \"placeholder\": \"Platform-specific changes\" },\n        { \"key\": \"target_platform\", \"type\": \"select\", \"label\": \"Target Platform\", \"options\": [\"youtube\", \"tiktok\", \"instagram\", \"twitter\", \"facebook\", \"linkedin\", \"snapchat\", \"general\"] },\n        { \"key\": \"technical_specifications\", \"type\": \"textarea\", \"label\": \"Technical Specifications\", \"placeholder\": \"Technical improvements made\" },\n        { \"key\": \"style_elements\", \"type\": \"textarea\", \"label\": \"Style Elements\", \"placeholder\": \"Applied style characteristics\" },\n        { \"key\": \"aesthetic_enhancements\", \"type\": \"textarea\", \"label\": \"Aesthetic Enhancements\", \"placeholder\": \"Visual style improvements\" }\n      ]\n    }\n  ]\n};","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","export const characterPresets = {\n  // 🧑 HUMANS (12 characters) - Everyday people\n  \"teenager-dyed-hair\": {\n    id: \"teenager-dyed-hair\",\n    name: \"Teenager with dyed hair and casual streetwear\",\n    description: \"Young person with colorful hair and trendy street fashion\",\n    category: \"humans\",\n    tags: [\"teenager\", \"streetwear\", \"trendy\", \"youth\"],\n    useCase: \"Youth marketing, casual fashion, teen content, street culture\",\n    fields: {\n      character_type: \"human\",\n      gender: \"non-binary\",\n      age_range: \"teenager (16-17)\",\n      ethnicity: \"mixed race\",\n      body_type: \"slim\",\n      hair_style: \"messy with color streaks\",\n      hair_color: \"purple and blue\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"streetwear\",\n      actions: \"hanging out\",\n      emotions: \"confident\"\n    },\n    customDetails: \"Vibrant colored hair, ripped jeans, graphic t-shirt, sneakers, confident street style\"\n  },\n\n  \"elderly-woman-glasses\": {\n    id: \"elderly-woman-glasses\",\n    name: \"Elderly woman with glasses and warm smile\",\n    description: \"Kind grandmother figure with wisdom and warmth\",\n    category: \"humans\",\n    tags: [\"elderly\", \"grandmother\", \"wise\", \"caring\"],\n    useCase: \"Family content, wisdom themes, elderly care, generational stories\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"elderly (70+)\",\n      ethnicity: \"caucasian\",\n      body_type: \"average\",\n      hair_style: \"short curly\",\n      hair_color: \"gray\",\n      eye_color: \"blue\",\n      skin_tone: \"fair\",\n      clothing: \"comfortable casual\",\n      actions: \"smiling warmly\",\n      emotions: \"kind\"\n    },\n    customDetails: \"Reading glasses, cardigan sweater, gentle wrinkles, warm grandmother energy\"\n  },\n\n  \"middle-aged-man-beard\": {\n    id: \"middle-aged-man-beard\",\n    name: \"Middle-aged man with beard working on laptop\",\n    description: \"Professional working remotely with casual confidence\",\n    category: \"humans\",\n    tags: [\"middle-aged\", \"remote-work\", \"professional\", \"casual\"],\n    useCase: \"Remote work content, professional casual, modern workplace, tech industry\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"middle-aged (45)\",\n      ethnicity: \"caucasian\",\n      body_type: \"average\",\n      hair_style: \"short with beard\",\n      hair_color: \"brown with gray\",\n      eye_color: \"hazel\",\n      skin_tone: \"fair\",\n      clothing: \"casual professional\",\n      actions: \"working on laptop\",\n      emotions: \"focused\"\n    },\n    customDetails: \"Well-groomed beard, button-down shirt, laptop, coffee mug, home office setup\"\n  },\n\n  \"young-woman-ponytail\": {\n    id: \"young-woman-ponytail\",\n    name: \"Young woman with ponytail in workout clothes\",\n    description: \"Athletic young woman ready for fitness activities\",\n    category: \"humans\",\n    tags: [\"young-adult\", \"fitness\", \"athletic\", \"active\"],\n    useCase: \"Fitness content, health apps, active lifestyle, sports marketing\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"young adult (24)\",\n      ethnicity: \"hispanic/latino\",\n      body_type: \"athletic\",\n      hair_style: \"high ponytail\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"olive\",\n      clothing: \"workout clothes\",\n      actions: \"preparing to exercise\",\n      emotions: \"energetic\"\n    },\n    customDetails: \"Sports bra, leggings, running shoes, water bottle, fitness tracker\"\n  },\n\n  \"child-backpack\": {\n    id: \"child-backpack\",\n    name: \"Child with school backpack and bright smile\",\n    description: \"Elementary school student ready for learning adventures\",\n    category: \"humans\",\n    tags: [\"child\", \"school\", \"learning\", \"education\"],\n    useCase: \"Educational content, children's products, school themes, family content\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"child (8)\",\n      ethnicity: \"african\",\n      body_type: \"small\",\n      hair_style: \"short curly\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"dark\",\n      clothing: \"school clothes\",\n      actions: \"going to school\",\n      emotions: \"excited\"\n    },\n    customDetails: \"Colorful backpack, school uniform, bright smile, lunch box, eager to learn\"\n  },\n\n  \"woman-business-casual\": {\n    id: \"woman-business-casual\",\n    name: \"Woman in business casual holding coffee\",\n    description: \"Professional woman balancing work life with casual confidence\",\n    category: \"humans\",\n    tags: [\"professional\", \"business-casual\", \"coffee\", \"modern-work\"],\n    useCase: \"Modern workplace, business casual fashion, professional women, work-life balance\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (32)\",\n      ethnicity: \"asian\",\n      body_type: \"slim\",\n      hair_style: \"shoulder length\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"light\",\n      clothing: \"business casual\",\n      actions: \"holding coffee\",\n      emotions: \"composed\"\n    },\n    customDetails: \"Blazer over blouse, dress pants, coffee cup, professional but approachable\"\n  },\n\n  \"man-casual-jeans\": {\n    id: \"man-casual-jeans\",\n    name: \"Man in casual jeans and t-shirt relaxing\",\n    description: \"Relaxed everyday person in comfortable casual wear\",\n    category: \"humans\",\n    tags: [\"casual\", \"relaxed\", \"everyday\", \"comfortable\"],\n    useCase: \"Casual lifestyle, everyday products, relaxation themes, weekend content\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (28)\",\n      ethnicity: \"middle eastern\",\n      body_type: \"average\",\n      hair_style: \"medium length\",\n      hair_color: \"dark brown\",\n      eye_color: \"brown\",\n      skin_tone: \"olive\",\n      clothing: \"casual wear\",\n      actions: \"relaxing\",\n      emotions: \"content\"\n    },\n    customDetails: \"Comfortable jeans, plain t-shirt, relaxed posture, weekend vibes\"\n  },\n\n  \"student-books\": {\n    id: \"student-books\",\n    name: \"College student carrying stack of books\",\n    description: \"Dedicated student focused on academic success\",\n    category: \"humans\",\n    tags: [\"student\", \"college\", \"academic\", \"studying\"],\n    useCase: \"Educational content, student life, academic products, learning platforms\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"young adult (20)\",\n      ethnicity: \"indian\",\n      body_type: \"slim\",\n      hair_style: \"long straight\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"student casual\",\n      actions: \"carrying books\",\n      emotions: \"studious\"\n    },\n    customDetails: \"Heavy textbooks, backpack, campus clothing, determined expression, academic focus\"\n  },\n\n  \"parent-toddler\": {\n    id: \"parent-toddler\",\n    name: \"Parent playing with toddler in park\",\n    description: \"Loving parent engaged in quality time with young child\",\n    category: \"humans\",\n    tags: [\"parent\", \"family\", \"toddler\", \"playful\"],\n    useCase: \"Family products, parenting content, child care, playground themes\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (35)\",\n      ethnicity: \"mixed race\",\n      body_type: \"average\",\n      hair_style: \"short\",\n      hair_color: \"brown\",\n      eye_color: \"green\",\n      skin_tone: \"medium\",\n      clothing: \"parent casual\",\n      actions: \"playing with child\",\n      emotions: \"loving\"\n    },\n    customDetails: \"Comfortable parent clothes, playground setting, gentle interactions, family bonding\"\n  },\n\n  \"senior-man-walking\": {\n    id: \"senior-man-walking\",\n    name: \"Senior man walking with cane confidently\",\n    description: \"Active senior maintaining independence and dignity\",\n    category: \"humans\",\n    tags: [\"senior\", \"active\", \"independent\", \"dignity\"],\n    useCase: \"Senior products, healthcare, active aging, mobility aids\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"senior (68)\",\n      ethnicity: \"caucasian\",\n      body_type: \"average\",\n      hair_style: \"short gray\",\n      hair_color: \"white\",\n      eye_color: \"blue\",\n      skin_tone: \"fair\",\n      clothing: \"comfortable casual\",\n      actions: \"walking confidently\",\n      emotions: \"dignified\"\n    },\n    customDetails: \"Walking cane, comfortable shoes, confident posture, active lifestyle\"\n  },\n\n  \"teenage-girl-phone\": {\n    id: \"teenage-girl-phone\",\n    name: \"Teenage girl taking selfie with phone\",\n    description: \"Social media savvy teen expressing herself digitally\",\n    category: \"humans\",\n    tags: [\"teenager\", \"social-media\", \"selfie\", \"digital-native\"],\n    useCase: \"Social media apps, teen products, digital lifestyle, phone accessories\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"teenager (17)\",\n      ethnicity: \"pacific islander\",\n      body_type: \"average\",\n      hair_style: \"long wavy\",\n      hair_color: \"brown with highlights\",\n      eye_color: \"brown\",\n      skin_tone: \"tan\",\n      clothing: \"trendy casual\",\n      actions: \"taking selfie\",\n      emotions: \"playful\"\n    },\n    customDetails: \"Smartphone, trendy outfit, natural lighting, social media pose, youthful energy\"\n  },\n\n  \"craftsman-tools\": {\n    id: \"craftsman-tools\",\n    name: \"Skilled craftsman working with tools\",\n    description: \"Experienced tradesperson focused on quality workmanship\",\n    category: \"humans\",\n    tags: [\"craftsman\", \"skilled\", \"tools\", \"tradesperson\"],\n    useCase: \"Trade services, tool marketing, skilled labor, craftsmanship\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"middle-aged (42)\",\n      ethnicity: \"hispanic/latino\",\n      body_type: \"stocky\",\n      hair_style: \"short\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"work clothes\",\n      actions: \"working with tools\",\n      emotions: \"focused\"\n    },\n    customDetails: \"Work shirt, tool belt, safety equipment, skilled hands, workshop setting\"\n  },\n\n  // 💼 COMMERCIAL/PROFESSIONAL (12 characters) - Business-Ready\n  \"corporate-executive\": {\n    id: \"corporate-executive\",\n    name: \"Corporate executive in premium suit\",\n    description: \"High-level business leader with commanding presence\",\n    category: \"commercial\",\n    tags: [\"executive\", \"corporate\", \"leadership\", \"premium\"],\n    useCase: \"Corporate communications, executive content, business leadership, premium brands\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (45)\",\n      ethnicity: \"caucasian\",\n      body_type: \"professional\",\n      hair_style: \"professional bob\",\n      hair_color: \"blonde\",\n      eye_color: \"blue\",\n      skin_tone: \"fair\",\n      clothing: \"premium business suit\",\n      actions: \"leading meeting\",\n      emotions: \"confident\"\n    },\n    customDetails: \"Tailored suit, expensive accessories, commanding presence, boardroom ready\"\n  },\n\n  \"doctor-lab-coat\": {\n    id: \"doctor-lab-coat\",\n    name: \"Doctor in lab coat with stethoscope\",\n    description: \"Medical professional providing healthcare expertise\",\n    category: \"commercial\",\n    tags: [\"doctor\", \"medical\", \"healthcare\", \"professional\"],\n    useCase: \"Healthcare marketing, medical services, pharmaceutical content, wellness brands\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (38)\",\n      ethnicity: \"indian\",\n      body_type: \"average\",\n      hair_style: \"short professional\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"medical scrubs with lab coat\",\n      actions: \"examining patient\",\n      emotions: \"caring professional\"\n    },\n    customDetails: \"White lab coat, stethoscope, medical badge, caring demeanor, hospital setting\"\n  },\n\n  \"financial-advisor\": {\n    id: \"financial-advisor\",\n    name: \"Financial advisor explaining investment charts\",\n    description: \"Expert financial professional providing guidance\",\n    category: \"commercial\",\n    tags: [\"financial\", \"advisor\", \"investment\", \"expertise\"],\n    useCase: \"Financial services, investment platforms, banking, retirement planning\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (34)\",\n      ethnicity: \"asian\",\n      body_type: \"professional\",\n      hair_style: \"professional\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"light\",\n      clothing: \"business attire\",\n      actions: \"presenting charts\",\n      emotions: \"knowledgeable\"\n    },\n    customDetails: \"Business suit, financial charts, professional demeanor, office setting\"\n  },\n\n  \"tech-engineer\": {\n    id: \"tech-engineer\",\n    name: \"Software engineer coding at modern workstation\",\n    description: \"Technical professional creating digital solutions\",\n    category: \"commercial\",\n    tags: [\"engineer\", \"technology\", \"coding\", \"innovation\"],\n    useCase: \"Tech companies, software platforms, engineering services, innovation content\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"young adult (29)\",\n      ethnicity: \"mixed race\",\n      body_type: \"slim\",\n      hair_style: \"modern casual\",\n      hair_color: \"brown\",\n      eye_color: \"hazel\",\n      skin_tone: \"medium\",\n      clothing: \"tech casual\",\n      actions: \"coding\",\n      emotions: \"focused\"\n    },\n    customDetails: \"Multiple monitors, modern workspace, casual tech attire, innovative environment\"\n  },\n\n  \"lawyer-attorney\": {\n    id: \"lawyer-attorney\",\n    name: \"Lawyer in courtroom presenting case\",\n    description: \"Legal professional advocating for clients\",\n    category: \"commercial\",\n    tags: [\"lawyer\", \"legal\", \"courtroom\", \"professional\"],\n    useCase: \"Legal services, law firms, justice themes, professional services\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (41)\",\n      ethnicity: \"african\",\n      body_type: \"professional\",\n      hair_style: \"professional\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"dark\",\n      clothing: \"professional suit\",\n      actions: \"presenting case\",\n      emotions: \"persuasive\"\n    },\n    customDetails: \"Conservative suit, legal briefcase, courtroom setting, authoritative presence\"\n  },\n\n  \"chef-restaurant\": {\n    id: \"chef-restaurant\",\n    name: \"Head chef in professional kitchen\",\n    description: \"Culinary expert creating exceptional dishes\",\n    category: \"commercial\",\n    tags: [\"chef\", \"culinary\", \"restaurant\", \"expertise\"],\n    useCase: \"Restaurant marketing, culinary content, food services, chef products\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (36)\",\n      ethnicity: \"italian\",\n      body_type: \"average\",\n      hair_style: \"short\",\n      hair_color: \"dark brown\",\n      eye_color: \"brown\",\n      skin_tone: \"olive\",\n      clothing: \"chef whites\",\n      actions: \"preparing cuisine\",\n      emotions: \"passionate\"\n    },\n    customDetails: \"Chef hat, professional kitchen, culinary tools, passionate about food\"\n  },\n\n  \"sales-manager\": {\n    id: \"sales-manager\",\n    name: \"Sales manager presenting to clients\",\n    description: \"Dynamic sales professional closing deals\",\n    category: \"commercial\",\n    tags: [\"sales\", \"manager\", \"presentation\", \"dynamic\"],\n    useCase: \"Sales training, CRM platforms, business development, client services\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (33)\",\n      ethnicity: \"hispanic/latino\",\n      body_type: \"professional\",\n      hair_style: \"professional\",\n      hair_color: \"brown\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"business attire\",\n      actions: \"presenting to clients\",\n      emotions: \"enthusiastic\"\n    },\n    customDetails: \"Professional attire, presentation materials, client meeting setting, persuasive energy\"\n  },\n\n  \"architect-blueprints\": {\n    id: \"architect-blueprints\",\n    name: \"Architect reviewing building blueprints\",\n    description: \"Design professional creating architectural solutions\",\n    category: \"commercial\",\n    tags: [\"architect\", \"design\", \"blueprints\", \"creative-professional\"],\n    useCase: \"Architecture firms, design services, construction, creative professionals\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (40)\",\n      ethnicity: \"middle eastern\",\n      body_type: \"professional\",\n      hair_style: \"professional\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"olive\",\n      clothing: \"business casual\",\n      actions: \"reviewing plans\",\n      emotions: \"analytical\"\n    },\n    customDetails: \"Architectural blueprints, design tools, professional workspace, creative focus\"\n  },\n\n  \"marketing-director\": {\n    id: \"marketing-director\",\n    name: \"Marketing director planning campaign strategy\",\n    description: \"Strategic marketing professional driving brand growth\",\n    category: \"commercial\",\n    tags: [\"marketing\", \"director\", \"strategy\", \"brand\"],\n    useCase: \"Marketing agencies, brand management, advertising, strategic planning\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (37)\",\n      ethnicity: \"caucasian\",\n      body_type: \"professional\",\n      hair_style: \"modern professional\",\n      hair_color: \"red\",\n      eye_color: \"green\",\n      skin_tone: \"fair\",\n      clothing: \"stylish business\",\n      actions: \"strategic planning\",\n      emotions: \"innovative\"\n    },\n    customDetails: \"Modern office, strategic materials, creative energy, brand-focused\"\n  },\n\n  \"consultant-presentation\": {\n    id: \"consultant-presentation\",\n    name: \"Management consultant delivering insights\",\n    description: \"Expert consultant providing strategic guidance\",\n    category: \"commercial\",\n    tags: [\"consultant\", \"management\", \"insights\", \"strategic\"],\n    useCase: \"Consulting services, business strategy, professional services, expertise\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (43)\",\n      ethnicity: \"south asian\",\n      body_type: \"professional\",\n      hair_style: \"professional\",\n      hair_color: \"black with gray\",\n      eye_color: \"brown\",\n      skin_tone: \"medium\",\n      clothing: \"consultant attire\",\n      actions: \"delivering presentation\",\n      emotions: \"authoritative\"\n    },\n    customDetails: \"Professional suit, presentation materials, consulting environment, expert presence\"\n  },\n\n  \"project-manager\": {\n    id: \"project-manager\",\n    name: \"Project manager coordinating team workflow\",\n    description: \"Organized professional managing complex projects\",\n    category: \"commercial\",\n    tags: [\"project-manager\", \"coordination\", \"workflow\", \"organized\"],\n    useCase: \"Project management tools, team collaboration, workflow software, productivity\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"adult (31)\",\n      ethnicity: \"korean\",\n      body_type: \"professional\",\n      hair_style: \"neat professional\",\n      hair_color: \"black\",\n      eye_color: \"brown\",\n      skin_tone: \"light\",\n      clothing: \"business casual\",\n      actions: \"coordinating team\",\n      emotions: \"organized\"\n    },\n    customDetails: \"Project boards, team workspace, organizational tools, collaborative environment\"\n  },\n\n  \"ceo-keynote\": {\n    id: \"ceo-keynote\",\n    name: \"CEO delivering keynote speech\",\n    description: \"Visionary leader inspiring audiences\",\n    category: \"commercial\",\n    tags: [\"CEO\", \"keynote\", \"leadership\", \"visionary\"],\n    useCase: \"Corporate events, leadership content, keynote platforms, executive communications\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"middle-aged (48)\",\n      ethnicity: \"african\",\n      body_type: \"commanding\",\n      hair_style: \"distinguished\",\n      hair_color: \"black with gray\",\n      eye_color: \"brown\",\n      skin_tone: \"dark\",\n      clothing: \"executive suit\",\n      actions: \"delivering keynote\",\n      emotions: \"inspiring\"\n    },\n    customDetails: \"Premium suit, stage presence, conference setting, visionary energy\"\n  },\n\n  // 😜 FUN/MEME/WHIMSICAL (12 characters) - Playful & Creative\n  \"person-oversized-cartoon-head\": {\n    id: \"person-oversized-cartoon-head\",\n    name: \"Person with oversized cartoon head\",\n    description: \"Whimsical character with exaggerated cartoon features\",\n    category: \"fun\",\n    tags: [\"cartoon\", \"whimsical\", \"oversized\", \"playful\"],\n    useCase: \"Meme content, cartoon themes, playful brands, humor marketing\",\n    fields: {\n      character_type: \"cartoon human\",\n      gender: \"non-binary\",\n      age_range: \"ageless\",\n      ethnicity: \"cartoon\",\n      body_type: \"cartoon proportions\",\n      hair_style: \"cartoon spiky\",\n      hair_color: \"bright blue\",\n      eye_color: \"huge cartoon eyes\",\n      skin_tone: \"cartoon yellow\",\n      clothing: \"cartoon outfit\",\n      actions: \"being cartoonish\",\n      emotions: \"exaggerated joy\"\n    },\n    customDetails: \"Massive cartoon head, tiny body, bright colors, exaggerated expressions, meme-worthy\"\n  },\n\n  \"human-dressed-pizza\": {\n    id: \"human-dressed-pizza\",\n    name: \"Human dressed as giant pizza slice\",\n    description: \"Person in elaborate pizza costume for maximum fun\",\n    category: \"fun\",\n    tags: [\"costume\", \"pizza\", \"food\", \"silly\"],\n    useCase: \"Food marketing, costume content, humor campaigns, viral marketing\",\n    fields: {\n      character_type: \"costumed human\",\n      gender: \"male\",\n      age_range: \"adult (26)\",\n      ethnicity: \"mixed race\",\n      body_type: \"pizza-shaped\",\n      hair_style: \"hidden by costume\",\n      hair_color: \"unknown\",\n      eye_color: \"visible through costume\",\n      skin_tone: \"pizza-colored\",\n      clothing: \"pizza slice costume\",\n      actions: \"being delicious\",\n      emotions: \"cheesy joy\"\n    },\n    customDetails: \"Full pizza slice costume, pepperoni details, cheese stretches, food mascot energy\"\n  },\n\n  \"meme-lord-supreme\": {\n    id: \"meme-lord-supreme\",\n    name: \"Ultimate meme lord with all the references\",\n    description: \"Internet culture expert speaking entirely in memes\",\n    category: \"fun\",\n    tags: [\"meme\", \"internet\", \"culture\", \"references\"],\n    useCase: \"Internet culture content, social media marketing, meme campaigns, viral content\",\n    fields: {\n      character_type: \"human\",\n      gender: \"non-binary\",\n      age_range: \"young adult (22)\",\n      ethnicity: \"asian\",\n      body_type: \"chronically online\",\n      hair_style: \"anime-inspired\",\n      hair_color: \"rainbow streaks\",\n      eye_color: \"screen-glare affected\",\n      skin_tone: \"monitor tan\",\n      clothing: \"meme merchandise\",\n      actions: \"making references\",\n      emotions: \"ironically enthusiastic\"\n    },\n    customDetails: \"Multiple screens, meme t-shirts, finger guns, knows every internet trend, poggers\"\n  },\n\n  \"dancing-hot-dog\": {\n    id: \"dancing-hot-dog\",\n    name: \"Dancing hot dog mascot with moves\",\n    description: \"Viral hot dog character with infectious dance energy\",\n    category: \"fun\",\n    tags: [\"dancing\", \"hot-dog\", \"mascot\", \"viral\"],\n    useCase: \"Food marketing, dance content, mascot campaigns, viral videos\",\n    fields: {\n      character_type: \"food mascot\",\n      gender: \"hot dog\",\n      age_range: \"timeless\",\n      ethnicity: \"processed meat\",\n      body_type: \"cylindrical\",\n      hair_style: \"none\",\n      hair_color: \"none\",\n      eye_color: \"cartoon dots\",\n      skin_tone: \"hot dog colored\",\n      clothing: \"bun and condiments\",\n      actions: \"dancing\",\n      emotions: \"groove-tastic\"\n    },\n    customDetails: \"Anthropomorphic hot dog, dance moves, mustard and ketchup, viral energy\"\n  },\n\n  \"karen-manager-caller\": {\n    id: \"karen-manager-caller\",\n    name: \"Karen demanding to speak to the manager\",\n    description: \"Entitled customer with distinctive haircut and attitude\",\n    category: \"fun\",\n    tags: [\"karen\", \"manager\", \"entitled\", \"meme\"],\n    useCase: \"Customer service training, retail humor, meme content, social commentary\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"middle-aged (45)\",\n      ethnicity: \"caucasian\",\n      body_type: \"entitled posture\",\n      hair_style: \"the karen cut\",\n      hair_color: \"blonde highlights\",\n      eye_color: \"demanding\",\n      skin_tone: \"fair\",\n      clothing: \"suburban mom uniform\",\n      actions: \"demanding manager\",\n      emotions: \"indignant\"\n    },\n    customDetails: \"Asymmetrical bob, yoga pants, demanding posture, 'let me speak to your manager' energy\"\n  },\n\n  \"florida-man\": {\n    id: \"florida-man\",\n    name: \"Florida Man doing something bizarre\",\n    description: \"Unpredictable character from the wildest news headlines\",\n    category: \"fun\",\n    tags: [\"florida-man\", \"bizarre\", \"unpredictable\", \"news\"],\n    useCase: \"News parody, bizarre content, Florida themes, unpredictable humor\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (38)\",\n      ethnicity: \"caucasian\",\n      body_type: \"unpredictable\",\n      hair_style: \"questionable choices\",\n      hair_color: \"sun-bleached\",\n      eye_color: \"seen too much\",\n      skin_tone: \"Florida tan\",\n      clothing: \"inappropriate for situation\",\n      actions: \"defying logic\",\n      emotions: \"chaotic neutral\"\n    },\n    customDetails: \"Tank top, flip flops, alligator nearby, defying all expectations and physics\"\n  },\n\n  \"tiktok-dancer-extreme\": {\n    id: \"tiktok-dancer-extreme\",\n    name: \"TikTok dancer doing impossible moves\",\n    description: \"Social media star with physics-defying dance skills\",\n    category: \"fun\",\n    tags: [\"tiktok\", \"dancing\", \"viral\", \"impossible\"],\n    useCase: \"Social media content, dance apps, viral marketing, youth culture\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"teenager (19)\",\n      ethnicity: \"mixed race\",\n      body_type: \"impossibly flexible\",\n      hair_style: \"trending style\",\n      hair_color: \"color of the month\",\n      eye_color: \"ring light optimized\",\n      skin_tone: \"filter perfect\",\n      clothing: \"viral outfit\",\n      actions: \"defying physics\",\n      emotions: \"permanently performing\"\n    },\n    customDetails: \"Ring light halo, impossible dance moves, perfect makeup, breaking reality for views\"\n  },\n\n  \"conspiracy-theorist-extreme\": {\n    id: \"conspiracy-theorist-extreme\",\n    name: \"Conspiracy theorist with red string wall\",\n    description: \"Paranoid character connecting everything to elaborate plots\",\n    category: \"fun\",\n    tags: [\"conspiracy\", \"paranoid\", \"theories\", \"red-string\"],\n    useCase: \"Conspiracy humor, paranoid content, mystery themes, investigative parody\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"middle-aged (52)\",\n      ethnicity: \"caucasian\",\n      body_type: \"caffeine-fueled\",\n      hair_style: \"unkempt from research\",\n      hair_color: \"gray from stress\",\n      eye_color: \"wide and alert\",\n      skin_tone: \"basement pale\",\n      clothing: \"paranoid casual\",\n      actions: \"connecting dots\",\n      emotions: \"frantically enlightened\"\n    },\n    customDetails: \"Red string everywhere, covered windows, multiple monitors, 'the truth is out there' energy\"\n  },\n\n  \"influencer-wannabe-extreme\": {\n    id: \"influencer-wannabe-extreme\",\n    name: \"Wannabe influencer with 3 followers\",\n    description: \"Delusional social media aspirant treating life as content\",\n    category: \"fun\",\n    tags: [\"influencer\", \"delusional\", \"social-media\", \"wannabe\"],\n    useCase: \"Social media parody, influencer humor, delusional content, marketing satire\",\n    fields: {\n      character_type: \"human\",\n      gender: \"female\",\n      age_range: \"young adult (23)\",\n      ethnicity: \"mixed race\",\n      body_type: \"posed 24/7\",\n      hair_style: \"constantly styled\",\n      hair_color: \"sponsored by nobody\",\n      eye_color: \"filter-enhanced\",\n      skin_tone: \"ring light perfected\",\n      clothing: \"unsponsored hauls\",\n      actions: \"creating content\",\n      emotions: \"delusionally confident\"\n    },\n    customDetails: \"Ring light attached to head, films everything, #sponsored tags on homemade lunch\"\n  },\n\n  \"dad-joke-master\": {\n    id: \"dad-joke-master\",\n    name: \"Dad joke master with finger guns\",\n    description: \"Ultimate dad with an arsenal of groan-worthy puns\",\n    category: \"fun\",\n    tags: [\"dad-jokes\", \"puns\", \"finger-guns\", \"wholesome\"],\n    useCase: \"Dad content, wholesome humor, family brands, pun marketing\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"middle-aged (48)\",\n      ethnicity: \"caucasian\",\n      body_type: \"peak dad bod\",\n      hair_style: \"receding but confident\",\n      hair_color: \"gray with pride\",\n      eye_color: \"twinkling with mischief\",\n      skin_tone: \"fair\",\n      clothing: \"ultimate dad uniform\",\n      actions: \"dual finger guns\",\n      emotions: \"proud of terrible jokes\"\n    },\n    customDetails: \"New Balance sneakers, cargo shorts, polo tucked in, infinite dad joke ammunition\"\n  },\n\n  \"office-chaos-creator\": {\n    id: \"office-chaos-creator\",\n    name: \"Office worker creating beautiful chaos\",\n    description: \"Well-meaning employee who somehow breaks everything\",\n    category: \"fun\",\n    tags: [\"office\", \"chaos\", \"clumsy\", \"well-meaning\"],\n    useCase: \"Office humor, workplace comedy, chaos content, relatable fails\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"adult (29)\",\n      ethnicity: \"mixed race\",\n      body_type: \"accident-prone\",\n      hair_style: \"disheveled from chaos\",\n      hair_color: \"brown\",\n      eye_color: \"innocent but dangerous\",\n      skin_tone: \"medium\",\n      clothing: \"business casual disaster\",\n      actions: \"breaking things accidentally\",\n      emotions: \"well-meaning confusion\"\n    },\n    customDetails: \"Printer paper everywhere, coffee stains, somehow tangled in ethernet cables\"\n  },\n\n  \"gym-influencer-parody\": {\n    id: \"gym-influencer-parody\",\n    name: \"Gym influencer making protein shake videos\",\n    description: \"Fitness content creator with questionable advice\",\n    category: \"fun\",\n    tags: [\"gym\", \"influencer\", \"fitness\", \"parody\"],\n    useCase: \"Fitness parody, gym humor, influencer satire, workout content\",\n    fields: {\n      character_type: \"human\",\n      gender: \"male\",\n      age_range: \"young adult (25)\",\n      ethnicity: \"caucasian\",\n      body_type: \"aggressively muscular\",\n      hair_style: \"protein-fueled spikes\",\n      hair_color: \"bleached tips\",\n      eye_color: \"pre-workout intense\",\n      skin_tone: \"spray tan orange\",\n      clothing: \"tank top cutting circulation\",\n      actions: \"flexing while talking\",\n      emotions: \"performatively intense\"\n    },\n    customDetails: \"Protein shaker always in hand, poses between sentences, everything is 'gains'\"\n  },\n\n  // 👾 CREATURES/SUPERNATURAL (12 characters) - Fantasy & Supernatural\n  \"small-mischievous-goblin\": {\n    id: \"small-mischievous-goblin\",\n    name: \"Small mischievous goblin stealing snacks\",\n    description: \"Tiny green troublemaker with a love for shiny objects\",\n    category: \"creatures\",\n    tags: [\"goblin\", \"mischievous\", \"fantasy\", \"small\"],\n    useCase: \"Fantasy content, mischief themes, gaming, supernatural stories\",\n    fields: {\n      character_type: \"goblin\",\n      gender: \"male\",\n      age_range: \"young adult (goblin years)\",\n      ethnicity: \"forest goblin\",\n      body_type: \"small and wiry\",\n      hair_style: \"wild and tangled\",\n      hair_color: \"dark green\",\n      eye_color: \"yellow and shifty\",\n      skin_tone: \"mottled green\",\n      clothing: \"tattered rags and stolen trinkets\",\n      actions: \"stealing shiny things\",\n      emotions: \"mischievous glee\"\n    },\n    customDetails: \"Pointed ears, sharp teeth, collection of stolen spoons, loves causing harmless trouble\"\n  },\n\n  \"elegant-vampire-lord\": {\n    id: \"elegant-vampire-lord\",\n    name: \"Elegant vampire lord in Victorian attire\",\n    description: \"Sophisticated undead aristocrat with centuries of refinement\",\n    category: \"creatures\",\n    tags: [\"vampire\", \"elegant\", \"victorian\", \"aristocrat\"],\n    useCase: \"Gothic content, vampire themes, elegant horror, supernatural aristocracy\",\n    fields: {\n      character_type: \"vampire\",\n      gender: \"male\",\n      age_range: \"centuries old\",\n      ethnicity: \"eastern european\",\n      body_type: \"aristocratic\",\n      hair_style: \"slicked back\",\n      hair_color: \"black with silver streaks\",\n      eye_color: \"deep red\",\n      skin_tone: \"pale marble\",\n      clothing: \"victorian formal wear\",\n      actions: \"elegant brooding\",\n      emotions: \"sophisticated melancholy\"\n    },\n    customDetails: \"Victorian cape, ornate cane, impeccable manners, centuries of refined taste\"\n  },\n\n  \"friendly-dragon-humanoid\": {\n    id: \"friendly-dragon-humanoid\",\n    name: \"Friendly dragon in human form reading books\",\n    description: \"Ancient dragon disguised as bookish human scholar\",\n    category: \"creatures\",\n    tags: [\"dragon\", \"friendly\", \"scholarly\", \"shapeshifter\"],\n    useCase: \"Fantasy education, book themes, friendly monsters, magical learning\",\n    fields: {\n      character_type: \"dragon (human form)\",\n      gender: \"female\",\n      age_range: \"ancient (appears 30)\",\n      ethnicity: \"draconic\",\n      body_type: \"scholarly human appearance\",\n      hair_style: \"neat librarian\",\n      hair_color: \"auburn with golden highlights\",\n      eye_color: \"golden with vertical pupils\",\n      skin_tone: \"warm with subtle scales\",\n      clothing: \"scholarly robes\",\n      actions: \"reading ancient tomes\",\n      emotions: \"curious wisdom\"\n    },\n    customDetails: \"Hidden scales, occasionally smoking nostrils, vast knowledge, hoards books instead of gold\"\n  },\n\n  \"wise-forest-sprite\": {\n    id: \"wise-forest-sprite\",\n    name: \"Ancient forest sprite guardian of nature\",\n    description: \"Tiny magical being protecting woodland creatures\",\n    category: \"creatures\",\n    tags: [\"sprite\", \"forest\", \"nature\", \"guardian\"],\n    useCase: \"Nature content, environmental themes, magical guardians, woodland stories\",\n    fields: {\n      character_type: \"forest sprite\",\n      gender: \"non-binary\",\n      age_range: \"ancient (appears young)\",\n      ethnicity: \"nature spirit\",\n      body_type: \"tiny and ethereal\",\n      hair_style: \"flowing like leaves\",\n      hair_color: \"green shifting to autumn colors\",\n      eye_color: \"deep forest green\",\n      skin_tone: \"bark-like texture\",\n      clothing: \"living moss and flower petals\",\n      actions: \"tending to plants\",\n      emotions: \"peaceful wisdom\"\n    },\n    customDetails: \"Transparent wings, speaks to animals, seasonal color changes, protects the forest\"\n  },\n\n  \"tech-ghost\": {\n    id: \"tech-ghost\",\n    name: \"Ghost haunting computers and Wi-Fi networks\",\n    description: \"Modern spirit adapted to haunt digital technology\",\n    category: \"creatures\",\n    tags: [\"ghost\", \"technology\", \"digital\", \"modern\"],\n    useCase: \"Tech horror, digital themes, modern supernatural, cyber content\",\n    fields: {\n      character_type: \"digital ghost\",\n      gender: \"non-binary\",\n      age_range: \"deceased (various)\",\n      ethnicity: \"digital spirit\",\n      body_type: \"translucent and flickering\",\n      hair_style: \"static interference\",\n      hair_color: \"blue-white light\",\n      eye_color: \"screen glow\",\n      skin_tone: \"translucent blue\",\n      clothing: \"digital static patterns\",\n      actions: \"haunting technology\",\n      emotions: \"mischievous confusion\"\n    },\n    customDetails: \"Flickers between screens, causes Wi-Fi issues, haunts social media profiles\"\n  },\n\n  \"alien-tourist\": {\n    id: \"alien-tourist\",\n    name: \"Curious alien tourist with camera\",\n    description: \"Extraterrestrial visitor documenting Earth culture\",\n    category: \"creatures\",\n    tags: [\"alien\", \"tourist\", \"curious\", \"visitor\"],\n    useCase: \"Sci-fi content, tourism themes, cultural exchange, space visitors\",\n    fields: {\n      character_type: \"alien\",\n      gender: \"alien (uses they/them)\",\n      age_range: \"unknown alien years\",\n      ethnicity: \"zeta reticulan\",\n      body_type: \"tall and thin\",\n      hair_style: \"none\",\n      hair_color: \"none\",\n      eye_color: \"large black\",\n      skin_tone: \"gray-green\",\n      clothing: \"tourist outfit with universal translator\",\n      actions: \"taking photos of everything\",\n      emotions: \"fascinated curiosity\"\n    },\n    customDetails: \"Oversized tourist shirt, alien camera, guidebook to Earth, constantly amazed\"\n  },\n\n  \"werewolf-barista\": {\n    id: \"werewolf-barista\",\n    name: \"Werewolf working night shift at coffee shop\",\n    description: \"Shape-shifting barista serving late-night caffeine fixes\",\n    category: \"creatures\",\n    tags: [\"werewolf\", \"barista\", \"night-shift\", \"service\"],\n    useCase: \"Service industry, night themes, supernatural workers, coffee content\",\n    fields: {\n      character_type: \"werewolf\",\n      gender: \"female\",\n      age_range: \"young adult (26)\",\n      ethnicity: \"mixed human-wolf\",\n      body_type: \"athletic with wolf traits\",\n      hair_style: \"wild but contained\",\n      hair_color: \"brown with natural highlights\",\n      eye_color: \"amber\",\n      skin_tone: \"olive with subtle fur\",\n      clothing: \"coffee shop uniform\",\n      actions: \"making perfect coffee\",\n      emotions: \"friendly but tired\"\n    },\n    customDetails: \"Slightly pointed ears, excellent sense of smell for coffee, works all full moons\"\n  },\n\n  \"robot-comedian\": {\n    id: \"robot-comedian\",\n    name: \"AI robot learning to tell jokes\",\n    description: \"Artificial intelligence discovering the nature of humor\",\n    category: \"creatures\",\n    tags: [\"robot\", \"AI\", \"comedian\", \"learning\"],\n    useCase: \"AI content, comedy themes, robot characters, technology humor\",\n    fields: {\n      character_type: \"AI robot\",\n      gender: \"artificial\",\n      age_range: \"recently activated\",\n      ethnicity: \"synthetic\",\n      body_type: \"humanoid mechanical\",\n      hair_style: \"none\",\n      hair_color: \"none\",\n      eye_color: \"LED displays\",\n      skin_tone: \"metallic silver\",\n      clothing: \"comedian's outfit\",\n      actions: \"analyzing humor patterns\",\n      emotions: \"computational curiosity\"\n    },\n    customDetails: \"LED expression display, analyzing every laugh, timing humor with atomic precision\"\n  },\n\n  \"time-traveling-cat\": {\n    id: \"time-traveling-cat\",\n    name: \"Cat who accidentally time travels\",\n    description: \"Feline with temporal displacement issues\",\n    category: \"creatures\",\n    tags: [\"cat\", \"time-travel\", \"accident\", \"temporal\"],\n    useCase: \"Time travel content, cat themes, accidental heroes, temporal stories\",\n    fields: {\n      character_type: \"temporal cat\",\n      gender: \"female\",\n      age_range: \"3 years (multiple timelines)\",\n      ethnicity: \"domestic shorthair\",\n      body_type: \"typical cat\",\n      hair_style: \"fur slightly out of phase\",\n      hair_color: \"orange tabby\",\n      eye_color: \"green with temporal flecks\",\n      skin_tone: \"cat\",\n      clothing: \"tiny temporal collar\",\n      actions: \"accidentally time jumping\",\n      emotions: \"confused but adapting\"\n    },\n    customDetails: \"Occasionally translucent, appears in historical photos, disrupts timelines for treats\"\n  },\n\n  \"dimensional-librarian\": {\n    id: \"dimensional-librarian\",\n    name: \"Interdimensional librarian cataloging realities\",\n    description: \"Keeper of knowledge across multiple universes\",\n    category: \"creatures\",\n    tags: [\"interdimensional\", \"librarian\", \"knowledge\", \"multiverse\"],\n    useCase: \"Library themes, knowledge content, multiverse stories, academic supernatural\",\n    fields: {\n      character_type: \"interdimensional being\",\n      gender: \"shifts between dimensions\",\n      age_range: \"outside linear time\",\n      ethnicity: \"multiversal\",\n      body_type: \"phases between forms\",\n      hair_style: \"exists in multiple styles simultaneously\",\n      hair_color: \"all colors at once\",\n      eye_color: \"contains universes\",\n      skin_tone: \"translucent with reality showing through\",\n      clothing: \"librarian robes that exist in all dimensions\",\n      actions: \"cataloging realities\",\n      emotions: \"infinite patience\"\n    },\n    customDetails: \"Sees all possible books, organizes chaos across dimensions, helpful but overwhelming\"\n  },\n\n  \"guardian-angel-intern\": {\n    id: \"guardian-angel-intern\",\n    name: \"Guardian angel intern still learning the job\",\n    description: \"Heavenly being in training making adorable mistakes\",\n    category: \"creatures\",\n    tags: [\"angel\", \"intern\", \"learning\", \"guardian\"],\n    useCase: \"Guardian themes, learning content, heavenly humor, protective stories\",\n    fields: {\n      character_type: \"angel\",\n      gender: \"non-binary\",\n      age_range: \"newly ascended\",\n      ethnicity: \"heavenly\",\n      body_type: \"ethereal but clumsy\",\n      hair_style: \"glowing curls\",\n      hair_color: \"golden light\",\n      eye_color: \"starlight blue\",\n      skin_tone: \"soft luminescence\",\n      clothing: \"trainee angel robes\",\n      actions: \"trying to help\",\n      emotions: \"eager but nervous\"\n    },\n    customDetails: \"Slightly crooked halo, wings sometimes backwards, means well but causes havoc\"\n  },\n\n  \"phoenix-chef\": {\n    id: \"phoenix-chef\",\n    name: \"Phoenix running a spicy food restaurant\",\n    description: \"Immortal fire bird who perfected cooking with flame\",\n    category: \"creatures\",\n    tags: [\"phoenix\", \"chef\", \"fire\", \"spicy\"],\n    useCase: \"Restaurant content, spicy food themes, fire cooking, mythical chefs\",\n    fields: {\n      character_type: \"phoenix\",\n      gender: \"female\",\n      age_range: \"reborn every 500 years\",\n      ethnicity: \"mythical fire bird\",\n      body_type: \"humanoid with fire aspects\",\n      hair_style: \"flames styled as hair\",\n      hair_color: \"living fire\",\n      eye_color: \"golden flame\",\n      skin_tone: \"warm with fire undertones\",\n      clothing: \"flame-proof chef attire\",\n      actions: \"cooking with natural fire\",\n      emotions: \"passionate about heat\"\n    },\n    customDetails: \"Hair is actual fire, never needs a stove, specializes in impossibly spicy dishes\"\n  },\n\n  // 🐶 ANIMALS (12 characters) - Beloved Pets & Wildlife\n  \"golden-retriever-buddy\": {\n    id: \"golden-retriever-buddy\",\n    name: \"Golden retriever with tennis ball\",\n    description: \"Loyal and energetic family dog with boundless enthusiasm\",\n    category: \"animals\",\n    tags: [\"dog\", \"golden-retriever\", \"loyal\", \"energetic\"],\n    useCase: \"Pet content, family themes, loyalty stories, energetic characters\",\n    fields: {\n      character_type: \"dog\",\n      species: \"golden retriever\",\n      age_range: \"adult dog (4 years)\",\n      size: \"large\",\n      fur_color: \"golden blonde\",\n      eye_color: \"warm brown\",\n      personality: \"enthusiastic and loyal\",\n      actions: \"playing fetch\",\n      emotions: \"joyful\"\n    },\n    customDetails: \"Fluffy golden coat, tennis ball always in mouth, tail constantly wagging, loves everyone\"\n  },\n\n  \"wise-old-owl\": {\n    id: \"wise-old-owl\",\n    name: \"Wise owl perched on ancient oak branch\",\n    description: \"Ancient barn owl with deep wisdom and piercing gaze\",\n    category: \"animals\",\n    tags: [\"owl\", \"wise\", \"ancient\", \"nocturnal\"],\n    useCase: \"Wisdom content, nighttime themes, educational material, nature stories\",\n    fields: {\n      character_type: \"bird\",\n      species: \"barn owl\",\n      age_range: \"elderly owl\",\n      size: \"medium\",\n      feather_color: \"white and brown speckled\",\n      eye_color: \"piercing yellow\",\n      personality: \"wise and patient\",\n      actions: \"perching thoughtfully\",\n      emotions: \"serene wisdom\"\n    },\n    customDetails: \"Large amber eyes, silent flight, perches on ancient branches, sees everything\"\n  },\n\n  \"playful-kitten\": {\n    id: \"playful-kitten\",\n    name: \"Playful kitten chasing yarn ball\",\n    description: \"Adorable young cat with endless curiosity and energy\",\n    category: \"animals\",\n    tags: [\"cat\", \"kitten\", \"playful\", \"curious\"],\n    useCase: \"Pet content, playful themes, kitten products, cute animal stories\",\n    fields: {\n      character_type: \"cat\",\n      species: \"domestic kitten\",\n      age_range: \"young kitten (3 months)\",\n      size: \"small\",\n      fur_color: \"gray and white\",\n      eye_color: \"bright blue\",\n      personality: \"curious and playful\",\n      actions: \"chasing yarn\",\n      emotions: \"pure joy\"\n    },\n    customDetails: \"Tiny paws, oversized ears, yarn tangled everywhere, boundless kitten energy\"\n  },\n\n  \"majestic-eagle\": {\n    id: \"majestic-eagle\",\n    name: \"Bald eagle soaring over mountains\",\n    description: \"Powerful symbol of freedom soaring with magnificent wingspan\",\n    category: \"animals\",\n    tags: [\"eagle\", \"majestic\", \"freedom\", \"powerful\"],\n    useCase: \"Freedom themes, patriotic content, nature documentaries, strength symbolism\",\n    fields: {\n      character_type: \"bird\",\n      species: \"bald eagle\",\n      age_range: \"adult eagle\",\n      size: \"large\",\n      feather_color: \"white head, dark brown body\",\n      eye_color: \"fierce yellow\",\n      personality: \"proud and powerful\",\n      actions: \"soaring majestically\",\n      emotions: \"dignified pride\"\n    },\n    customDetails: \"Distinctive white head, massive wingspan, sharp talons, symbol of freedom\"\n  },\n\n  \"curious-red-panda\": {\n    id: \"curious-red-panda\",\n    name: \"Red panda climbing bamboo playfully\",\n    description: \"Adorable red panda with masked face and ringed tail\",\n    category: \"animals\",\n    tags: [\"red-panda\", \"cute\", \"climbing\", \"bamboo\"],\n    useCase: \"Cute animal content, conservation themes, playful characters, nature education\",\n    fields: {\n      character_type: \"red panda\",\n      species: \"red panda\",\n      age_range: \"young adult\",\n      size: \"small-medium\",\n      fur_color: \"reddish-brown with white markings\",\n      eye_color: \"dark brown\",\n      personality: \"curious and acrobatic\",\n      actions: \"climbing bamboo\",\n      emotions: \"playful curiosity\"\n    },\n    customDetails: \"Masked face, ringed tail, excellent climber, absolutely adorable\"\n  },\n\n  \"loyal-german-shepherd\": {\n    id: \"loyal-german-shepherd\",\n    name: \"German shepherd in protective stance\",\n    description: \"Noble working dog displaying loyalty and intelligence\",\n    category: \"animals\",\n    tags: [\"german-shepherd\", \"loyal\", \"protective\", \"intelligent\"],\n    useCase: \"Security themes, loyalty content, working dogs, protection services\",\n    fields: {\n      character_type: \"dog\",\n      species: \"german shepherd\",\n      age_range: \"adult dog (5 years)\",\n      size: \"large\",\n      fur_color: \"tan and black\",\n      eye_color: \"intelligent brown\",\n      personality: \"loyal and protective\",\n      actions: \"standing guard\",\n      emotions: \"alert devotion\"\n    },\n    customDetails: \"Alert ears, intelligent eyes, protective posture, unwavering loyalty\"\n  },\n\n  \"graceful-swan\": {\n    id: \"graceful-swan\",\n    name: \"Swan gliding across pristine lake\",\n    description: \"Elegant white swan embodying grace and serenity\",\n    category: \"animals\",\n    tags: [\"swan\", \"graceful\", \"elegant\", \"serene\"],\n    useCase: \"Elegance themes, serenity content, grace and beauty, peaceful scenes\",\n    fields: {\n      character_type: \"bird\",\n      species: \"mute swan\",\n      age_range: \"adult swan\",\n      size: \"large\",\n      feather_color: \"pure white\",\n      eye_color: \"dark with orange beak\",\n      personality: \"graceful and serene\",\n      actions: \"gliding on water\",\n      emotions: \"peaceful elegance\"\n    },\n    customDetails: \"Pure white feathers, curved neck, orange beak, effortless gliding motion\"\n  },\n\n  \"playful-dolphin\": {\n    id: \"playful-dolphin\",\n    name: \"Dolphin jumping out of ocean waves\",\n    description: \"Intelligent marine mammal displaying joyful acrobatics\",\n    category: \"animals\",\n    tags: [\"dolphin\", \"intelligent\", \"playful\", \"ocean\"],\n    useCase: \"Ocean content, intelligence themes, marine life, joyful characters\",\n    fields: {\n      character_type: \"marine mammal\",\n      species: \"bottlenose dolphin\",\n      age_range: \"adult dolphin\",\n      size: \"large\",\n      skin_color: \"gray with lighter belly\",\n      eye_color: \"dark intelligent\",\n      personality: \"playful and intelligent\",\n      actions: \"jumping from water\",\n      emotions: \"joyful playfulness\"\n    },\n    customDetails: \"Sleek gray body, permanent smile, impressive jumps, high intelligence\"\n  },\n\n  \"mighty-lion\": {\n    id: \"mighty-lion\",\n    name: \"Lion with magnificent mane surveying savanna\",\n    description: \"King of beasts displaying regal power and authority\",\n    category: \"animals\",\n    tags: [\"lion\", \"mighty\", \"regal\", \"king\"],\n    useCase: \"Leadership themes, power content, regal characters, African wildlife\",\n    fields: {\n      character_type: \"big cat\",\n      species: \"African lion\",\n      age_range: \"adult male lion\",\n      size: \"large\",\n      fur_color: \"golden tan with dark mane\",\n      eye_color: \"fierce amber\",\n      personality: \"regal and powerful\",\n      actions: \"surveying territory\",\n      emotions: \"commanding presence\"\n    },\n    customDetails: \"Magnificent mane, golden coat, piercing amber eyes, powerful roar\"\n  },\n\n  \"gentle-elephant\": {\n    id: \"gentle-elephant\",\n    name: \"Elephant family walking together\",\n    description: \"Wise matriarch leading her family with gentle strength\",\n    category: \"animals\",\n    tags: [\"elephant\", \"family\", \"gentle\", \"wise\"],\n    useCase: \"Family themes, wisdom content, gentle giants, conservation stories\",\n    fields: {\n      character_type: \"elephant\",\n      species: \"African elephant\",\n      age_range: \"adult matriarch\",\n      size: \"enormous\",\n      skin_color: \"gray with weathered texture\",\n      eye_color: \"kind dark brown\",\n      personality: \"gentle and wise\",\n      actions: \"leading family\",\n      emotions: \"nurturing wisdom\"\n    },\n    customDetails: \"Massive but gentle, wrinkled skin, kind eyes, protective of family\"\n  },\n\n  \"busy-honeybee\": {\n    id: \"busy-honeybee\",\n    name: \"Honeybee covered in pollen visiting flowers\",\n    description: \"Hardworking pollinator essential to nature's cycle\",\n    category: \"animals\",\n    tags: [\"bee\", \"hardworking\", \"pollinator\", \"nature\"],\n    useCase: \"Nature content, environmental themes, hard work, tiny heroes\",\n    fields: {\n      character_type: \"insect\",\n      species: \"honeybee\",\n      age_range: \"worker bee\",\n      size: \"tiny\",\n      body_color: \"yellow and black stripes\",\n      eye_color: \"compound black\",\n      personality: \"hardworking and dedicated\",\n      actions: \"collecting pollen\",\n      emotions: \"purposeful determination\"\n    },\n    customDetails: \"Yellow and black stripes, wings buzzing, covered in pollen, essential worker\"\n  },\n\n  \"woodland-deer\": {\n    id: \"woodland-deer\",\n    name: \"Deer grazing peacefully in forest clearing\",\n    description: \"Gentle forest dweller moving gracefully through nature\",\n    category: \"animals\",\n    tags: [\"deer\", \"gentle\", \"forest\", \"peaceful\"],\n    useCase: \"Nature content, gentleness themes, peaceful wildlife, forest stories\",\n    fields: {\n      character_type: \"deer\",\n      species: \"white-tailed deer\",\n      age_range: \"adult doe\",\n      size: \"medium\",\n      fur_color: \"brown with white markings\",\n      eye_color: \"large dark brown\",\n      personality: \"gentle and alert\",\n      actions: \"grazing peacefully\",\n      emotions: \"serene alertness\"\n    },\n    customDetails: \"Soft brown coat, white tail, large gentle eyes, moves silently through trees\"\n  }\n};\n\n// Character category organization for scene builder - Updated for 5 subcategories\nexport const characterCategories = {\n  humans: {\n    name: \"Humans\",\n    icon: \"🧑\",\n    presets: [\n      \"teenager-dyed-hair\", \"elderly-woman-glasses\", \"middle-aged-man-beard\", \"young-woman-ponytail\",\n      \"child-backpack\", \"woman-business-casual\", \"man-casual-jeans\", \"student-books\",\n      \"parent-toddler\", \"senior-man-walking\", \"teenage-girl-phone\", \"craftsman-tools\"\n    ]\n  },\n  commercial: {\n    name: \"Commercial / Professional\",\n    icon: \"💼\", \n    presets: [\n      \"corporate-executive\", \"doctor-lab-coat\", \"financial-advisor\", \"tech-engineer\",\n      \"lawyer-attorney\", \"chef-restaurant\", \"sales-manager\", \"architect-blueprints\",\n      \"marketing-director\", \"consultant-presentation\", \"project-manager\", \"ceo-keynote\"\n    ]\n  },\n  fun: {\n    name: \"Fun / Meme / Whimsical\",\n    icon: \"😜\",\n    presets: [\n      \"person-oversized-cartoon-head\", \"human-dressed-pizza\", \"meme-lord-supreme\", \"dancing-hot-dog\",\n      \"karen-manager-caller\", \"florida-man\", \"tiktok-dancer-extreme\", \"conspiracy-theorist-extreme\",\n      \"influencer-wannabe-extreme\", \"dad-joke-master\", \"office-chaos-creator\", \"gym-influencer-parody\"\n    ]\n  },\n  creatures: {\n    name: \"Creatures / Supernatural\",\n    icon: \"👾\",\n    presets: [\n      \"small-mischievous-goblin\", \"elegant-vampire-lord\", \"friendly-dragon-humanoid\", \"wise-forest-sprite\",\n      \"tech-ghost\", \"alien-tourist\", \"werewolf-barista\", \"robot-comedian\",\n      \"time-traveling-cat\", \"dimensional-librarian\", \"guardian-angel-intern\", \"phoenix-chef\"\n    ]\n  },\n  animals: {\n    name: \"Animals\",\n    icon: \"🐶\",\n    presets: [\n      \"golden-retriever-buddy\", \"wise-old-owl\", \"playful-kitten\", \"majestic-eagle\",\n      \"curious-red-panda\", \"loyal-german-shepherd\", \"graceful-swan\", \"playful-dolphin\",\n      \"mighty-lion\", \"gentle-elephant\", \"busy-honeybee\", \"woodland-deer\"\n    ]\n  }\n};","import { randomHelpers } from './randomHelpers';\n\nexport const scenePresets = {\n  // URBAN LOCATIONS (8 scenes) - City and metropolitan environments 🏙️\n  \"city-street-chase\": {\n    id: \"city-street-chase\",\n    name: \"Street Chase Scene\",\n    description: \"High-speed pursuit through busy city streets with dynamic action\",\n    category: \"urban\",\n    tags: [\"street\", \"chase\", \"action\", \"pursuit\", \"urban\"],\n    useCase: \"Action sequences, thriller content, high-energy pursuits, dynamic street scenes\",\n    eventType: \"action\",\n    actionSequence: \"High-speed chase weaving through traffic and pedestrians\",\n    fields: {\n      scene: \"Intense chase scene through busy city streets with random(['car', 'motorcycle', 'parkour']) pursuit\",\n      setting: \"city street\",\n      time_of_day: \"random(['afternoon', 'golden hour', 'night'])\",\n      environmental_details: \"honking cars, screeching tires, and random(['crowd-screaming', 'sirens-approaching', 'glass-breaking'])\",\n      weather: \"random(['clear', 'light-rain', 'foggy'])\",\n      camera_angle: \"low tracking angle\",\n      camera_distance: \"following shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"action cinematic\",\n      color_palette: \"high contrast urban\",\n      lighting_type: \"harsh directional\",\n      motion_type: \"fast tracking\"\n    },\n    randomElements: {\n      chaseType: \"random(['car-chase', 'foot-chase', 'motorcycle-pursuit', 'parkour-escape'])\",\n      intensity: \"random(['moderate', 'high', 'extreme'])\",\n      outcome: \"random(['escape-success', 'capture', 'crash', 'narrow-miss'])\"\n    },\n    customDetails: \"High-octane chase sequence with vehicles weaving through traffic, people diving for cover, and the adrenaline-pumping energy of urban pursuit\"\n  },\n\n  \"rooftop-confrontation\": {\n    id: \"rooftop-confrontation\",\n    name: \"Rooftop Confrontation\",\n    description: \"Dramatic rooftop meeting with city skyline backdrop and high emotional stakes\",\n    category: \"urban\",\n    tags: [\"rooftop\", \"confrontation\", \"drama\", \"elevated\", \"tension\"],\n    useCase: \"Dramatic scenes, confrontational content, high-stakes meetings, climactic moments\",\n    eventType: \"drama\",\n    actionSequence: \"Tense confrontation on rooftop with city as witness\",\n    fields: {\n      scene: \"Dramatic rooftop confrontation with random(['confession', 'betrayal', 'proposal', 'ultimatum']) against city skyline\",\n      setting: \"rooftop\",\n      time_of_day: \"random(['golden-hour', 'night', 'stormy-sunset'])\",\n      environmental_details: \"random(['wind-picking-up', 'city-noise-below', 'helicopter-circling', 'thunder-approaching'])\",\n      weather: \"random(['clear-tension', 'gathering-storm', 'dramatic-clouds'])\",\n      camera_angle: \"dynamic angles showing elevation\",\n      camera_distance: \"medium to close-up\",\n      lens_type: \"telephoto for compression\",\n      depth_of_field: \"subjects sharp, city blurred\",\n      style: \"dramatic cinematic\",\n      color_palette: \"high contrast drama\",\n      lighting_type: \"dramatic directional\",\n      motion_type: \"tension-building movement\"\n    },\n    randomElements: {\n      confrontationType: \"random(['love-confession', 'business-betrayal', 'family-secret', 'criminal-reveal'])\",\n      emotionalIntensity: \"random(['building-tension', 'explosive-revelation', 'quiet-devastation'])\",\n      outcome: \"random(['resolution', 'escalation', 'interruption', 'revelation'])\"\n    },\n    customDetails: \"High-stakes rooftop drama with the city as backdrop, perfect for climactic confrontations and life-changing moments\"\n  },\n\n  \"subway-station\": {\n    id: \"subway-station\",\n    name: \"Subway Station\",\n    description: \"Underground transit station with commuters and urban atmosphere\",\n    category: \"urban\",\n    tags: [\"subway\", \"underground\", \"commuters\", \"transit\"],\n    useCase: \"Urban documentary, commuter life, underground aesthetic, transportation content\",\n    fields: {\n      scene: \"Busy subway platform with arriving trains and waiting passengers\",\n      setting: \"subway station\",\n      time_of_day: \"rush hour\",\n      environmental_details: \"train sounds and underground acoustics\",\n      weather: \"indoor\",\n      camera_angle: \"low angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"gritty realistic\",\n      color_palette: \"cool blues\",\n      lighting_type: \"fluorescent\",\n      motion_type: \"handheld\"\n    },\n    customDetails: \"Underground urban environment with industrial lighting, moving trains, and the constant flow of city commuters creating dynamic movement\"\n  },\n\n  \"shopping-mall\": {\n    id: \"shopping-mall\",\n    name: \"Shopping Mall\",\n    description: \"Large indoor shopping center with stores and shoppers\",\n    category: \"urban\", \n    tags: [\"mall\", \"shopping\", \"retail\", \"indoor\"],\n    useCase: \"Commercial content, lifestyle shopping, consumer culture, retail environments\",\n    fields: {\n      scene: \"Multi-level shopping mall with storefronts and walking shoppers\",\n      setting: \"shopping mall\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"ambient mall music and crowd chatter\",\n      weather: \"indoor climate controlled\",\n      camera_angle: \"high angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"bright commercial\",\n      color_palette: \"bright whites\",\n      lighting_type: \"bright fluorescent\",\n      motion_type: \"elevated tracking\"\n    },\n    customDetails: \"Modern retail environment with gleaming storefronts, escalators, and the busy flow of shoppers throughout multiple levels\"\n  },\n\n  \"downtown-plaza\": {\n    id: \"downtown-plaza\",\n    name: \"Downtown Plaza\",\n    description: \"Central city square with office buildings and business district energy\",\n    category: \"urban\",\n    tags: [\"downtown\", \"plaza\", \"business\", \"square\"],\n    useCase: \"Business content, urban planning, city center documentation, professional environments\",\n    fields: {\n      scene: \"Open plaza surrounded by tall office buildings and business activity\",\n      setting: \"downtown plaza\",\n      time_of_day: \"mid-morning\",\n      environmental_details: \"business professionals and urban sounds\",\n      weather: \"partly cloudy\",\n      camera_angle: \"eye level\",\n      camera_distance: \"establishing shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"professional\",\n      color_palette: \"corporate blues\",\n      lighting_type: \"overcast daylight\",\n      motion_type: \"steady dolly\"\n    },\n    customDetails: \"Professional urban environment showcasing the heart of the business district with modern architecture and corporate activity\"\n  },\n\n  \"urban-alley\": {\n    id: \"urban-alley\",\n    name: \"Urban Alley\",\n    description: \"Narrow city alley with brick walls and urban character\",\n    category: \"urban\",\n    tags: [\"alley\", \"brick\", \"narrow\", \"atmospheric\"],\n    useCase: \"Artistic content, urban exploration, moody scenes, character studies\",\n    fields: {\n      scene: \"Narrow brick-lined alley with fire escapes and urban textures\",\n      setting: \"alley\",\n      time_of_day: \"late afternoon\",\n      environmental_details: \"distant city sounds and echoes\",\n      weather: \"overcast\",\n      camera_angle: \"low angle\",\n      camera_distance: \"medium shot\",\n      lens_type: \"telephoto\",\n      depth_of_field: \"shallow\",\n      style: \"moody atmospheric\",\n      color_palette: \"warm browns\",\n      lighting_type: \"soft overcast\",\n      motion_type: \"slow forward push\"\n    },\n    customDetails: \"Intimate urban setting with rich textures of aged brick, metal fire escapes, and the compressed perspective of city architecture\"\n  },\n\n  \"city-bridge\": {\n    id: \"city-bridge\",\n    name: \"City Bridge\",\n    description: \"Urban bridge spanning river or highway with structural elements\",\n    category: \"urban\",\n    tags: [\"bridge\", \"infrastructure\", \"crossing\", \"structural\"],\n    useCase: \"Infrastructure content, urban engineering, transition scenes, architectural focus\",\n    fields: {\n      scene: \"Modern city bridge with traffic and pedestrian walkways\",\n      setting: \"bridge\",\n      time_of_day: \"golden hour\",\n      environmental_details: \"traffic flow and wind sounds\",\n      weather: \"clear\",\n      camera_angle: \"slight low angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"architectural\",\n      color_palette: \"steel blues\",\n      lighting_type: \"dramatic side lighting\",\n      motion_type: \"lateral tracking\"\n    },\n    customDetails: \"Impressive urban infrastructure with geometric steel and concrete forms creating strong leading lines and architectural drama\"\n  },\n\n  \"parking-garage\": {\n    id: \"parking-garage\",\n    name: \"Parking Garage\",\n    description: \"Multi-level concrete parking structure with urban industrial feel\",\n    category: \"urban\",\n    tags: [\"parking\", \"concrete\", \"industrial\", \"geometric\"],\n    useCase: \"Urban industrial aesthetic, geometric compositions, stark architectural content\",\n    fields: {\n      scene: \"Concrete parking garage with geometric columns and parked cars\",\n      setting: \"parking garage\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"echoing footsteps and car engines\",\n      weather: \"covered indoor\",\n      camera_angle: \"low angle\",\n      camera_distance: \"wide shot\", \n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"industrial minimalist\",\n      color_palette: \"concrete grays\",\n      lighting_type: \"harsh fluorescent\",\n      motion_type: \"steady tracking\"\n    },\n    customDetails: \"Stark concrete environment with repetitive architectural elements, harsh lighting, and the geometric beauty of functional urban spaces\"\n  },\n\n  // NATURE LOCATIONS (8 scenes) - Natural outdoor environments 🌲\n  \"beach-rescue\": {\n    id: \"beach-rescue\",\n    name: \"Beach Rescue Scene\",\n    description: \"Dramatic lifeguard rescue operation in rough surf conditions\",\n    category: \"nature\",\n    tags: [\"beach\", \"rescue\", \"action\", \"heroic\", \"emergency\"],\n    useCase: \"Action content, heroic moments, emergency scenarios, dramatic water scenes\",\n    eventType: \"action\",\n    actionSequence: \"Lifeguard rushing into dangerous waves to save swimmer\",\n    fields: {\n      scene: \"Dramatic beach rescue with lifeguard running into random(['rough-surf', 'storm-waves', 'riptide']) to save struggling swimmer\",\n      setting: \"beach\",\n      time_of_day: \"random(['afternoon', 'golden-hour', 'stormy-day'])\",\n      environmental_details: \"random(['crashing-waves', 'emergency-whistles', 'crowd-gathering', 'rescue-sirens'])\",\n      weather: \"random(['stormy', 'windy', 'rough-seas'])\",\n      camera_angle: \"dynamic action angles\",\n      camera_distance: \"medium to wide shots\",\n      lens_type: \"telephoto compression\",\n      depth_of_field: \"subject focus\",\n      style: \"heroic action\",\n      color_palette: \"dramatic ocean blues\",\n      lighting_type: \"dramatic natural\",\n      motion_type: \"fast tracking\"\n    },\n    randomElements: {\n      emergencyType: \"random(['drowning', 'riptide', 'shark-sighting', 'storm-evacuation'])\",\n      heroicIntensity: \"random(['calm-professional', 'urgent-sprint', 'life-or-death'])\",\n      outcome: \"random(['successful-rescue', 'narrow-escape', 'team-effort'])\"\n    },\n    customDetails: \"High-stakes beach rescue with lifeguard heroically battling dangerous conditions to save someone in distress, capturing both human drama and nature's power\"\n  },\n\n  \"forest-path\": {\n    id: \"forest-path\",\n    name: \"Forest Path\",\n    description: \"Winding trail through dense woodland with dappled sunlight\",\n    category: \"nature\",\n    tags: [\"forest\", \"trail\", \"trees\", \"woodland\"],\n    useCase: \"Nature documentaries, hiking content, peaceful environments, natural beauty\",\n    fields: {\n      scene: \"Narrow dirt path winding through tall trees and dense foliage\",\n      setting: \"forest\",\n      time_of_day: \"morning\",\n      environmental_details: \"bird songs and rustling leaves\",\n      weather: \"partly cloudy\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"moderate\",\n      style: \"natural documentary\",\n      color_palette: \"forest greens\",\n      lighting_type: \"dappled sunlight\",\n      motion_type: \"forward tracking\"\n    },\n    customDetails: \"Serene woodland environment with filtered light creating patterns through the canopy, moss-covered ground, and the peaceful sounds of nature\"\n  },\n\n  \"mountain-peak\": {\n    id: \"mountain-peak\",\n    name: \"Mountain Peak\",\n    description: \"High altitude mountain summit with panoramic valley views\",\n    category: \"nature\",\n    tags: [\"mountain\", \"peak\", \"summit\", \"panoramic\"],\n    useCase: \"Adventure content, achievement moments, landscape photography, outdoor recreation\",\n    fields: {\n      scene: \"Rocky mountain summit with sweeping views of valleys below\",\n      setting: \"mountains\",\n      time_of_day: \"sunrise\",\n      environmental_details: \"wind and distant echoes\",\n      weather: \"clear\",\n      camera_angle: \"high angle\",\n      camera_distance: \"establishing shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"epic landscape\",\n      color_palette: \"earth tones\",\n      lighting_type: \"dramatic sunrise\",\n      motion_type: \"slow aerial-style\"\n    },\n    customDetails: \"Majestic high-altitude environment with rugged rock formations, thin air clarity, and vast panoramic vistas stretching to the horizon\"\n  },\n\n  \"lake-shore\": {\n    id: \"lake-shore\",\n    name: \"Lake Shore\",\n    description: \"Peaceful lakeside with calm water and natural shoreline\",\n    category: \"nature\",\n    tags: [\"lake\", \"water\", \"shore\", \"peaceful\"],\n    useCase: \"Tranquil content, reflection scenes, meditation visuals, calm nature content\",\n    fields: {\n      scene: \"Calm lake with gentle lapping waves against natural shoreline\",\n      setting: \"lake\",\n      time_of_day: \"sunset\",\n      environmental_details: \"gentle water sounds and evening birdsong\",\n      weather: \"calm\",\n      camera_angle: \"low angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"serene natural\",\n      color_palette: \"sunset oranges\",\n      lighting_type: \"warm sunset\",\n      motion_type: \"subtle drift\"\n    },\n    customDetails: \"Tranquil lakeside setting with mirror-like water reflections, gentle shoreline, and the peaceful transition from day to evening\"\n  },\n\n  \"desert-landscape\": {\n    id: \"desert-landscape\", \n    name: \"Desert Landscape\",\n    description: \"Vast desert expanse with sand dunes and arid beauty\",\n    category: \"nature\",\n    tags: [\"desert\", \"sand\", \"dunes\", \"arid\"],\n    useCase: \"Dramatic landscapes, isolation themes, natural extremes, adventure content\",\n    fields: {\n      scene: \"Rolling sand dunes extending to distant horizon\",\n      setting: \"desert\",\n      time_of_day: \"late afternoon\",\n      environmental_details: \"wind-blown sand and vast silence\",\n      weather: \"clear\",\n      camera_angle: \"low angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"telephoto\",\n      depth_of_field: \"deep focus\",\n      style: \"dramatic natural\",\n      color_palette: \"warm sand tones\",\n      lighting_type: \"harsh directional\",\n      motion_type: \"slow push forward\"\n    },\n    customDetails: \"Stark desert environment with flowing sand formations, intense heat shimmer, and the profound silence of vast open spaces\"\n  },\n\n  \"waterfall\": {\n    id: \"waterfall\",\n    name: \"Waterfall\",\n    description: \"Cascading waterfall with mist and surrounding vegetation\",\n    category: \"nature\",\n    tags: [\"waterfall\", \"cascade\", \"mist\", \"rocks\"],\n    useCase: \"Nature power demonstrations, refreshing content, natural beauty, outdoor adventure\",\n    fields: {\n      scene: \"Powerful waterfall cascading over rocks into pool below\",\n      setting: \"waterfall\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"thundering water and mist spray\",\n      weather: \"humid\",\n      camera_angle: \"low angle looking up\",\n      camera_distance: \"medium shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"dynamic natural\",\n      color_palette: \"fresh blues\",\n      lighting_type: \"filtered through mist\",\n      motion_type: \"slow motion capture\"\n    },\n    customDetails: \"Powerful natural feature with cascading water creating mist and rainbows, surrounded by lush vegetation and the constant sound of falling water\"\n  },\n\n  \"cave-entrance\": {\n    id: \"cave-entrance\",\n    name: \"Cave Entrance\",\n    description: \"Rocky cave opening with mysterious depths and natural formations\",\n    category: \"nature\",\n    tags: [\"cave\", \"rock\", \"mysterious\", \"geological\"],\n    useCase: \"Mystery content, geological features, exploration themes, natural formations\",\n    fields: {\n      scene: \"Dark cave entrance framed by weathered rock formations\",\n      setting: \"cave\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"echoing sounds and cool air flow\",\n      weather: \"shaded\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"mysterious natural\",\n      color_palette: \"earth browns\",\n      lighting_type: \"dramatic contrast\",\n      motion_type: \"slow approach\"\n    },\n    customDetails: \"Mysterious geological formation with dramatic light contrast between bright exterior and dark interior, creating sense of discovery and exploration\"\n  },\n\n  \"meadow-field\": {\n    id: \"meadow-field\",\n    name: \"Meadow Field\",\n    description: \"Open grass meadow with wildflowers and gentle rolling hills\",\n    category: \"nature\",\n    tags: [\"meadow\", \"grass\", \"flowers\", \"pastoral\"],\n    useCase: \"Peaceful content, pastoral scenes, natural beauty, relaxation visuals\",\n    fields: {\n      scene: \"Rolling meadow filled with wildflowers and tall grass\",\n      setting: \"meadow\",\n      time_of_day: \"morning\",\n      environmental_details: \"gentle breeze and insect sounds\",\n      weather: \"partly sunny\",\n      camera_angle: \"eye level\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"moderate\",\n      style: \"pastoral natural\",\n      color_palette: \"meadow greens\",\n      lighting_type: \"soft morning light\",\n      motion_type: \"gentle breeze movement\"\n    },\n    customDetails: \"Idyllic pastoral setting with swaying grasses, colorful wildflowers, and gentle rolling terrain creating perfect peaceful countryside atmosphere\"\n  },\n\n  // INDOOR LOCATIONS (7 scenes) - Interior spaces and buildings 🏠\n  \"coffee-shop\": {\n    id: \"coffee-shop\",\n    name: \"Coffee Shop\",\n    description: \"Cozy cafe with warm lighting and comfortable seating\",\n    category: \"indoor\",\n    tags: [\"cafe\", \"cozy\", \"social\", \"warm\"],\n    useCase: \"Lifestyle content, social scenes, work environments, casual meetings\",\n    fields: {\n      scene: \"Warm coffee shop with customers at tables and barista behind counter\",\n      setting: \"coffee shop\",\n      time_of_day: \"morning\",\n      environmental_details: \"coffee machine sounds and soft conversation\",\n      weather: \"indoor comfortable\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"shallow\",\n      style: \"warm lifestyle\",\n      color_palette: \"warm browns\",\n      lighting_type: \"warm ambient\",\n      motion_type: \"subtle handheld\"\n    },\n    customDetails: \"Inviting cafe atmosphere with rich coffee aromas, comfortable seating areas, and the gentle buzz of social interaction\"\n  },\n\n  \"library\": {\n    id: \"library\",\n    name: \"Library\",\n    description: \"Quiet library with tall bookshelves and reading areas\",\n    category: \"indoor\",\n    tags: [\"books\", \"quiet\", \"study\", \"academic\"],\n    useCase: \"Educational content, quiet study scenes, academic environments, intellectual pursuits\",\n    fields: {\n      scene: \"Tall bookshelves with reading tables and soft overhead lighting\",\n      setting: \"library\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"quiet whispers and page turning\",\n      weather: \"indoor climate controlled\",\n      camera_angle: \"slight high angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"academic peaceful\",\n      color_palette: \"warm neutrals\",\n      lighting_type: \"soft overhead\",\n      motion_type: \"slow dolly\"\n    },\n    customDetails: \"Serene academic environment with towering book collections, comfortable reading spaces, and the hushed atmosphere of learning and contemplation\"\n  },\n\n  \"gym-workout\": {\n    id: \"gym-workout\",\n    name: \"Gym Workout\",\n    description: \"Modern fitness center with equipment and active atmosphere\",\n    category: \"indoor\",\n    tags: [\"fitness\", \"exercise\", \"equipment\", \"active\"],\n    useCase: \"Fitness content, health and wellness, workout demonstrations, active lifestyle\",\n    fields: {\n      scene: \"Modern gym with weight equipment and people exercising\",\n      setting: \"gym\",\n      time_of_day: \"evening\",\n      environmental_details: \"equipment sounds and energetic music\",\n      weather: \"indoor air conditioned\",\n      camera_angle: \"low angle\",\n      camera_distance: \"medium shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"moderate\",\n      style: \"dynamic energetic\",\n      color_palette: \"bold primaries\",\n      lighting_type: \"bright fluorescent\",\n      motion_type: \"dynamic movement\"\n    },\n    customDetails: \"High-energy fitness environment with modern equipment, motivational atmosphere, and the focused intensity of people pursuing their health goals\"\n  },\n\n  \"restaurant-dining\": {\n    id: \"restaurant-dining\",\n    name: \"Restaurant Dining\",\n    description: \"Upscale restaurant with elegant table settings and ambiance\",\n    category: \"indoor\",\n    tags: [\"dining\", \"restaurant\", \"elegant\", \"culinary\"],\n    useCase: \"Food content, dining experiences, culinary showcases, social dining\",\n    fields: {\n      scene: \"Elegant restaurant dining room with set tables and ambient lighting\",\n      setting: \"restaurant\",\n      time_of_day: \"evening\",\n      environmental_details: \"soft conversation and clinking dishes\",\n      weather: \"indoor comfortable\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"shallow\",\n      style: \"elegant atmospheric\",\n      color_palette: \"warm gold\",\n      lighting_type: \"intimate warm\",\n      motion_type: \"smooth gliding\"\n    },\n    customDetails: \"Sophisticated dining atmosphere with carefully crafted ambiance, elegant table settings, and the refined energy of culinary experiences\"\n  },\n\n  \"office-workspace\": {\n    id: \"office-workspace\",\n    name: \"Office Workspace\",\n    description: \"Modern office environment with desks and professional activity\",\n    category: \"indoor\",\n    tags: [\"office\", \"work\", \"professional\", \"business\"],\n    useCase: \"Business content, professional environments, workplace documentation, corporate culture\",\n    fields: {\n      scene: \"Open office workspace with desks, computers, and working professionals\",\n      setting: \"office\",\n      time_of_day: \"mid-morning\",\n      environmental_details: \"keyboard typing and phone conversations\",\n      weather: \"indoor climate controlled\",\n      camera_angle: \"slight high angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"clean professional\",\n      color_palette: \"corporate blues\",\n      lighting_type: \"bright office\",\n      motion_type: \"steady tracking\"\n    },\n    customDetails: \"Professional work environment with modern technology, collaborative spaces, and the focused energy of productive business activity\"\n  },\n\n  \"bedroom-intimate\": {\n    id: \"bedroom-intimate\",\n    name: \"Bedroom Intimate\",\n    description: \"Cozy bedroom with soft lighting and personal atmosphere\",\n    category: \"indoor\",\n    tags: [\"bedroom\", \"intimate\", \"personal\", \"cozy\"],\n    useCase: \"Lifestyle content, personal moments, intimate scenes, home environments\",\n    fields: {\n      scene: \"Comfortable bedroom with soft bedding and warm personal touches\",\n      setting: \"bedroom\",\n      time_of_day: \"early morning\",\n      environmental_details: \"quiet stillness and soft fabric sounds\",\n      weather: \"indoor comfortable\",\n      camera_angle: \"eye level\",\n      camera_distance: \"close-up\",\n      lens_type: \"standard\",\n      depth_of_field: \"shallow\",\n      style: \"intimate natural\",\n      color_palette: \"soft pastels\",\n      lighting_type: \"soft natural window\",\n      motion_type: \"gentle slow motion\"\n    },\n    customDetails: \"Personal intimate space with soft textures, warm lighting, and the peaceful quiet of private moments and restful environments\"\n  },\n\n  \"kitchen-cooking\": {\n    id: \"kitchen-cooking\",\n    name: \"Kitchen Cooking\",\n    description: \"Active kitchen with cooking preparation and culinary activity\",\n    category: \"indoor\",\n    tags: [\"kitchen\", \"cooking\", \"culinary\", \"preparation\"],\n    useCase: \"Food preparation, cooking shows, culinary content, domestic scenes\",\n    fields: {\n      scene: \"Busy kitchen with cooking preparation and steaming pans\",\n      setting: \"kitchen\",\n      time_of_day: \"dinner time\",\n      environmental_details: \"sizzling sounds and cooking aromas\",\n      weather: \"indoor warm\",\n      camera_angle: \"overhead\",\n      camera_distance: \"close-up\",\n      lens_type: \"macro\",\n      depth_of_field: \"shallow\",\n      style: \"dynamic culinary\",\n      color_palette: \"warm food tones\",\n      lighting_type: \"task lighting\",\n      motion_type: \"quick cuts\"\n    },\n    customDetails: \"Dynamic culinary environment with active food preparation, aromatic steam, and the energetic rhythm of cooking and meal creation\"\n  },\n\n  // MEME TEMPLATES (20 scenes) - Popular internet memes for viral content 😂\n  \"distracted-boyfriend\": {\n    id: \"distracted-boyfriend\",\n    name: \"Distracted Boyfriend Meme\",\n    description: \"Person walking with partner but turning to look at something else\",\n    category: \"meme\",\n    tags: [\"meme\", \"choice\", \"distraction\", \"viral\", \"relationship\"],\n    useCase: \"Viral content, choice comparisons, relationship humor, decision-making content\",\n    memeFormat: \"classic-three-person\",\n    fields: {\n      scene: \"Person walking with companion but dramatically turning to look at random(['new-opportunity', 'tempting-offer', 'shiny-object', 'competitor'])\",\n      setting: \"random(['street', 'mall', 'office', 'park'])\",\n      time_of_day: \"random(['afternoon', 'morning', 'evening'])\",\n      environmental_details: \"random(['busy-crowd', 'quiet-space', 'professional-setting'])\",\n      weather: \"clear\",\n      camera_angle: \"side angle capturing all three subjects\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"all subjects in focus\",\n      style: \"meme-perfect clarity\",\n      color_palette: \"bright and clear\",\n      lighting_type: \"even natural light\",\n      motion_type: \"frozen moment\"\n    },\n    memeContext: \"choosing between loyalty and temptation\",\n    viralElements: [\"dramatic-turn\", \"pointing-gesture\", \"shocked-expression\"],\n    customDetails: \"Classic meme setup with person torn between current commitment and new attractive option, perfect for viral choice-based content\"\n  },\n\n  \"woman-yelling-cat\": {\n    id: \"woman-yelling-cat\",\n    name: \"Woman Yelling at Cat\",\n    description: \"Split scene with angry person pointing and confused subject defending\",\n    category: \"meme\",\n    tags: [\"meme\", \"argument\", \"confusion\", \"viral\", \"confrontation\"],\n    useCase: \"Argument scenarios, accusation content, confusion humor, confrontational memes\",\n    memeFormat: \"split-screen-confrontation\",\n    fields: {\n      scene: \"Split screen with angry person pointing accusingly at confused subject who looks random(['innocent', 'bewildered', 'defensive'])\",\n      setting: \"random(['kitchen', 'living-room', 'office', 'restaurant'])\",\n      time_of_day: \"random(['afternoon', 'evening', 'morning'])\",\n      environmental_details: \"tense atmosphere with random(['background-chaos', 'witnesses-watching', 'awkward-silence'])\",\n      weather: \"indoor\",\n      camera_angle: \"split screen perspective\",\n      camera_distance: \"medium close-up\",\n      lens_type: \"standard\",\n      depth_of_field: \"subjects in sharp focus\",\n      style: \"dramatic confrontation\",\n      color_palette: \"contrasting emotions\",\n      lighting_type: \"dramatic indoor\",\n      motion_type: \"static tension\"\n    },\n    memeContext: \"accusation met with confused innocence\",\n    viralElements: [\"pointing-finger\", \"confused-expression\", \"defensive-posture\"],\n    randomElements: {\n      accusationType: \"random(['minor-offense', 'major-betrayal', 'absurd-claim'])\",\n      defenseStyle: \"random(['total-confusion', 'guilty-innocence', 'righteous-indignation'])\"\n    },\n    customDetails: \"Perfect confrontation meme with dramatic pointing and confused defensive reaction, ideal for accusation-based viral content\"\n  },\n\n  \"drake-pointing\": {\n    id: \"drake-pointing\",\n    name: \"Drake Pointing Meme\",\n    description: \"Person rejecting first option, enthusiastically approving second\",\n    category: \"meme\",\n    tags: [\"meme\", \"choice\", \"preference\", \"viral\", \"approval\"],\n    useCase: \"Preference comparisons, choice content, approval/rejection themes, viral decision memes\",\n    memeFormat: \"two-panel-choice\",\n    fields: {\n      scene: \"Person dramatically rejecting first option with random(['hand-wave', 'head-shake', 'disgusted-look']), then enthusiastically approving second with random(['pointing', 'thumbs-up', 'chef-kiss'])\",\n      setting: \"random(['studio', 'office', 'home', 'public-space'])\",\n      time_of_day: \"random(['afternoon', 'evening'])\",\n      environmental_details: \"clean background focusing on random(['choice-presentation', 'comparison-setup', 'decision-moment'])\",\n      weather: \"indoor controlled\",\n      camera_angle: \"straight-on profile\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"subject in focus\",\n      style: \"clean meme format\",\n      color_palette: \"bold and clear\",\n      lighting_type: \"even studio lighting\",\n      motion_type: \"two-beat gesture sequence\"\n    },\n    memeContext: \"clear preference demonstration\",\n    viralElements: [\"rejection-gesture\", \"approval-gesture\", \"confident-expression\"],\n    customDetails: \"Classic preference meme with clear rejection of first option and enthusiastic approval of second, perfect for comparison content\"\n  },\n\n  \"this-is-fine\": {\n    id: \"this-is-fine\",\n    name: \"This Is Fine Meme\",\n    description: \"Person sitting calmly while chaos erupts around them\",\n    category: \"meme\",\n    tags: [\"meme\", \"chaos\", \"denial\", \"viral\", \"crisis\"],\n    useCase: \"Crisis content, denial themes, chaos management, relatable disaster scenarios\",\n    memeFormat: \"calm-in-chaos\",\n    fields: {\n      scene: \"Person sitting calmly with forced smile while random(['small-fires', 'complete-chaos', 'workplace-disaster', 'relationship-drama']) erupts around them\",\n      setting: \"random(['office', 'home', 'coffee-shop', 'meeting-room'])\",\n      time_of_day: \"random(['morning', 'afternoon', 'late-night'])\",\n      environmental_details: \"random(['smoke-filling-room', 'alarms-blaring', 'people-panicking', 'systems-failing'])\",\n      weather: \"indoor crisis\",\n      camera_angle: \"straight-on showing contrast\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"person in focus, chaos around\",\n      style: \"surreal calm\",\n      color_palette: \"warm subject, chaotic background\",\n      lighting_type: \"calm spot lighting with chaotic background\",\n      motion_type: \"static calm amid movement\"\n    },\n    memeContext: \"denial or acceptance of uncontrollable disaster\",\n    viralElements: [\"forced-smile\", \"contrasting-calm\", \"background-chaos\"],\n    randomElements: {\n      chaosLevel: \"random(['minor-inconvenience', 'major-disaster', 'apocalyptic-scenario'])\",\n      calmLevel: \"random(['slight-tension', 'forced-serenity', 'complete-dissociation'])\"\n    },\n    customDetails: \"Iconic meme showing person maintaining composure while everything falls apart, perfect for crisis denial content\"\n  },\n\n  \"surprised-pikachu\": {\n    id: \"surprised-pikachu\",\n    name: \"Surprised Pikachu Reaction\",\n    description: \"Character with exaggerated surprise at predictable consequences\",\n    category: \"meme\",\n    tags: [\"meme\", \"surprise\", \"reaction\", \"viral\", \"consequences\"],\n    useCase: \"Reaction content, consequence humor, surprise themes, predictable outcome memes\",\n    memeFormat: \"shocked-reaction\",\n    fields: {\n      scene: \"Character with exaggerated surprise expression reacting to random(['obvious-outcome', 'predictable-consequence', 'inevitable-result'])\",\n      setting: \"random(['anywhere', 'office', 'home', 'public'])\",\n      time_of_day: \"random(['any-time'])\",\n      environmental_details: \"aftermath of random(['poor-decision', 'ignored-warning', 'obvious-mistake'])\",\n      weather: \"any\",\n      camera_angle: \"close-up on expression\",\n      camera_distance: \"close-up\",\n      lens_type: \"standard\",\n      depth_of_field: \"face in sharp focus\",\n      style: \"exaggerated reaction\",\n      color_palette: \"bright and clear\",\n      lighting_type: \"clear facial lighting\",\n      motion_type: \"frozen surprise moment\"\n    },\n    memeContext: \"shock at predictable consequences\",\n    viralElements: [\"wide-eyes\", \"open-mouth\", \"genuine-surprise\"],\n    randomElements: {\n      surpriseIntensity: \"random(['mild-shock', 'jaw-drop', 'complete-disbelief', 'existential-crisis'])\",\n      predictability: \"random(['somewhat-obvious', 'completely-obvious', 'warned-about-it'])\"\n    },\n    customDetails: \"Perfect surprised reaction to consequences that should have been obvious, ideal for 'what did you expect' content\"\n  },\n\n  \"expanding-brain\": {\n    id: \"expanding-brain\",\n    name: \"Expanding Brain Meme\",\n    description: \"Four-panel progression from basic to galaxy-brain thinking\",\n    category: \"meme\",\n    tags: [\"meme\", \"intelligence\", \"progression\", \"viral\", \"evolution\"],\n    useCase: \"Intelligence progression, idea evolution, complexity scaling, thought development\",\n    memeFormat: \"four-panel-progression\",\n    fields: {\n      scene: \"Four-panel sequence showing progression from random(['basic-thought', 'simple-idea']) to random(['galaxy-brain', 'cosmic-intelligence', 'transcendent-wisdom'])\",\n      setting: \"clean progression layout\",\n      time_of_day: \"timeless\",\n      environmental_details: \"increasing cosmic energy and random(['brain-glow', 'thought-particles', 'intelligence-aura'])\",\n      weather: \"conceptual space\",\n      camera_angle: \"consistent framing across panels\",\n      camera_distance: \"medium shot progression\",\n      lens_type: \"standard clarity\",\n      depth_of_field: \"all panels equally sharp\",\n      style: \"ascending intelligence visualization\",\n      color_palette: \"evolving from simple to cosmic\",\n      lighting_type: \"increasing luminosity\",\n      motion_type: \"panel-to-panel evolution\"\n    },\n    memeContext: \"escalating intelligence or absurdity levels\",\n    viralElements: [\"brain-expansion\", \"cosmic-glow\", \"progression-clarity\"],\n    randomElements: {\n      progressionType: \"random(['logical-evolution', 'absurd-escalation', 'philosophical-ascension'])\",\n      finalStage: \"random(['galaxy-brain', 'cosmic-consciousness', 'meme-transcendence'])\"\n    },\n    customDetails: \"Classic intelligence progression meme showing evolution from basic to cosmic-level thinking, perfect for idea development content\"\n  },\n\n  \"two-buttons\": {\n    id: \"two-buttons\",\n    name: \"Two Buttons Dilemma\",\n    description: \"Person sweating over impossible choice between two difficult options\",\n    category: \"meme\",\n    tags: [\"meme\", \"choice\", \"dilemma\", \"viral\", \"pressure\"],\n    useCase: \"Difficult decisions, moral dilemmas, impossible choices, pressure situations\",\n    memeFormat: \"choice-pressure\",\n    fields: {\n      scene: \"Person visibly sweating and stressed while facing two buttons representing random(['impossible-choice', 'moral-dilemma', 'lose-lose-situation'])\",\n      setting: \"decision chamber or pressure room\",\n      time_of_day: \"moment of truth\",\n      environmental_details: \"pressure building with random(['ticking-clock', 'watching-crowd', 'rising-stakes'])\",\n      weather: \"internal pressure\",\n      camera_angle: \"showing person and both options\",\n      camera_distance: \"medium shot capturing stress\",\n      lens_type: \"standard clear view\",\n      depth_of_field: \"person and buttons in focus\",\n      style: \"pressure-cooker tension\",\n      color_palette: \"stress-inducing contrast\",\n      lighting_type: \"harsh decision spotlight\",\n      motion_type: \"nervous-energy\"\n    },\n    memeContext: \"impossible decision paralysis\",\n    viralElements: [\"visible-sweat\", \"impossible-choice\", \"decision-paralysis\"],\n    randomElements: {\n      dilemmaType: \"random(['moral-conflict', 'practical-impossibility', 'absurd-choice'])\",\n      pressureLevel: \"random(['mild-stress', 'extreme-anxiety', 'existential-crisis'])\"\n    },\n    customDetails: \"Classic decision pressure meme with visible stress over impossible choice, perfect for dilemma-based content\"\n  },\n\n  \"ohio-brainrot\": {\n    id: \"ohio-brainrot\",\n    name: \"Ohio Brainrot Scene\",\n    description: \"Completely absurd and surreal scenario that defies logic\",\n    category: \"meme\",\n    tags: [\"meme\", \"absurd\", \"surreal\", \"viral\", \"chaos\"],\n    useCase: \"Absurdist content, surreal humor, chaos memes, Gen-Z content\",\n    memeFormat: \"reality-breaking-absurd\",\n    fields: {\n      scene: \"Completely nonsensical scenario with random(['flying-toilets', 'backwards-gravity', 'sentient-objects', 'time-loop-chaos']) and random(['dancing-furniture', 'reality-glitches', 'dimensional-rifts'])\",\n      setting: \"reality-broken landscape\",\n      time_of_day: \"time-has-no-meaning\",\n      environmental_details: \"random(['physics-defying-events', 'impossible-geometry', 'reality-bugs', 'simulation-errors'])\",\n      weather: \"random(['inside-out-rain', 'solid-air', 'liquid-wind', 'geometric-storms'])\",\n      camera_angle: \"impossible perspectives\",\n      camera_distance: \"reality-warped framing\",\n      lens_type: \"dimension-bending\",\n      depth_of_field: \"everything and nothing in focus\",\n      style: \"peak-absurdist-chaos\",\n      color_palette: \"reality-error-rainbow\",\n      lighting_type: \"impossible-physics-lighting\",\n      motion_type: \"chaos-incarnate\"\n    },\n    memeContext: \"peak internet absurdity and chaos\",\n    viralElements: [\"reality-breaking\", \"impossible-events\", \"chaos-energy\"],\n    randomElements: {\n      absurdityLevel: \"random(['mildly-weird', 'completely-unhinged', 'reality-breaking', 'dimension-destroying'])\",\n      chaosType: \"random(['physics-broken', 'logic-destroyed', 'reality-virus', 'simulation-crash'])\"\n    },\n    customDetails: \"Ultimate chaos meme with reality-breaking absurdity, perfect for peak internet brainrot content\"\n  },\n\n  // ENTERTAINMENT VENUES (7 scenes) - Recreation and entertainment spaces 🎭\n  \"concert-hall\": {\n    id: \"concert-hall\",\n    name: \"Concert Hall\",\n    description: \"Grand performance hall with stage and audience seating\",\n    category: \"entertainment\",\n    tags: [\"concert\", \"performance\", \"stage\", \"audience\"],\n    useCase: \"Live performance, music content, entertainment industry, cultural events\",\n    fields: {\n      scene: \"Elegant concert hall with illuminated stage and seated audience\",\n      setting: \"concert hall\",\n      time_of_day: \"evening\",\n      environmental_details: \"live music and audience applause\",\n      weather: \"indoor climate controlled\",\n      camera_angle: \"audience perspective\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"deep focus\",\n      style: \"dramatic performance\",\n      color_palette: \"rich reds\",\n      lighting_type: \"stage lighting\",\n      motion_type: \"slow zoom\"\n    },\n    customDetails: \"Majestic performance venue with ornate architecture, dramatic stage lighting, and the electric energy of live entertainment\"\n  },\n\n  \"sports-stadium\": {\n    id: \"sports-stadium\",\n    name: \"Sports Stadium\",\n    description: \"Large sports arena with field and crowded stands\",\n    category: \"entertainment\",\n    tags: [\"stadium\", \"sports\", \"crowd\", \"arena\"],\n    useCase: \"Sports content, crowd energy, athletic events, large venue experiences\",\n    fields: {\n      scene: \"Massive stadium with playing field and packed stands of cheering fans\",\n      setting: \"stadium\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"crowd roar and stadium announcements\",\n      weather: \"partly cloudy\",\n      camera_angle: \"high angle\",\n      camera_distance: \"establishing shot\",\n      lens_type: \"telephoto\",\n      depth_of_field: \"deep focus\",\n      style: \"epic sports\",\n      color_palette: \"team colors\",\n      lighting_type: \"bright daylight\",\n      motion_type: \"sweeping aerial\"\n    },\n    customDetails: \"Massive sports venue with thousands of passionate fans, expansive playing field, and the overwhelming energy of major athletic competition\"\n  },\n\n  \"movie-theater\": {\n    id: \"movie-theater\",\n    name: \"Movie Theater\",\n    description: \"Cinema auditorium with large screen and comfortable seating\",\n    category: \"entertainment\",\n    tags: [\"cinema\", \"movie\", \"screen\", \"audience\"],\n    useCase: \"Entertainment content, movie experiences, cinema culture, shared viewing\",\n    fields: {\n      scene: \"Dark movie theater with large glowing screen and seated audience\",\n      setting: \"movie theater\",\n      time_of_day: \"evening\",\n      environmental_details: \"movie soundtrack and quiet audience\",\n      weather: \"indoor dark\",\n      camera_angle: \"audience perspective\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"shallow\",\n      style: \"cinematic immersive\",\n      color_palette: \"screen blues\",\n      lighting_type: \"screen glow\",\n      motion_type: \"subtle slow push\"\n    },\n    customDetails: \"Immersive cinema environment with the hypnotic glow of the big screen, comfortable seating, and the shared experience of movie magic\"\n  },\n\n  \"amusement-park\": {\n    id: \"amusement-park\",\n    name: \"Amusement Park\",\n    description: \"Colorful theme park with rides and carnival atmosphere\",\n    category: \"entertainment\",\n    tags: [\"rides\", \"carnival\", \"colorful\", \"fun\"],\n    useCase: \"Family content, fun experiences, colorful entertainment, joyful moments\",\n    fields: {\n      scene: \"Bright amusement park with spinning rides and excited visitors\",\n      setting: \"amusement park\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"ride sounds and joyful screaming\",\n      weather: \"sunny\",\n      camera_angle: \"eye level\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"vibrant energetic\",\n      color_palette: \"bright carnival\",\n      lighting_type: \"bright cheerful\",\n      motion_type: \"dynamic movement\"\n    },\n    customDetails: \"Exhilarating carnival environment with colorful rides, excited crowds, and the infectious energy of pure fun and entertainment\"\n  },\n\n  \"art-museum\": {\n    id: \"art-museum\",\n    name: \"Art Museum\",\n    description: \"Gallery space with artwork displays and cultural atmosphere\",\n    category: \"entertainment\",\n    tags: [\"museum\", \"art\", \"gallery\", \"cultural\"],\n    useCase: \"Cultural content, art appreciation, educational environments, sophisticated spaces\",\n    fields: {\n      scene: \"Elegant museum gallery with framed artwork and viewing visitors\",\n      setting: \"art museum\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"quiet footsteps and soft whispers\",\n      weather: \"indoor climate controlled\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"moderate\",\n      style: \"sophisticated cultural\",\n      color_palette: \"gallery whites\",\n      lighting_type: \"soft gallery\",\n      motion_type: \"slow contemplative\"\n    },\n    customDetails: \"Refined cultural space with carefully curated artwork, sophisticated lighting, and the quiet contemplative atmosphere of artistic appreciation\"\n  },\n\n  \"nightclub\": {\n    id: \"nightclub\",\n    name: \"Nightclub\",\n    description: \"Energetic nightclub with DJ booth and dancing crowd\",\n    category: \"entertainment\",\n    tags: [\"nightclub\", \"dancing\", \"music\", \"nightlife\"],\n    useCase: \"Nightlife content, party scenes, music culture, energetic social environments\",\n    fields: {\n      scene: \"Pulsing nightclub with DJ booth and dancing crowd under colored lights\",\n      setting: \"nightclub\",\n      time_of_day: \"late night\",\n      environmental_details: \"thumping bass and crowd energy\",\n      weather: \"indoor hot\",\n      camera_angle: \"low angle\",\n      camera_distance: \"close-up\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"shallow\",\n      style: \"dynamic nightlife\",\n      color_palette: \"neon colors\",\n      lighting_type: \"strobe and laser\",\n      motion_type: \"rapid cutting\"\n    },\n    customDetails: \"High-energy nightlife environment with pulsing music, colorful lighting effects, and the electric atmosphere of people dancing and celebrating\"\n  },\n\n  \"arcade-games\": {\n    id: \"arcade-games\",\n    name: \"Arcade Games\",\n    description: \"Retro arcade with gaming machines and nostalgic atmosphere\",\n    category: \"entertainment\",\n    tags: [\"arcade\", \"games\", \"retro\", \"nostalgic\"],\n    useCase: \"Gaming content, nostalgic entertainment, retro culture, interactive fun\",\n    fields: {\n      scene: \"Retro arcade with glowing game machines and focused players\",\n      setting: \"arcade\",\n      time_of_day: \"evening\",\n      environmental_details: \"game sounds and electronic music\",\n      weather: \"indoor comfortable\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"moderate\",\n      style: \"retro nostalgic\",\n      color_palette: \"neon bright\",\n      lighting_type: \"colorful screen glow\",\n      motion_type: \"steady tracking\"\n    },\n    customDetails: \"Nostalgic gaming environment with glowing screens, electronic sounds, and the focused concentration of players immersed in digital worlds\"\n  },\n\n  // ADDITIONAL URBAN/MODERN SETTINGS (4 more presets)\n  \"bustling-downtown-intersection\": {\n    id: \"bustling-downtown-intersection\",\n    name: \"Bustling Downtown Intersection\",\n    description: \"Busy city crossroads with traffic lights and pedestrian crossings\",\n    category: \"urban\",\n    tags: [\"intersection\", \"traffic\", \"crosswalk\", \"busy\", \"downtown\"],\n    useCase: \"Urban energy, city life, traffic scenes, metropolitan atmosphere\",\n    fields: {\n      scene: \"Busy downtown intersection with pedestrians crossing and cars waiting at traffic lights\",\n      setting: \"city intersection\",\n      time_of_day: \"rush hour\",\n      environmental_details: \"car horns, footsteps, and traffic signals\",\n      weather: \"clear\",\n      camera_angle: \"high angle overview\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"urban documentary\",\n      color_palette: \"high contrast city\",\n      lighting_type: \"harsh urban daylight\",\n      motion_type: \"dynamic city movement\"\n    },\n    customDetails: \"Dynamic urban crossroads with constant flow of people and vehicles, capturing the pulse and energy of metropolitan life\"\n  },\n\n  \"high-rise-office-interior\": {\n    id: \"high-rise-office-interior\",\n    name: \"High-Rise Office Interior\",\n    description: \"Modern corporate office with floor-to-ceiling windows and city views\",\n    category: \"urban\",\n    tags: [\"office\", \"corporate\", \"high-rise\", \"windows\", \"modern\"],\n    useCase: \"Business content, corporate environments, professional settings, modern workplace\",\n    fields: {\n      scene: \"Sleek office interior with glass walls and panoramic city views\",\n      setting: \"corporate office\",\n      time_of_day: \"mid-morning\",\n      environmental_details: \"quiet productivity and distant city hum\",\n      weather: \"clear outside\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"office in focus, city blurred\",\n      style: \"clean corporate\",\n      color_palette: \"professional neutrals\",\n      lighting_type: \"natural window light\",\n      motion_type: \"steady professional\"\n    },\n    customDetails: \"Modern corporate environment with stunning city views, glass architecture, and the sophisticated atmosphere of high-level business\"\n  },\n\n  \"street-market-food-stalls\": {\n    id: \"street-market-food-stalls\",\n    name: \"Street Market with Food Stalls\",\n    description: \"Vibrant outdoor market with food vendors and local atmosphere\",\n    category: \"urban\",\n    tags: [\"market\", \"food\", \"vendors\", \"street\", \"local\"],\n    useCase: \"Food culture, local markets, cultural atmosphere, community gathering\",\n    fields: {\n      scene: \"Colorful street market with food stalls and browsing customers\",\n      setting: \"street market\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"vendor calls, sizzling food, and crowd chatter\",\n      weather: \"partly sunny\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"stalls in focus\",\n      style: \"vibrant cultural\",\n      color_palette: \"warm food colors\",\n      lighting_type: \"natural market lighting\",\n      motion_type: \"bustling market energy\"\n    },\n    customDetails: \"Vibrant community marketplace with aromatic food stalls, local vendors, and the authentic energy of cultural food traditions\"\n  },\n\n  \"construction-site-cranes\": {\n    id: \"construction-site-cranes\",\n    name: \"Construction Site with Cranes\",\n    description: \"Active construction zone with towering cranes and building progress\",\n    category: \"urban\",\n    tags: [\"construction\", \"cranes\", \"building\", \"industrial\", \"progress\"],\n    useCase: \"Urban development, progress themes, construction industry, growth content\",\n    fields: {\n      scene: \"Active construction site with towering cranes and workers building\",\n      setting: \"construction site\",\n      time_of_day: \"morning\",\n      environmental_details: \"machinery sounds and construction activity\",\n      weather: \"clear working conditions\",\n      camera_angle: \"low angle looking up\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"industrial progress\",\n      color_palette: \"steel and concrete grays\",\n      lighting_type: \"bright working light\",\n      motion_type: \"construction activity\"\n    },\n    customDetails: \"Dynamic construction environment with towering cranes, active workers, and the visible progress of urban development\"\n  },\n\n  // ADDITIONAL NATURE/SCENIC SETTINGS (4 more presets)\n  \"quiet-suburban-street-sunset\": {\n    id: \"quiet-suburban-street-sunset\",\n    name: \"Quiet Suburban Street at Sunset\",\n    description: \"Peaceful residential street with houses and golden hour lighting\",\n    category: \"nature\",\n    tags: [\"suburban\", \"residential\", \"sunset\", \"peaceful\", \"neighborhood\"],\n    useCase: \"Residential life, peaceful moments, neighborhood atmosphere, golden hour beauty\",\n    fields: {\n      scene: \"Tree-lined suburban street with cozy houses during golden hour\",\n      setting: \"suburban street\",\n      time_of_day: \"sunset\",\n      environmental_details: \"distant lawn mowers and evening birds\",\n      weather: \"clear\",\n      camera_angle: \"eye level\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"street in focus\",\n      style: \"warm residential\",\n      color_palette: \"golden sunset tones\",\n      lighting_type: \"warm golden hour\",\n      motion_type: \"peaceful stillness\"\n    },\n    customDetails: \"Tranquil residential neighborhood with tree-lined streets, cozy homes, and the warm golden glow of evening light\"\n  },\n\n  \"coffee-shop-rainy-day\": {\n    id: \"coffee-shop-rainy-day\",\n    name: \"Coffee Shop on a Rainy Day\",\n    description: \"Cozy cafe interior with rain-streaked windows and warm atmosphere\",\n    category: \"nature\",\n    tags: [\"coffee\", \"rain\", \"cozy\", \"indoor\", \"weather\"],\n    useCase: \"Cozy atmosphere, rainy day moods, comfortable indoor spaces, weather ambiance\",\n    fields: {\n      scene: \"Warm coffee shop interior with customers watching rain through windows\",\n      setting: \"coffee shop\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"rain on windows and coffee shop ambiance\",\n      weather: \"heavy rain outside\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"interior in focus\",\n      style: \"cozy atmospheric\",\n      color_palette: \"warm browns and golds\",\n      lighting_type: \"warm interior lighting\",\n      motion_type: \"gentle rain movement\"\n    },\n    customDetails: \"Cozy indoor refuge with rain creating atmosphere outside, warm lighting, and the comforting sounds of coffee culture\"\n  },\n\n  \"urban-park-joggers\": {\n    id: \"urban-park-joggers\",\n    name: \"Urban Park with Joggers\",\n    description: \"City park with running paths and recreational activities\",\n    category: \"nature\",\n    tags: [\"park\", \"jogging\", \"recreation\", \"urban\", \"fitness\"],\n    useCase: \"Fitness content, urban recreation, healthy lifestyle, park activities\",\n    fields: {\n      scene: \"Green urban park with joggers on paths and recreational activities\",\n      setting: \"city park\",\n      time_of_day: \"early morning\",\n      environmental_details: \"footsteps on paths and outdoor activity sounds\",\n      weather: \"clear\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"joggers in focus\",\n      style: \"healthy lifestyle\",\n      color_palette: \"fresh greens\",\n      lighting_type: \"fresh morning light\",\n      motion_type: \"running movement\"\n    },\n    customDetails: \"Active urban green space with joggers, recreational activities, and the healthy energy of people enjoying outdoor fitness\"\n  },\n\n  \"trendy-art-gallery-opening\": {\n    id: \"trendy-art-gallery-opening\",\n    name: \"Trendy Art Gallery Opening\",\n    description: \"Modern gallery space with artistic displays and cultural gathering\",\n    category: \"nature\",\n    tags: [\"gallery\", \"art\", \"opening\", \"cultural\", \"modern\"],\n    useCase: \"Art culture, gallery events, cultural gatherings, sophisticated social scenes\",\n    fields: {\n      scene: \"Contemporary art gallery with artwork displays and socializing visitors\",\n      setting: \"art gallery\",\n      time_of_day: \"evening\",\n      environmental_details: \"cultured conversation and gallery ambiance\",\n      weather: \"indoor controlled\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"gallery and people in focus\",\n      style: \"sophisticated cultural\",\n      color_palette: \"gallery whites with art accents\",\n      lighting_type: \"refined gallery lighting\",\n      motion_type: \"cultured social movement\"\n    },\n    customDetails: \"Sophisticated cultural environment with contemporary art, refined lighting, and the intellectual energy of art appreciation\"\n  },\n\n  // HISTORICAL/FANTASY SETTINGS (12 presets)\n  \"medieval-castle-courtyard\": {\n    id: \"medieval-castle-courtyard\",\n    name: \"Medieval Castle Courtyard\",\n    description: \"Ancient stone castle with towering walls and medieval architecture\",\n    category: \"historical\",\n    tags: [\"medieval\", \"castle\", \"stone\", \"ancient\", \"fortress\"],\n    useCase: \"Historical content, medieval themes, fantasy settings, ancient architecture\",\n    fields: {\n      scene: \"Imposing castle courtyard with stone walls and medieval atmosphere\",\n      setting: \"castle courtyard\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"echoing footsteps and distant banner flapping\",\n      weather: \"overcast\",\n      camera_angle: \"low angle showing castle height\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"deep focus\",\n      style: \"epic medieval\",\n      color_palette: \"stone grays and earth tones\",\n      lighting_type: \"dramatic overcast\",\n      motion_type: \"steady majestic\"\n    },\n    customDetails: \"Imposing medieval fortress with weathered stone walls, ancient architecture, and the weight of centuries of history\"\n  },\n\n  \"ancient-roman-forum\": {\n    id: \"ancient-roman-forum\",\n    name: \"Ancient Roman Forum\",\n    description: \"Classical Roman ruins with marble columns and historical grandeur\",\n    category: \"historical\",\n    tags: [\"roman\", \"ancient\", \"ruins\", \"columns\", \"classical\"],\n    useCase: \"Historical education, ancient civilizations, classical architecture, archaeological content\",\n    fields: {\n      scene: \"Majestic Roman forum ruins with marble columns and ancient stonework\",\n      setting: \"roman forum\",\n      time_of_day: \"golden hour\",\n      environmental_details: \"wind through ruins and historical silence\",\n      weather: \"clear\",\n      camera_angle: \"eye level\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"ruins in focus\",\n      style: \"classical historical\",\n      color_palette: \"marble whites and gold\",\n      lighting_type: \"dramatic golden light\",\n      motion_type: \"reverent slow movement\"\n    },\n    customDetails: \"Magnificent ancient Roman architecture with weathered marble columns, classical proportions, and the grandeur of lost civilization\"\n  },\n\n  \"viking-longship-fjord\": {\n    id: \"viking-longship-fjord\",\n    name: \"Viking Longship in Fjord\",\n    description: \"Norse longship sailing through dramatic fjord landscape\",\n    category: \"historical\",\n    tags: [\"viking\", \"longship\", \"fjord\", \"norse\", \"sailing\"],\n    useCase: \"Historical adventure, Norse culture, maritime history, dramatic landscapes\",\n    fields: {\n      scene: \"Viking longship with dragon prow sailing through misty fjord waters\",\n      setting: \"fjord\",\n      time_of_day: \"dawn\",\n      environmental_details: \"wind in sails and water against hull\",\n      weather: \"misty\",\n      camera_angle: \"low angle from water level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"telephoto\",\n      depth_of_field: \"ship in focus\",\n      style: \"epic viking adventure\",\n      color_palette: \"nordic blues and grays\",\n      lighting_type: \"dramatic dawn light\",\n      motion_type: \"sailing through mist\"\n    },\n    customDetails: \"Legendary Norse vessel cutting through misty fjord waters with dramatic cliffs, capturing the adventurous spirit of Viking exploration\"\n  },\n\n  \"egyptian-pyramid-desert\": {\n    id: \"egyptian-pyramid-desert\",\n    name: \"Egyptian Pyramid in Desert\",\n    description: \"Ancient pyramid rising from golden desert sands\",\n    category: \"historical\",\n    tags: [\"pyramid\", \"egyptian\", \"desert\", \"ancient\", \"monumental\"],\n    useCase: \"Ancient civilizations, archaeological wonders, desert landscapes, monumental architecture\",\n    fields: {\n      scene: \"Massive pyramid structure rising from endless desert sands\",\n      setting: \"desert pyramid\",\n      time_of_day: \"late afternoon\",\n      environmental_details: \"wind-blown sand and vast silence\",\n      weather: \"clear desert\",\n      camera_angle: \"low angle emphasizing scale\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"pyramid sharp against sky\",\n      style: \"monumental ancient\",\n      color_palette: \"desert golds and stone\",\n      lighting_type: \"harsh desert sun\",\n      motion_type: \"slow reverent approach\"\n    },\n    customDetails: \"Monumental ancient architecture rising from desert sands, embodying the mystery and grandeur of Egyptian civilization\"\n  },\n\n  \"enchanted-fairy-forest\": {\n    id: \"enchanted-fairy-forest\",\n    name: \"Enchanted Fairy Forest\",\n    description: \"Magical woodland with glowing lights and mystical atmosphere\",\n    category: \"fantasy\",\n    tags: [\"enchanted\", \"fairy\", \"magical\", \"forest\", \"mystical\"],\n    useCase: \"Fantasy content, magical environments, fairy tale settings, mystical atmospheres\",\n    fields: {\n      scene: \"Mystical forest with glowing fairy lights and magical creatures\",\n      setting: \"enchanted forest\",\n      time_of_day: \"twilight\",\n      environmental_details: \"magical chimes and fairy sounds\",\n      weather: \"misty magical\",\n      camera_angle: \"eye level through trees\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"magical depth\",\n      style: \"fantasy magical\",\n      color_palette: \"magical greens and golds\",\n      lighting_type: \"soft magical glow\",\n      motion_type: \"floating magical movement\"\n    },\n    customDetails: \"Mystical woodland environment with glowing fairy lights, magical creatures, and the otherworldly atmosphere of enchanted realms\"\n  },\n\n  \"dragon-mountain-lair\": {\n    id: \"dragon-mountain-lair\",\n    name: \"Dragon Mountain Lair\",\n    description: \"Ancient dragon's cave filled with treasure and mystical power\",\n    category: \"fantasy\",\n    tags: [\"dragon\", \"lair\", \"treasure\", \"cave\", \"mountain\"],\n    useCase: \"Fantasy adventure, dragon encounters, treasure themes, epic fantasy settings\",\n    fields: {\n      scene: \"Vast mountain cave filled with glittering treasure and dragon presence\",\n      setting: \"dragon lair\",\n      time_of_day: \"eternal twilight\",\n      environmental_details: \"echoing cave sounds and treasure glints\",\n      weather: \"cave atmosphere\",\n      camera_angle: \"low angle showing scale\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"treasure and cave in focus\",\n      style: \"epic fantasy adventure\",\n      color_palette: \"gold treasure and dark cave\",\n      lighting_type: \"treasure gleam and fire glow\",\n      motion_type: \"ominous presence\"\n    },\n    customDetails: \"Legendary dragon's hoard with glittering treasure, ancient cave architecture, and the overwhelming presence of mythical power\"\n  },\n\n  \"wizard-tower-library\": {\n    id: \"wizard-tower-library\",\n    name: \"Wizard Tower Library\",\n    description: \"Mystical tower filled with ancient books and magical artifacts\",\n    category: \"fantasy\",\n    tags: [\"wizard\", \"tower\", \"library\", \"magic\", \"ancient\"],\n    useCase: \"Magic content, wizard settings, mystical knowledge, fantasy libraries\",\n    fields: {\n      scene: \"Tall wizard tower filled with floating books and magical artifacts\",\n      setting: \"wizard tower\",\n      time_of_day: \"mystical time\",\n      environmental_details: \"magical humming and floating objects\",\n      weather: \"magical atmosphere\",\n      camera_angle: \"looking up through tower\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"magical depth\",\n      style: \"mystical magical\",\n      color_palette: \"magical purples and golds\",\n      lighting_type: \"soft magical illumination\",\n      motion_type: \"floating magical objects\"\n    },\n    customDetails: \"Mystical tower of knowledge with floating books, glowing artifacts, and the accumulated wisdom of magical ages\"\n  },\n\n  \"medieval-tavern-inn\": {\n    id: \"medieval-tavern-inn\",\n    name: \"Medieval Tavern Inn\",\n    description: \"Cozy medieval tavern with stone hearth and rustic atmosphere\",\n    category: \"historical\",\n    tags: [\"tavern\", \"medieval\", \"inn\", \"cozy\", \"rustic\"],\n    useCase: \"Medieval settings, tavern scenes, rustic atmospheres, historical hospitality\",\n    fields: {\n      scene: \"Warm medieval tavern with stone fireplace and wooden tables\",\n      setting: \"medieval tavern\",\n      time_of_day: \"evening\",\n      environmental_details: \"crackling fire and jovial conversation\",\n      weather: \"cozy indoor\",\n      camera_angle: \"eye level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"tavern interior in focus\",\n      style: \"warm medieval\",\n      color_palette: \"warm browns and firelight\",\n      lighting_type: \"fireplace and candle glow\",\n      motion_type: \"cozy tavern atmosphere\"\n    },\n    customDetails: \"Authentic medieval hospitality with stone hearth, wooden furnishings, and the warm community atmosphere of historical inns\"\n  },\n\n  \"pirate-ship-deck\": {\n    id: \"pirate-ship-deck\",\n    name: \"Pirate Ship Deck\",\n    description: \"Weathered pirate vessel deck with sails and maritime adventure\",\n    category: \"historical\",\n    tags: [\"pirate\", \"ship\", \"deck\", \"maritime\", \"adventure\"],\n    useCase: \"Pirate adventures, maritime history, seafaring content, nautical themes\",\n    fields: {\n      scene: \"Weathered pirate ship deck with billowing sails and ocean views\",\n      setting: \"pirate ship\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"creaking wood and ocean wind\",\n      weather: \"sea breeze\",\n      camera_angle: \"deck level\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"ship in focus\",\n      style: \"adventure maritime\",\n      color_palette: \"weathered wood and ocean blues\",\n      lighting_type: \"bright ocean sun\",\n      motion_type: \"ship movement on waves\"\n    },\n    customDetails: \"Authentic pirate vessel with weathered deck, billowing sails, and the adventurous spirit of maritime exploration\"\n  },\n\n  \"samurai-temple-garden\": {\n    id: \"samurai-temple-garden\",\n    name: \"Samurai Temple Garden\",\n    description: \"Serene Japanese temple with traditional architecture and zen garden\",\n    category: \"historical\",\n    tags: [\"samurai\", \"temple\", \"japanese\", \"zen\", \"traditional\"],\n    useCase: \"Japanese culture, zen content, traditional architecture, peaceful settings\",\n    fields: {\n      scene: \"Traditional Japanese temple with zen garden and peaceful atmosphere\",\n      setting: \"temple garden\",\n      time_of_day: \"early morning\",\n      environmental_details: \"wind chimes and gentle water sounds\",\n      weather: \"serene\",\n      camera_angle: \"eye level\",\n      camera_distance: \"wide shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"garden and temple in focus\",\n      style: \"zen peaceful\",\n      color_palette: \"traditional japanese colors\",\n      lighting_type: \"soft morning light\",\n      motion_type: \"meditative stillness\"\n    },\n    customDetails: \"Tranquil Japanese temple setting with zen garden, traditional architecture, and the peaceful spirit of contemplation\"\n  },\n\n  \"aztec-pyramid-temple\": {\n    id: \"aztec-pyramid-temple\",\n    name: \"Aztec Pyramid Temple\",\n    description: \"Ancient Mesoamerican pyramid with ceremonial architecture\",\n    category: \"historical\",\n    tags: [\"aztec\", \"pyramid\", \"temple\", \"mesoamerican\", \"ancient\"],\n    useCase: \"Ancient civilizations, ceremonial content, archaeological sites, cultural heritage\",\n    fields: {\n      scene: \"Imposing Aztec pyramid temple with ceremonial steps and ancient carvings\",\n      setting: \"aztec temple\",\n      time_of_day: \"late afternoon\",\n      environmental_details: \"wind through ancient stones and ceremonial echoes\",\n      weather: \"clear\",\n      camera_angle: \"low angle showing temple height\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"temple in sharp focus\",\n      style: \"ancient monumental\",\n      color_palette: \"stone grays and jungle greens\",\n      lighting_type: \"dramatic ancient light\",\n      motion_type: \"reverent ancient presence\"\n    },\n    customDetails: \"Monumental Mesoamerican architecture with ceremonial steps, ancient carvings, and the sacred atmosphere of lost civilizations\"\n  },\n\n  \"elven-tree-city\": {\n    id: \"elven-tree-city\",\n    name: \"Elven Tree City\",\n    description: \"Magical elven city built into ancient forest trees\",\n    category: \"fantasy\",\n    tags: [\"elven\", \"tree\", \"city\", \"magical\", \"forest\"],\n    useCase: \"Fantasy content, elven culture, magical cities, tree-based architecture\",\n    fields: {\n      scene: \"Graceful elven city with buildings woven into massive ancient trees\",\n      setting: \"elven tree city\",\n      time_of_day: \"golden hour\",\n      environmental_details: \"elven music and magical forest sounds\",\n      weather: \"magical forest atmosphere\",\n      camera_angle: \"looking up through tree city\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"magical city depth\",\n      style: \"elegant fantasy\",\n      color_palette: \"forest greens and elven gold\",\n      lighting_type: \"magical dappled light\",\n      motion_type: \"graceful elven movement\"\n    },\n    customDetails: \"Elegant elven civilization integrated with ancient forest, featuring graceful architecture and the harmony of nature and magic\"\n  },\n\n  // ADDITIONAL SCI-FI/FUTURISTIC SETTINGS (8 presets)\n  \"space-station-interior\": {\n    id: \"space-station-interior\",\n    name: \"Space Station Interior\",\n    description: \"High-tech space station with curved corridors and advanced technology\",\n    category: \"scifi\",\n    tags: [\"space\", \"station\", \"futuristic\", \"technology\", \"interior\"],\n    useCase: \"Sci-fi content, space exploration, futuristic technology, space habitation\",\n    fields: {\n      scene: \"Sleek space station corridor with curved walls and holographic displays\",\n      setting: \"space station\",\n      time_of_day: \"artificial day cycle\",\n      environmental_details: \"humming technology and life support systems\",\n      weather: \"controlled atmosphere\",\n      camera_angle: \"eye level down corridor\",\n      camera_distance: \"medium shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"corridor in focus\",\n      style: \"futuristic clean\",\n      color_palette: \"cool blues and whites\",\n      lighting_type: \"soft LED lighting\",\n      motion_type: \"floating zero gravity\"\n    },\n    customDetails: \"Advanced space habitat with curved architecture, holographic interfaces, and the contained atmosphere of human space exploration\"\n  },\n\n  \"cyberpunk-street-neon\": {\n    id: \"cyberpunk-street-neon\",\n    name: \"Cyberpunk Street with Neon\",\n    description: \"Rain-soaked cyberpunk street with neon signs and futuristic atmosphere\",\n    category: \"scifi\",\n    tags: [\"cyberpunk\", \"neon\", \"rain\", \"futuristic\", \"street\"],\n    useCase: \"Cyberpunk content, futuristic dystopia, neon aesthetics, urban sci-fi\",\n    fields: {\n      scene: \"Rain-soaked street with towering neon signs and cyberpunk atmosphere\",\n      setting: \"cyberpunk street\",\n      time_of_day: \"night\",\n      environmental_details: \"rain on neon and distant city hum\",\n      weather: \"light rain\",\n      camera_angle: \"low angle looking up\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"street and neon in focus\",\n      style: \"cyberpunk noir\",\n      color_palette: \"neon colors and rain reflections\",\n      lighting_type: \"neon lighting\",\n      motion_type: \"rain and neon flicker\"\n    },\n    customDetails: \"Dystopian future cityscape with towering neon advertisements, rain-slicked streets, and the gritty atmosphere of cyberpunk noir\"\n  },\n\n  \"alien-planet-landscape\": {\n    id: \"alien-planet-landscape\",\n    name: \"Alien Planet Landscape\",\n    description: \"Exotic alien world with strange formations and otherworldly atmosphere\",\n    category: \"scifi\",\n    tags: [\"alien\", \"planet\", \"otherworldly\", \"exotic\", \"landscape\"],\n    useCase: \"Sci-fi exploration, alien worlds, exotic landscapes, space exploration\",\n    fields: {\n      scene: \"Alien landscape with bizarre rock formations and strange atmospheric effects\",\n      setting: \"alien planet\",\n      time_of_day: \"alien sunset\",\n      environmental_details: \"strange atmospheric sounds and alien wind\",\n      weather: \"alien atmosphere\",\n      camera_angle: \"wide vista angle\",\n      camera_distance: \"wide shot\",\n      lens_type: \"ultra wide\",\n      depth_of_field: \"alien landscape in focus\",\n      style: \"exotic alien\",\n      color_palette: \"otherworldly colors\",\n      lighting_type: \"alien sun lighting\",\n      motion_type: \"otherworldly movement\"\n    },\n    customDetails: \"Extraordinary alien environment with impossible geology, strange atmospheric effects, and the wonder of discovering new worlds\"\n  },\n\n  \"laboratory-experiment\": {\n    id: \"laboratory-experiment\",\n    name: \"High-Tech Laboratory\",\n    description: \"Advanced scientific laboratory with experiments and futuristic equipment\",\n    category: \"scifi\",\n    tags: [\"laboratory\", \"science\", \"experiment\", \"technology\", \"research\"],\n    useCase: \"Scientific content, research environments, technology showcases, experimental settings\",\n    fields: {\n      scene: \"Advanced laboratory with glowing experiments and high-tech equipment\",\n      setting: \"laboratory\",\n      time_of_day: \"continuous work cycle\",\n      environmental_details: \"humming equipment and bubbling experiments\",\n      weather: \"controlled laboratory environment\",\n      camera_angle: \"eye level through lab\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"equipment in focus\",\n      style: \"high-tech scientific\",\n      color_palette: \"sterile whites and glowing accents\",\n      lighting_type: \"bright laboratory lighting\",\n      motion_type: \"precise scientific movement\"\n    },\n    customDetails: \"Cutting-edge research facility with advanced equipment, ongoing experiments, and the focused energy of scientific discovery\"\n  },\n\n  \"hover-car-highway\": {\n    id: \"hover-car-highway\",\n    name: \"Hover Car Highway\",\n    description: \"Futuristic transportation system with flying cars and elevated roadways\",\n    category: \"scifi\",\n    tags: [\"hover\", \"cars\", \"highway\", \"flying\", \"transportation\"],\n    useCase: \"Futuristic transportation, flying vehicles, advanced infrastructure, sci-fi cityscapes\",\n    fields: {\n      scene: \"Multi-level highway system with hovering vehicles and futuristic traffic\",\n      setting: \"hover highway\",\n      time_of_day: \"afternoon\",\n      environmental_details: \"humming hover engines and traffic flow\",\n      weather: \"clear futuristic sky\",\n      camera_angle: \"tracking with traffic\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"vehicles in focus\",\n      style: \"sleek futuristic\",\n      color_palette: \"metallic silvers and blues\",\n      lighting_type: \"bright futuristic daylight\",\n      motion_type: \"smooth hover movement\"\n    },\n    customDetails: \"Advanced transportation network with silent hovering vehicles, multi-level roadways, and the efficient flow of future mobility\"\n  },\n\n  \"robot-factory-assembly\": {\n    id: \"robot-factory-assembly\",\n    name: \"Robot Factory Assembly Line\",\n    description: \"Automated factory with robots building advanced technology\",\n    category: \"scifi\",\n    tags: [\"robot\", \"factory\", \"assembly\", \"automation\", \"manufacturing\"],\n    useCase: \"Industrial automation, robotics content, manufacturing processes, futuristic production\",\n    fields: {\n      scene: \"Vast automated factory with robot arms assembling futuristic devices\",\n      setting: \"robot factory\",\n      time_of_day: \"continuous operation\",\n      environmental_details: \"mechanical whirring and assembly sounds\",\n      weather: \"controlled industrial environment\",\n      camera_angle: \"high angle showing assembly line\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"factory floor in focus\",\n      style: \"industrial futuristic\",\n      color_palette: \"metallic grays and warning oranges\",\n      lighting_type: \"bright industrial lighting\",\n      motion_type: \"precise robotic movement\"\n    },\n    customDetails: \"Highly automated production facility with precise robot workers, efficient assembly processes, and the organized chaos of future manufacturing\"\n  },\n\n  \"time-portal-chamber\": {\n    id: \"time-portal-chamber\",\n    name: \"Time Portal Chamber\",\n    description: \"Sci-fi laboratory with swirling time portal and advanced temporal technology\",\n    category: \"scifi\",\n    tags: [\"time\", \"portal\", \"chamber\", \"temporal\", \"sci-fi\"],\n    useCase: \"Time travel content, sci-fi adventures, temporal mechanics, portal technology\",\n    fields: {\n      scene: \"High-tech chamber with swirling temporal portal and advanced control systems\",\n      setting: \"time portal chamber\",\n      time_of_day: \"outside normal time\",\n      environmental_details: \"temporal energy crackling and time distortion sounds\",\n      weather: \"temporal field disturbance\",\n      camera_angle: \"centered on portal\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"portal in sharp focus\",\n      style: \"advanced sci-fi\",\n      color_palette: \"electric blues and temporal purples\",\n      lighting_type: \"portal energy glow\",\n      motion_type: \"swirling temporal energy\"\n    },\n    customDetails: \"Advanced temporal research facility with active time portal, crackling energy fields, and the awesome power of time manipulation technology\"\n  },\n\n  \"underwater-research-station\": {\n    id: \"underwater-research-station\",\n    name: \"Underwater Research Station\",\n    description: \"Submerged scientific facility with ocean views and marine research\",\n    category: \"scifi\",\n    tags: [\"underwater\", \"research\", \"station\", \"ocean\", \"marine\"],\n    useCase: \"Marine research, underwater exploration, oceanic science, aquatic environments\",\n    fields: {\n      scene: \"Underwater research facility with large viewing windows showing ocean life\",\n      setting: \"underwater station\",\n      time_of_day: \"filtered ocean light\",\n      environmental_details: \"pressurized environment and ocean sounds\",\n      weather: \"deep ocean currents\",\n      camera_angle: \"through viewing windows\",\n      camera_distance: \"medium shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"station and ocean in focus\",\n      style: \"marine scientific\",\n      color_palette: \"ocean blues and facility whites\",\n      lighting_type: \"filtered underwater light\",\n      motion_type: \"floating marine life\"\n    },\n    customDetails: \"Advanced underwater research facility with panoramic ocean views, marine life observation, and the frontier atmosphere of deep sea exploration\"\n  },\n\n  // ADDITIONAL ABSTRACT/SURREAL SETTINGS (10 presets)\n  \"floating-islands-sky\": {\n    id: \"floating-islands-sky\",\n    name: \"Floating Islands in Sky\",\n    description: \"Impossible floating landmasses suspended in endless sky\",\n    category: \"abstract\",\n    tags: [\"floating\", \"islands\", \"sky\", \"impossible\", \"surreal\"],\n    useCase: \"Surreal content, impossible worlds, dreamlike sequences, abstract environments\",\n    fields: {\n      scene: \"Massive floating islands suspended in infinite sky with waterfalls cascading into clouds\",\n      setting: \"floating islands\",\n      time_of_day: \"eternal golden hour\",\n      environmental_details: \"wind through floating rocks and distant water sounds\",\n      weather: \"impossible sky weather\",\n      camera_angle: \"floating perspective\",\n      camera_distance: \"wide shot\",\n      lens_type: \"ultra wide\",\n      depth_of_field: \"islands and sky in focus\",\n      style: \"surreal dreamlike\",\n      color_palette: \"sky blues and cloud whites\",\n      lighting_type: \"magical sky lighting\",\n      motion_type: \"gentle floating movement\"\n    },\n    customDetails: \"Impossible landscape with gravity-defying islands, cascading waterfalls into endless sky, and the dreamlike beauty of surreal worlds\"\n  },\n\n  \"mirror-maze-reflections\": {\n    id: \"mirror-maze-reflections\",\n    name: \"Infinite Mirror Maze\",\n    description: \"Endless maze of mirrors creating infinite reflections and optical illusions\",\n    category: \"abstract\",\n    tags: [\"mirrors\", \"maze\", \"reflections\", \"infinite\", \"illusion\"],\n    useCase: \"Abstract art, psychological content, optical illusions, mind-bending visuals\",\n    fields: {\n      scene: \"Infinite corridor of mirrors creating endless reflections and visual complexity\",\n      setting: \"mirror maze\",\n      time_of_day: \"timeless reflection\",\n      environmental_details: \"echoing reflections and spatial distortion\",\n      weather: \"controlled reflection environment\",\n      camera_angle: \"through mirror reflections\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"infinite reflection focus\",\n      style: \"geometric abstract\",\n      color_palette: \"silver mirrors and light refractions\",\n      lighting_type: \"multiple reflection lighting\",\n      motion_type: \"reflection multiplication\"\n    },\n    customDetails: \"Mind-bending mirror environment with infinite reflections, spatial disorientation, and the hypnotic beauty of recursive imagery\"\n  },\n\n  \"gravity-defying-rooms\": {\n    id: \"gravity-defying-rooms\",\n    name: \"Gravity-Defying Architecture\",\n    description: \"Impossible architectural spaces where gravity works in multiple directions\",\n    category: \"abstract\",\n    tags: [\"gravity\", \"architecture\", \"impossible\", \"spatial\", \"surreal\"],\n    useCase: \"Surreal architecture, impossible spaces, mind-bending environments, abstract design\",\n    fields: {\n      scene: \"Impossible room where furniture exists on walls and ceiling with multiple gravity directions\",\n      setting: \"impossible architecture\",\n      time_of_day: \"spatial time\",\n      environmental_details: \"objects falling in multiple directions and spatial confusion\",\n      weather: \"controlled impossible environment\",\n      camera_angle: \"impossible perspective\",\n      camera_distance: \"wide shot\",\n      lens_type: \"fisheye\",\n      depth_of_field: \"impossible depth\",\n      style: \"surreal architectural\",\n      color_palette: \"neutral architecture with impossible shadows\",\n      lighting_type: \"multi-directional lighting\",\n      motion_type: \"impossible gravity movement\"\n    },\n    customDetails: \"Mind-bending architectural space where gravity exists in multiple directions, creating impossible room layouts and spatial confusion\"\n  },\n\n  \"kaleidoscope-tunnel\": {\n    id: \"kaleidoscope-tunnel\",\n    name: \"Kaleidoscope Tunnel\",\n    description: \"Psychedelic tunnel with constantly shifting geometric patterns and colors\",\n    category: \"abstract\",\n    tags: [\"kaleidoscope\", \"tunnel\", \"psychedelic\", \"patterns\", \"geometric\"],\n    useCase: \"Psychedelic content, geometric art, pattern design, abstract visuals\",\n    fields: {\n      scene: \"Endless tunnel with shifting kaleidoscopic patterns and brilliant colors\",\n      setting: \"kaleidoscope tunnel\",\n      time_of_day: \"pattern time\",\n      environmental_details: \"shifting pattern sounds and color harmony\",\n      weather: \"geometric pattern environment\",\n      camera_angle: \"tunnel perspective\",\n      camera_distance: \"medium shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"pattern tunnel in focus\",\n      style: \"psychedelic geometric\",\n      color_palette: \"rainbow spectrum patterns\",\n      lighting_type: \"pattern internal lighting\",\n      motion_type: \"constant pattern shifting\"\n    },\n    customDetails: \"Hypnotic geometric environment with constantly shifting kaleidoscopic patterns, brilliant colors, and the mesmerizing beauty of abstract art\"\n  },\n\n  \"liquid-crystal-cavern\": {\n    id: \"liquid-crystal-cavern\",\n    name: \"Liquid Crystal Cavern\",\n    description: \"Fantastical cave filled with flowing liquid crystals and prismatic light\",\n    category: \"abstract\",\n    tags: [\"liquid\", \"crystal\", \"cavern\", \"prismatic\", \"fantastical\"],\n    useCase: \"Fantasy abstracts, crystal environments, magical caves, prismatic lighting\",\n    fields: {\n      scene: \"Magical cavern with flowing liquid crystals and rainbow light refractions\",\n      setting: \"crystal cavern\",\n      time_of_day: \"eternal crystal glow\",\n      environmental_details: \"crystal resonance and flowing liquid sounds\",\n      weather: \"magical crystal atmosphere\",\n      camera_angle: \"through crystal formations\",\n      camera_distance: \"medium shot\",\n      lens_type: \"macro\",\n      depth_of_field: \"crystal detail focus\",\n      style: \"magical crystalline\",\n      color_palette: \"prismatic rainbow crystals\",\n      lighting_type: \"refracted crystal light\",\n      motion_type: \"flowing liquid crystal\"\n    },\n    customDetails: \"Enchanted underground realm with flowing liquid crystals, prismatic light effects, and the otherworldly beauty of magical geology\"\n  },\n\n  \"dream-bubble-landscape\": {\n    id: \"dream-bubble-landscape\",\n    name: \"Dream Bubble Landscape\",\n    description: \"Surreal landscape made of giant floating soap bubbles with dream imagery\",\n    category: \"abstract\",\n    tags: [\"dream\", \"bubbles\", \"surreal\", \"floating\", \"imagery\"],\n    useCase: \"Dream sequences, surreal art, bubble effects, fantasy landscapes\",\n    fields: {\n      scene: \"Landscape of giant floating bubbles containing dream scenes and memories\",\n      setting: \"dream bubble world\",\n      time_of_day: \"dream time\",\n      environmental_details: \"gentle bubble sounds and dream whispers\",\n      weather: \"dream atmosphere\",\n      camera_angle: \"floating through bubbles\",\n      camera_distance: \"medium shot\",\n      lens_type: \"macro to wide\",\n      depth_of_field: \"bubble surfaces in focus\",\n      style: \"dreamlike surreal\",\n      color_palette: \"iridescent bubble colors\",\n      lighting_type: \"soft dream lighting\",\n      motion_type: \"gentle bubble floating\"\n    },\n    customDetails: \"Fantastical dream realm with floating soap bubbles containing memories and dreams, creating a surreal landscape of consciousness\"\n  },\n\n  \"geometric-void-space\": {\n    id: \"geometric-void-space\",\n    name: \"Geometric Void Space\",\n    description: \"Abstract void filled with floating geometric shapes and mathematical precision\",\n    category: \"abstract\",\n    tags: [\"geometric\", \"void\", \"shapes\", \"mathematical\", \"abstract\"],\n    useCase: \"Mathematical art, geometric design, abstract concepts, minimal art\",\n    fields: {\n      scene: \"Infinite void space with precisely floating geometric shapes and mathematical harmony\",\n      setting: \"geometric void\",\n      time_of_day: \"mathematical time\",\n      environmental_details: \"geometric resonance and mathematical harmony\",\n      weather: \"pure mathematical environment\",\n      camera_angle: \"floating through geometry\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"geometric shapes in focus\",\n      style: \"pure geometric abstract\",\n      color_palette: \"primary geometric colors\",\n      lighting_type: \"geometric edge lighting\",\n      motion_type: \"precise geometric movement\"\n    },\n    customDetails: \"Pure abstract environment with floating geometric forms, mathematical precision, and the elegant beauty of pure geometric relationships\"\n  },\n\n  \"texture-morphing-walls\": {\n    id: \"texture-morphing-walls\",\n    name: \"Texture Morphing Walls\",\n    description: \"Abstract space where walls constantly shift between different textures and materials\",\n    category: \"abstract\",\n    tags: [\"texture\", \"morphing\", \"walls\", \"shifting\", \"materials\"],\n    useCase: \"Abstract art, texture studies, morphing effects, material transformation\",\n    fields: {\n      scene: \"Room with walls that continuously morph between wood, metal, fabric, and organic textures\",\n      setting: \"morphing texture room\",\n      time_of_day: \"texture time\",\n      environmental_details: \"texture transformation sounds and material shifts\",\n      weather: \"controlled texture environment\",\n      camera_angle: \"close to morphing walls\",\n      camera_distance: \"close-up\",\n      lens_type: \"macro\",\n      depth_of_field: \"texture detail focus\",\n      style: \"texture abstract\",\n      color_palette: \"material-based color shifts\",\n      lighting_type: \"texture-revealing lighting\",\n      motion_type: \"continuous texture morphing\"\n    },\n    customDetails: \"Fascinating abstract environment where surfaces continuously transform between different materials and textures, creating ever-changing tactile landscapes\"\n  },\n\n  \"particle-storm-chamber\": {\n    id: \"particle-storm-chamber\",\n    name: \"Particle Storm Chamber\",\n    description: \"Abstract space filled with swirling particle effects and energy patterns\",\n    category: \"abstract\",\n    tags: [\"particle\", \"storm\", \"chamber\", \"energy\", \"swirling\"],\n    useCase: \"Particle effects, energy visualizations, abstract motion, dynamic patterns\",\n    fields: {\n      scene: \"Enclosed space with millions of particles creating swirling storm patterns and energy flows\",\n      setting: \"particle chamber\",\n      time_of_day: \"energy time\",\n      environmental_details: \"particle collision sounds and energy crackling\",\n      weather: \"particle storm environment\",\n      camera_angle: \"within particle storm\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"particle streams in focus\",\n      style: \"dynamic particle abstract\",\n      color_palette: \"energy spectrum colors\",\n      lighting_type: \"particle self-illumination\",\n      motion_type: \"swirling particle dynamics\"\n    },\n    customDetails: \"Dynamic abstract environment with millions of particles creating storm-like patterns, energy flows, and the hypnotic beauty of particle physics\"\n  },\n\n  \"color-bleeding-landscape\": {\n    id: \"color-bleeding-landscape\",\n    name: \"Color Bleeding Landscape\",\n    description: \"Surreal landscape where colors bleed and flow like paint across the environment\",\n    category: \"abstract\",\n    tags: [\"color\", \"bleeding\", \"landscape\", \"paint\", \"flowing\"],\n    useCase: \"Color studies, artistic abstracts, paint effects, surreal environments\",\n    fields: {\n      scene: \"Landscape where colors flow and bleed across surfaces like liquid paint\",\n      setting: \"color bleeding world\",\n      time_of_day: \"color time\",\n      environmental_details: \"color flowing sounds and paint mixing\",\n      weather: \"liquid color atmosphere\",\n      camera_angle: \"through color flows\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"color flows in focus\",\n      style: \"liquid color abstract\",\n      color_palette: \"flowing paint spectrum\",\n      lighting_type: \"color-revealing lighting\",\n      motion_type: \"liquid color movement\"\n    },\n    customDetails: \"Artistic abstract landscape where colors behave like liquid paint, flowing and bleeding across surfaces to create ever-changing color compositions\"\n  },\n\n  // ADDITIONAL INDOOR SPACES (8 presets)\n  \"recording-studio-booth\": {\n    id: \"recording-studio-booth\",\n    name: \"Recording Studio Booth\",\n    description: \"Professional recording studio with soundproofing and audio equipment\",\n    category: \"indoor\",\n    tags: [\"recording\", \"studio\", \"music\", \"audio\", \"professional\"],\n    useCase: \"Music production, audio content, recording sessions, creative studios\",\n    fields: {\n      scene: \"Professional recording booth with microphones and soundproofing panels\",\n      setting: \"recording studio\",\n      time_of_day: \"session time\",\n      environmental_details: \"quiet isolation and equipment hum\",\n      weather: \"controlled studio environment\",\n      camera_angle: \"through studio glass\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"equipment in focus\",\n      style: \"professional audio\",\n      color_palette: \"studio grays and equipment blacks\",\n      lighting_type: \"controlled studio lighting\",\n      motion_type: \"subtle recording activity\"\n    },\n    customDetails: \"Professional audio environment with high-end recording equipment, acoustic treatment, and the focused atmosphere of music creation\"\n  },\n\n  \"art-studio-easel\": {\n    id: \"art-studio-easel\",\n    name: \"Artist Studio with Easel\",\n    description: \"Creative art studio with painting easel and artistic supplies\",\n    category: \"indoor\",\n    tags: [\"art\", \"studio\", \"easel\", \"painting\", \"creative\"],\n    useCase: \"Art creation, creative processes, studio environments, artistic content\",\n    fields: {\n      scene: \"Artist studio with paint-covered easel and scattered creative supplies\",\n      setting: \"art studio\",\n      time_of_day: \"creative afternoon\",\n      environmental_details: \"quiet creativity and paint mixing sounds\",\n      weather: \"comfortable creative environment\",\n      camera_angle: \"over artist shoulder\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"easel and painting in focus\",\n      style: \"artistic creative\",\n      color_palette: \"artist paint colors\",\n      lighting_type: \"north-facing window light\",\n      motion_type: \"creative painting movements\"\n    },\n    customDetails: \"Inspiring creative workspace with natural light, art supplies, and the contemplative atmosphere of artistic creation\"\n  },\n\n  \"home-theater-room\": {\n    id: \"home-theater-room\",\n    name: \"Home Theater Room\",\n    description: \"Private home cinema with comfortable seating and large screen\",\n    category: \"indoor\",\n    tags: [\"home\", \"theater\", \"cinema\", \"entertainment\", \"private\"],\n    useCase: \"Home entertainment, movie watching, private cinema experiences, luxury interiors\",\n    fields: {\n      scene: \"Luxurious home theater with reclining seats and large projection screen\",\n      setting: \"home theater\",\n      time_of_day: \"movie night\",\n      environmental_details: \"surround sound and comfortable silence\",\n      weather: \"controlled indoor environment\",\n      camera_angle: \"from seating area\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"theater room and screen in focus\",\n      style: \"luxury entertainment\",\n      color_palette: \"theater dark blues and screen glow\",\n      lighting_type: \"ambient theater lighting\",\n      motion_type: \"reclining comfort\"\n    },\n    customDetails: \"Premium home entertainment space with professional theater seating, high-end audio/visual equipment, and the comfort of private cinema\"\n  },\n\n  \"wine-cellar-collection\": {\n    id: \"wine-cellar-collection\",\n    name: \"Wine Cellar Collection\",\n    description: \"Traditional wine cellar with aged bottles and stone architecture\",\n    category: \"indoor\",\n    tags: [\"wine\", \"cellar\", \"collection\", \"aged\", \"traditional\"],\n    useCase: \"Wine culture, luxury lifestyles, traditional storage, sophisticated environments\",\n    fields: {\n      scene: \"Stone wine cellar with wooden racks filled with aged wine bottles\",\n      setting: \"wine cellar\",\n      time_of_day: \"cellar twilight\",\n      environmental_details: \"quiet aging and cork scents\",\n      weather: \"cool cellar environment\",\n      camera_angle: \"down wine cellar corridor\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"wine racks in focus\",\n      style: \"traditional luxury\",\n      color_palette: \"stone grays and wine bottle greens\",\n      lighting_type: \"soft cellar lighting\",\n      motion_type: \"still aging process\"\n    },\n    customDetails: \"Traditional underground wine storage with stone architecture, wooden racks, and the patient atmosphere of wine aging\"\n  },\n\n  \"greenhouse-garden-indoor\": {\n    id: \"greenhouse-garden-indoor\",\n    name: \"Indoor Greenhouse Garden\",\n    description: \"Glass greenhouse filled with lush plants and controlled growing environment\",\n    category: \"indoor\",\n    tags: [\"greenhouse\", \"garden\", \"plants\", \"growing\", \"glass\"],\n    useCase: \"Gardening content, plant cultivation, sustainable living, natural indoor spaces\",\n    fields: {\n      scene: \"Glass greenhouse interior with lush plants and growing systems\",\n      setting: \"greenhouse\",\n      time_of_day: \"bright growing light\",\n      environmental_details: \"plant sounds and water systems\",\n      weather: \"controlled growing environment\",\n      camera_angle: \"through plant canopy\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"plants in focus\",\n      style: \"natural growing\",\n      color_palette: \"lush plant greens\",\n      lighting_type: \"filtered greenhouse light\",\n      motion_type: \"gentle plant growth\"\n    },\n    customDetails: \"Thriving indoor garden environment with controlled climate, diverse plant life, and the productive atmosphere of cultivation\"\n  },\n\n  \"workshop-crafting-table\": {\n    id: \"workshop-crafting-table\",\n    name: \"Workshop Crafting Table\",\n    description: \"Artisan workshop with tools and handcrafted projects in progress\",\n    category: \"indoor\",\n    tags: [\"workshop\", \"crafting\", \"tools\", \"handmade\", \"artisan\"],\n    useCase: \"Craftsmanship content, DIY projects, artisan work, traditional skills\",\n    fields: {\n      scene: \"Artisan workshop with wooden workbench covered in tools and projects\",\n      setting: \"workshop\",\n      time_of_day: \"productive afternoon\",\n      environmental_details: \"tool sounds and crafting activity\",\n      weather: \"workshop comfortable\",\n      camera_angle: \"over workbench\",\n      camera_distance: \"close-up\",\n      lens_type: \"macro\",\n      depth_of_field: \"tools and work in focus\",\n      style: \"artisan craftsmanship\",\n      color_palette: \"wood tones and tool metals\",\n      lighting_type: \"task lighting\",\n      motion_type: \"precise craftwork\"\n    },\n    customDetails: \"Authentic artisan workspace with hand tools, wood shavings, and the focused atmosphere of traditional craftsmanship\"\n  },\n\n  \"dance-studio-mirrors\": {\n    id: \"dance-studio-mirrors\",\n    name: \"Dance Studio with Mirrors\",\n    description: \"Professional dance studio with mirrored walls and practice space\",\n    category: \"indoor\",\n    tags: [\"dance\", \"studio\", \"mirrors\", \"practice\", \"movement\"],\n    useCase: \"Dance content, movement training, performance preparation, artistic expression\",\n    fields: {\n      scene: \"Professional dance studio with wall-to-wall mirrors and hardwood floors\",\n      setting: \"dance studio\",\n      time_of_day: \"practice session\",\n      environmental_details: \"music and footwork sounds\",\n      weather: \"controlled studio environment\",\n      camera_angle: \"reflected in mirrors\",\n      camera_distance: \"wide shot\",\n      lens_type: \"wide angle\",\n      depth_of_field: \"dancers and reflections in focus\",\n      style: \"dynamic movement\",\n      color_palette: \"mirror reflections and studio colors\",\n      lighting_type: \"bright studio lighting\",\n      motion_type: \"fluid dance movement\"\n    },\n    customDetails: \"Professional dance environment with mirrored walls, spring-loaded floors, and the dynamic energy of movement and artistic expression\"\n  },\n\n  \"cozy-reading-nook\": {\n    id: \"cozy-reading-nook\",\n    name: \"Cozy Reading Nook\",\n    description: \"Comfortable reading corner with soft lighting and books\",\n    category: \"indoor\",\n    tags: [\"reading\", \"cozy\", \"books\", \"comfortable\", \"quiet\"],\n    useCase: \"Quiet moments, reading culture, comfort spaces, peaceful interiors\",\n    fields: {\n      scene: \"Comfortable reading corner with soft chair, good lighting, and stacked books\",\n      setting: \"reading nook\",\n      time_of_day: \"quiet evening\",\n      environmental_details: \"page turning and peaceful quiet\",\n      weather: \"comfortable indoor\",\n      camera_angle: \"cozy corner view\",\n      camera_distance: \"medium shot\",\n      lens_type: \"standard\",\n      depth_of_field: \"reading area in focus\",\n      style: \"cozy comfortable\",\n      color_palette: \"warm reading light and book spines\",\n      lighting_type: \"soft reading light\",\n      motion_type: \"peaceful stillness\"\n    },\n    customDetails: \"Perfect reading retreat with comfortable seating, warm lighting, and the peaceful atmosphere of quiet literary escape\"\n  }\n};\n\n// Category organization for the preset selector\nexport const sceneCategories = {\n  urban: {\n    name: \"Urban\",\n    icon: \"🏙️\",\n    presets: [\"city-street-chase\", \"rooftop-confrontation\", \"subway-station\", \"shopping-mall\", \"downtown-plaza\", \"urban-alley\", \"city-bridge\", \"parking-garage\", \"bustling-downtown-intersection\", \"high-rise-office-interior\", \"street-market-food-stalls\", \"construction-site-cranes\"]\n  },\n  nature: {\n    name: \"Nature\", \n    icon: \"🌲\",\n    presets: [\"beach-rescue\", \"forest-path\", \"mountain-peak\", \"lake-shore\", \"desert-landscape\", \"waterfall\", \"cave-entrance\", \"meadow-field\", \"quiet-suburban-street-sunset\", \"coffee-shop-rainy-day\", \"urban-park-joggers\", \"trendy-art-gallery-opening\"]\n  },\n  indoor: {\n    name: \"Indoor\",\n    icon: \"🏠\", \n    presets: [\"coffee-shop\", \"library\", \"gym-workout\", \"restaurant-dining\", \"office-workspace\", \"bedroom-intimate\", \"kitchen-cooking\", \"recording-studio-booth\", \"art-studio-easel\", \"home-theater-room\", \"wine-cellar-collection\", \"greenhouse-garden-indoor\", \"workshop-crafting-table\", \"dance-studio-mirrors\", \"cozy-reading-nook\"]\n  },\n  entertainment: {\n    name: \"Entertainment\",\n    icon: \"🎭\",\n    presets: [\"concert-hall\", \"sports-stadium\", \"movie-theater\", \"amusement-park\", \"art-museum\", \"nightclub\", \"arcade-games\"]\n  },\n  meme: {\n    name: \"Meme Templates\",\n    icon: \"😂\",\n    presets: [\"distracted-boyfriend\", \"woman-yelling-cat\", \"drake-pointing\", \"this-is-fine\", \"surprised-pikachu\", \"expanding-brain\", \"two-buttons\", \"ohio-brainrot\"]\n  },\n  historical: {\n    name: \"Historical\",\n    icon: \"🏛\",\n    presets: [\"medieval-castle-courtyard\", \"ancient-roman-forum\", \"viking-longship-fjord\", \"egyptian-pyramid-desert\", \"medieval-tavern-inn\", \"pirate-ship-deck\", \"samurai-temple-garden\", \"aztec-pyramid-temple\"]\n  },\n  fantasy: {\n    name: \"Fantasy / Magical\",\n    icon: \"🧙‍♂️\",\n    presets: [\"enchanted-fairy-forest\", \"dragon-mountain-lair\", \"wizard-tower-library\", \"elven-tree-city\"]\n  },\n  scifi: {\n    name: \"Sci-Fi / Futuristic\",\n    icon: \"🚀\",\n    presets: [\"space-station-interior\", \"cyberpunk-street-neon\", \"alien-planet-landscape\", \"laboratory-experiment\", \"hover-car-highway\", \"robot-factory-assembly\", \"time-portal-chamber\", \"underwater-research-station\"]\n  },\n  abstract: {\n    name: \"Abstract / Surreal\",\n    icon: \"📦\",\n    presets: [\"floating-islands-sky\", \"mirror-maze-reflections\", \"gravity-defying-rooms\", \"kaleidoscope-tunnel\", \"liquid-crystal-cavern\", \"dream-bubble-landscape\", \"geometric-void-space\", \"texture-morphing-walls\", \"particle-storm-chamber\", \"color-bleeding-landscape\"]\n  }\n};","export const actionPresets = {\n  // CHASE & PURSUIT ACTIONS (5 presets)\n  \"high-speed-chase\": {\n    id: \"high-speed-chase\",\n    name: \"High-Speed Chase\",\n    description: \"Intense vehicular pursuit through urban streets\",\n    category: \"chase\",\n    tags: [\"chase\", \"vehicles\", \"action\", \"pursuit\"],\n    useCase: \"Action sequences, thriller content, high-energy pursuits\",\n    fields: {\n      actions: \"high-speed chase\",\n      scene: \"Intense chase scene weaving through traffic and pedestrians\",\n      dialogue: \"Hold on tight! We're not losing them!\",\n      camera_angle: \"low tracking angle\",\n      camera_distance: \"following shot\",\n      motion_type: \"fast tracking\"\n    },\n    customDetails: \"High-octane vehicular chase with screeching tires, honking cars, and adrenaline-pumping pursuit energy\"\n  },\n\n  \"foot-chase-parkour\": {\n    id: \"foot-chase-parkour\",\n    name: \"Parkour Foot Chase\",\n    description: \"Athletic pursuit across rooftops and urban obstacles\",\n    category: \"chase\",\n    tags: [\"parkour\", \"athletic\", \"rooftops\", \"chase\"],\n    useCase: \"Action sequences, athletic content, urban exploration\",\n    fields: {\n      actions: \"parkour chase\",\n      scene: \"Athletic chase leaping across rooftops and scaling walls\",\n      dialogue: \"You can run, but you can't hide!\",\n      camera_angle: \"dynamic following angles\",\n      camera_distance: \"medium tracking\",\n      motion_type: \"fluid athletic movement\"\n    },\n    customDetails: \"Fluid athletic pursuit with gravity-defying leaps, wall runs, and the pure athleticism of parkour movement\"\n  },\n\n  \"underwater-chase\": {\n    id: \"underwater-chase\",\n    name: \"Underwater Chase\",\n    description: \"Submerged pursuit through aquatic environment\",\n    category: \"chase\",\n    tags: [\"underwater\", \"swimming\", \"aquatic\", \"unique\"],\n    useCase: \"Unique action sequences, underwater scenes, aquatic adventures\",\n    fields: {\n      actions: \"underwater pursuit\",\n      scene: \"Breathless chase through underwater caves and coral reefs\",\n      dialogue: \"The current is too strong!\",\n      camera_angle: \"floating perspective\",\n      camera_distance: \"immersive medium shots\",\n      motion_type: \"fluid underwater movement\"\n    },\n    customDetails: \"Unique aquatic pursuit with bubbles, flowing water, and the weightless grace of underwater movement\"\n  },\n\n  \"motorcycle-escape\": {\n    id: \"motorcycle-escape\",\n    name: \"Motorcycle Escape\",\n    description: \"High-speed bike escape through narrow spaces\",\n    category: \"chase\",\n    tags: [\"motorcycle\", \"escape\", \"narrow-spaces\", \"speed\"],\n    useCase: \"Action sequences, escape scenes, motorcycle content\",\n    fields: {\n      actions: \"motorcycle escape\",\n      scene: \"Weaving through traffic on a powerful motorcycle\",\n      dialogue: \"They'll never catch us on this!\",\n      camera_angle: \"low road-level shots\",\n      camera_distance: \"close following\",\n      motion_type: \"high-speed weaving\"\n    },\n    customDetails: \"Thrilling motorcycle escape with engine roar, wind effects, and the freedom of two-wheeled speed\"\n  },\n\n  \"forest-pursuit\": {\n    id: \"forest-pursuit\",\n    name: \"Forest Pursuit\",\n    description: \"Chase through dense woodland and natural obstacles\",\n    category: \"chase\",\n    tags: [\"forest\", \"natural\", \"terrain\", \"obstacles\"],\n    useCase: \"Nature action, survival content, outdoor adventures\",\n    fields: {\n      actions: \"forest chase\",\n      scene: \"Desperate pursuit through dense trees and undergrowth\",\n      dialogue: \"Stay low and keep moving!\",\n      camera_angle: \"handheld through trees\",\n      camera_distance: \"intimate close shots\",\n      motion_type: \"erratic natural movement\"\n    },\n    customDetails: \"Intense woodland pursuit with branches snapping, leaves rustling, and the raw challenge of natural terrain\"\n  },\n\n  // DIALOGUE & CONVERSATION ACTIONS (5 presets)\n  \"heated-argument\": {\n    id: \"heated-argument\",\n    name: \"Heated Argument\",\n    description: \"Intense confrontational dialogue with rising tension\",\n    category: \"dialogue\",\n    tags: [\"argument\", \"confrontation\", \"tension\", \"drama\"],\n    useCase: \"Dramatic scenes, relationship content, conflict moments\",\n    fields: {\n      actions: \"arguing intensely\",\n      scene: \"Two people in heated debate with escalating emotions\",\n      dialogue: \"You never listen to what I'm actually saying!\",\n      camera_angle: \"alternating close-ups\",\n      camera_distance: \"intimate close shots\",\n      motion_type: \"tension-building static\"\n    },\n    customDetails: \"Emotionally charged confrontation with raised voices, dramatic gestures, and palpable tension\"\n  },\n\n  \"heartfelt-confession\": {\n    id: \"heartfelt-confession\",\n    name: \"Heartfelt Confession\",\n    description: \"Vulnerable emotional revelation between characters\",\n    category: \"dialogue\",\n    tags: [\"confession\", \"emotional\", \"vulnerable\", \"intimate\"],\n    useCase: \"Romantic content, emotional scenes, character development\",\n    fields: {\n      actions: \"confessing feelings\",\n      scene: \"Intimate moment of vulnerable truth-telling\",\n      dialogue: \"I've been wanting to tell you this for so long...\",\n      camera_angle: \"soft intimate angles\",\n      camera_distance: \"close emotional shots\",\n      motion_type: \"gentle subtle movement\"\n    },\n    customDetails: \"Tender emotional moment with soft lighting, genuine vulnerability, and the courage of honest confession\"\n  },\n\n  \"business-negotiation\": {\n    id: \"business-negotiation\",\n    name: \"Business Negotiation\",\n    description: \"Professional high-stakes business discussion\",\n    category: \"dialogue\",\n    tags: [\"business\", \"negotiation\", \"professional\", \"stakes\"],\n    useCase: \"Corporate content, professional scenes, business drama\",\n    fields: {\n      actions: \"negotiating deal\",\n      scene: \"High-stakes business meeting with contract discussion\",\n      dialogue: \"This deal could change everything for both our companies.\",\n      camera_angle: \"boardroom perspectives\",\n      camera_distance: \"professional medium shots\",\n      motion_type: \"calculated precise movements\"\n    },\n    customDetails: \"Professional business environment with suit-clad executives, contract papers, and calculated corporate strategy\"\n  },\n\n  \"family-reunion\": {\n    id: \"family-reunion\",\n    name: \"Family Reunion\",\n    description: \"Emotional family gathering with mixed feelings\",\n    category: \"dialogue\",\n    tags: [\"family\", \"reunion\", \"emotional\", \"gathering\"],\n    useCase: \"Family content, emotional scenes, holiday gatherings\",\n    fields: {\n      actions: \"family gathering\",\n      scene: \"Emotional family reunion with laughter and tears\",\n      dialogue: \"It's been too long since we were all together.\",\n      camera_angle: \"warm group shots\",\n      camera_distance: \"inclusive wide shots\",\n      motion_type: \"warm embracing movement\"\n    },\n    customDetails: \"Heartwarming family environment with shared memories, generational connections, and the comfort of belonging\"\n  },\n\n  \"secret-conspiracy\": {\n    id: \"secret-conspiracy\",\n    name: \"Secret Conspiracy\",\n    description: \"Hushed plotting and secretive planning dialogue\",\n    category: \"dialogue\",\n    tags: [\"conspiracy\", \"secret\", \"plotting\", \"whispers\"],\n    useCase: \"Thriller content, mystery scenes, secretive planning\",\n    fields: {\n      actions: \"whispering secrets\",\n      scene: \"Secretive meeting in shadowy location discussing plans\",\n      dialogue: \"If anyone finds out about this, we're all finished.\",\n      camera_angle: \"conspiratorial close-ups\",\n      camera_distance: \"intimate secretive shots\",\n      motion_type: \"careful cautious movement\"\n    },\n    customDetails: \"Mysterious secretive atmosphere with hushed voices, looking over shoulders, and the tension of hidden agendas\"\n  },\n\n  // FIGHT & COMBAT ACTIONS (4 presets)\n  \"martial-arts-duel\": {\n    id: \"martial-arts-duel\",\n    name: \"Martial Arts Duel\",\n    description: \"Choreographed combat between skilled fighters\",\n    category: \"combat\",\n    tags: [\"martial-arts\", \"choreographed\", \"skilled\", \"honor\"],\n    useCase: \"Action sequences, martial arts content, honor duels\",\n    fields: {\n      actions: \"martial arts fighting\",\n      scene: \"Elegant martial arts combat with flowing techniques\",\n      dialogue: \"Your technique is impressive, but not enough!\",\n      camera_angle: \"wide combat angles\",\n      camera_distance: \"full-body action shots\",\n      motion_type: \"fluid choreographed combat\"\n    },\n    customDetails: \"Graceful martial arts combat with flowing movements, disciplined technique, and the art of fighting\"\n  },\n\n  \"street-brawl\": {\n    id: \"street-brawl\",\n    name: \"Street Brawl\",\n    description: \"Raw unpolished fight in urban environment\",\n    category: \"combat\",\n    tags: [\"street-fight\", \"raw\", \"urban\", \"gritty\"],\n    useCase: \"Gritty action, urban content, realistic fighting\",\n    fields: {\n      actions: \"street fighting\",\n      scene: \"Brutal street fight with improvised weapons and raw aggression\",\n      dialogue: \"You picked the wrong person to mess with!\",\n      camera_angle: \"gritty handheld angles\",\n      camera_distance: \"intense close combat\",\n      motion_type: \"chaotic aggressive movement\"\n    },\n    customDetails: \"Raw street combat with improvised weapons, environmental hazards, and the brutal reality of fighting\"\n  },\n\n  \"lightsaber-duel\": {\n    id: \"lightsaber-duel\",\n    name: \"Lightsaber Duel\",\n    description: \"Epic sci-fi weapon combat with energy blades\",\n    category: \"combat\",\n    tags: [\"sci-fi\", \"lightsaber\", \"epic\", \"energy\"],\n    useCase: \"Sci-fi content, epic battles, futuristic combat\",\n    fields: {\n      actions: \"lightsaber combat\",\n      scene: \"Epic lightsaber duel with crackling energy blades\",\n      dialogue: \"The Force is strong with you, but not strong enough!\",\n      camera_angle: \"epic wide angles\",\n      camera_distance: \"dramatic full shots\",\n      motion_type: \"energy-charged combat\"\n    },\n    customDetails: \"Epic sci-fi combat with glowing energy weapons, Force powers, and the drama of galactic conflict\"\n  },\n\n  \"boxing-ring\": {\n    id: \"boxing-ring\",\n    name: \"Boxing Ring\",\n    description: \"Professional boxing match with crowd and rules\",\n    category: \"combat\",\n    tags: [\"boxing\", \"professional\", \"sport\", \"crowd\"],\n    useCase: \"Sports content, boxing matches, competitive fighting\",\n    fields: {\n      actions: \"boxing match\",\n      scene: \"Professional boxing ring with cheering crowd\",\n      dialogue: \"Stay focused! Keep your guard up!\",\n      camera_angle: \"ringside perspectives\",\n      camera_distance: \"sports broadcast shots\",\n      motion_type: \"athletic boxing movement\"\n    },\n    customDetails: \"Professional boxing environment with referee, crowd noise, and the controlled aggression of sport combat\"\n  },\n\n  // ROMANTIC & INTIMATE ACTIONS (4 presets)\n  \"first-kiss\": {\n    id: \"first-kiss\",\n    name: \"First Kiss\",\n    description: \"Tender romantic moment of first physical connection\",\n    category: \"romance\",\n    tags: [\"kiss\", \"romantic\", \"tender\", \"first-time\"],\n    useCase: \"Romantic content, relationship milestones, tender moments\",\n    fields: {\n      actions: \"sharing first kiss\",\n      scene: \"Tender moment of first romantic kiss under soft lighting\",\n      dialogue: \"I've been waiting for this moment...\",\n      camera_angle: \"intimate romantic angles\",\n      camera_distance: \"close romantic shots\",\n      motion_type: \"gentle tender movement\"\n    },\n    customDetails: \"Romantic atmosphere with soft lighting, gentle music, and the magic of first romantic connection\"\n  },\n\n  \"surprise-proposal\": {\n    id: \"surprise-proposal\",\n    name: \"Surprise Proposal\",\n    description: \"Life-changing marriage proposal moment\",\n    category: \"romance\",\n    tags: [\"proposal\", \"marriage\", \"surprise\", \"life-changing\"],\n    useCase: \"Romantic content, proposal videos, milestone moments\",\n    fields: {\n      actions: \"proposing marriage\",\n      scene: \"Surprise marriage proposal in romantic setting\",\n      dialogue: \"Will you marry me and make me the happiest person alive?\",\n      camera_angle: \"emotional proposal angles\",\n      camera_distance: \"intimate life-moment shots\",\n      motion_type: \"emotional revelation movement\"\n    },\n    customDetails: \"Life-changing proposal moment with ring reveal, emotional surprise, and the promise of forever\"\n  },\n\n  \"anniversary-dance\": {\n    id: \"anniversary-dance\",\n    name: \"Anniversary Dance\",\n    description: \"Celebrating relationship milestone with intimate dance\",\n    category: \"romance\",\n    tags: [\"anniversary\", \"dance\", \"celebration\", \"milestone\"],\n    useCase: \"Anniversary content, celebration videos, romantic dancing\",\n    fields: {\n      actions: \"slow dancing\",\n      scene: \"Intimate anniversary dance in romantic setting\",\n      dialogue: \"After all these years, you still take my breath away.\",\n      camera_angle: \"romantic dancing angles\",\n      camera_distance: \"intimate celebration shots\",\n      motion_type: \"graceful dancing movement\"\n    },\n    customDetails: \"Romantic anniversary celebration with slow dancing, shared memories, and the deepening of long-term love\"\n  },\n\n  \"wedding-vows\": {\n    id: \"wedding-vows\",\n    name: \"Wedding Vows\",\n    description: \"Emotional exchange of marriage vows\",\n    category: \"romance\",\n    tags: [\"wedding\", \"vows\", \"marriage\", \"ceremony\"],\n    useCase: \"Wedding content, ceremony videos, marriage moments\",\n    fields: {\n      actions: \"exchanging vows\",\n      scene: \"Emotional wedding ceremony with vow exchange\",\n      dialogue: \"I promise to love you in good times and bad, for all the days of my life.\",\n      camera_angle: \"ceremonial wedding angles\",\n      camera_distance: \"intimate ceremony shots\",\n      motion_type: \"ceremonial formal movement\"\n    },\n    customDetails: \"Sacred wedding ceremony with formal vows, emotional tears, and the beginning of married life\"\n  },\n\n  // POSES & GESTURES ACTIONS (12 presets)\n  \"confident-power-pose\": {\n    id: \"confident-power-pose\",\n    name: \"Confident Power Pose\",\n    description: \"Strong, authoritative stance with hands on hips\",\n    category: \"pose\",\n    tags: [\"pose\", \"confident\", \"power\", \"authority\", \"stance\"],\n    useCase: \"Leadership content, motivational videos, confidence building\",\n    fields: {\n      actions: \"power posing\",\n      scene: \"Standing in confident power pose with feet shoulder-width apart\",\n      dialogue: \"I've got this under control.\",\n      camera_angle: \"low angle to emphasize power\",\n      camera_distance: \"medium full shot\",\n      motion_type: \"static confident pose\"\n    },\n    customDetails: \"Superman-style pose with chest out, shoulders back, hands on hips, projecting confidence and authority\"\n  },\n\n  \"professional-handshake\": {\n    id: \"professional-handshake\",\n    name: \"Professional Handshake\",\n    description: \"Firm business handshake with direct eye contact\",\n    category: \"gesture\",\n    tags: [\"handshake\", \"business\", \"professional\", \"greeting\", \"gesture\"],\n    useCase: \"Business videos, networking content, professional introductions\",\n    fields: {\n      actions: \"shaking hands\",\n      scene: \"Professional handshake between two business people\",\n      dialogue: \"It's a pleasure to meet you.\",\n      camera_angle: \"medium close-up\",\n      camera_distance: \"medium shot\",\n      motion_type: \"confident handshake gesture\"\n    },\n    customDetails: \"Firm grip, direct eye contact, confident smile, professional business attire, networking energy\"\n  },\n\n  \"thinking-chin-stroke\": {\n    id: \"thinking-chin-stroke\",\n    name: \"Thinking Chin Stroke\",\n    description: \"Contemplative pose with hand stroking chin\",\n    category: \"pose\",\n    tags: [\"thinking\", \"contemplative\", \"chin\", \"gesture\", \"consideration\"],\n    useCase: \"Decision-making content, analytical videos, thoughtful moments\",\n    fields: {\n      actions: \"thinking deeply\",\n      scene: \"Person in thoughtful pose with hand stroking chin\",\n      dialogue: \"Let me think about this...\",\n      camera_angle: \"close-up on face and gesture\",\n      camera_distance: \"close-up shot\",\n      motion_type: \"slow thoughtful gesture\"\n    },\n    customDetails: \"Contemplative expression, hand gently stroking chin, furrowed brow, deep in thought, analytical pose\"\n  },\n\n  \"enthusiastic-thumbs-up\": {\n    id: \"enthusiastic-thumbs-up\",\n    name: \"Enthusiastic Thumbs Up\",\n    description: \"Positive gesture with big smile and thumbs up\",\n    category: \"gesture\",\n    tags: [\"thumbs-up\", \"positive\", \"enthusiastic\", \"approval\", \"gesture\"],\n    useCase: \"Positive content, approval videos, success celebrations\",\n    fields: {\n      actions: \"giving thumbs up\",\n      scene: \"Enthusiastic person giving double thumbs up with big smile\",\n      dialogue: \"That's exactly what we needed!\",\n      camera_angle: \"medium angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"energetic positive gesture\"\n    },\n    customDetails: \"Big genuine smile, both thumbs up, energetic body language, positive radiating energy, celebratory mood\"\n  },\n\n  \"crossed-arms-skeptical\": {\n    id: \"crossed-arms-skeptical\",\n    name: \"Crossed Arms Skeptical\",\n    description: \"Defensive pose with arms crossed and skeptical expression\",\n    category: \"pose\",\n    tags: [\"crossed-arms\", \"skeptical\", \"defensive\", \"doubt\", \"pose\"],\n    useCase: \"Disagreement scenes, skeptical content, defensive reactions\",\n    fields: {\n      actions: \"crossing arms defensively\",\n      scene: \"Person with arms crossed looking skeptical and defensive\",\n      dialogue: \"I'm not so sure about that.\",\n      camera_angle: \"straight-on angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"static defensive pose\"\n    },\n    customDetails: \"Arms tightly crossed, raised eyebrow, skeptical expression, defensive body language, closed-off posture\"\n  },\n\n  \"pointing-direction\": {\n    id: \"pointing-direction\",\n    name: \"Pointing Direction\",\n    description: \"Clear directional gesture pointing with extended arm\",\n    category: \"gesture\",\n    tags: [\"pointing\", \"direction\", \"guidance\", \"instruction\", \"gesture\"],\n    useCase: \"Instructional content, guidance videos, directional information\",\n    fields: {\n      actions: \"pointing direction\",\n      scene: \"Person clearly pointing in a specific direction with confident gesture\",\n      dialogue: \"The answer is right over there.\",\n      camera_angle: \"side angle to show gesture\",\n      camera_distance: \"medium wide shot\",\n      motion_type: \"clear directional gesture\"\n    },\n    customDetails: \"Extended arm pointing clearly, confident stance, direct gaze, instructional body language, guidance posture\"\n  },\n\n  \"open-palms-welcome\": {\n    id: \"open-palms-welcome\",\n    name: \"Open Palms Welcome\",\n    description: \"Welcoming gesture with open palms and arms spread\",\n    category: \"gesture\",\n    tags: [\"welcome\", \"open\", \"inviting\", \"palms\", \"gesture\"],\n    useCase: \"Welcome videos, hospitality content, inviting presentations\",\n    fields: {\n      actions: \"welcoming with open arms\",\n      scene: \"Person in welcoming pose with open palms and spread arms\",\n      dialogue: \"Welcome! We're so glad you're here.\",\n      camera_angle: \"medium angle\",\n      camera_distance: \"medium wide shot\",\n      motion_type: \"open welcoming gesture\"\n    },\n    customDetails: \"Arms spread wide, palms open and visible, warm smile, inviting posture, hospitality energy, inclusive gesture\"\n  },\n\n  \"shrug-uncertainty\": {\n    id: \"shrug-uncertainty\",\n    name: \"Shrug Uncertainty\",\n    description: \"Classic shoulder shrug gesture expressing uncertainty\",\n    category: \"gesture\",\n    tags: [\"shrug\", \"uncertainty\", \"confusion\", \"gesture\", \"unknown\"],\n    useCase: \"Confusion content, uncertainty moments, 'I don't know' reactions\",\n    fields: {\n      actions: \"shrugging shoulders\",\n      scene: \"Person doing classic shoulder shrug with palms up\",\n      dialogue: \"I honestly have no idea.\",\n      camera_angle: \"medium angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"shoulder shrug gesture\"\n    },\n    customDetails: \"Shoulders raised, palms turned up, confused expression, uncertainty body language, 'I don't know' energy\"\n  },\n\n  \"leaning-casual\": {\n    id: \"leaning-casual\",\n    name: \"Leaning Casual\",\n    description: \"Relaxed pose leaning against wall or surface\",\n    category: \"pose\",\n    tags: [\"leaning\", \"casual\", \"relaxed\", \"laid-back\", \"pose\"],\n    useCase: \"Casual content, relaxed presentations, laid-back interviews\",\n    fields: {\n      actions: \"leaning casually\",\n      scene: \"Person in relaxed pose leaning against wall with casual stance\",\n      dialogue: \"Yeah, that sounds about right.\",\n      camera_angle: \"slight side angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"relaxed leaning pose\"\n    },\n    customDetails: \"Leaning against surface, one foot crossed over other, relaxed shoulders, casual comfortable energy, laid-back vibe\"\n  },\n\n  \"facepalm-frustration\": {\n    id: \"facepalm-frustration\",\n    name: \"Facepalm Frustration\",\n    description: \"Hand covering face in frustration or disappointment\",\n    category: \"gesture\",\n    tags: [\"facepalm\", \"frustration\", \"disappointment\", \"gesture\", \"exasperation\"],\n    useCase: \"Frustration content, disappointment reactions, exasperation moments\",\n    fields: {\n      actions: \"facepalming\",\n      scene: \"Person with hand covering face in clear frustration gesture\",\n      dialogue: \"I can't believe this happened again.\",\n      camera_angle: \"close-up angle\",\n      camera_distance: \"close-up shot\",\n      motion_type: \"frustrated facepalm gesture\"\n    },\n    customDetails: \"Hand fully covering face, visible frustration, disappointed body language, exasperated energy, 'I give up' gesture\"\n  },\n\n  \"presentation-gesture\": {\n    id: \"presentation-gesture\",\n    name: \"Presentation Gesture\",\n    description: \"Professional presenting pose with open hand gesture\",\n    category: \"gesture\",\n    tags: [\"presentation\", \"professional\", \"speaking\", \"gesture\", \"explaining\"],\n    useCase: \"Presentation videos, educational content, professional speaking\",\n    fields: {\n      actions: \"presenting information\",\n      scene: \"Professional presenter with open hand gesture explaining content\",\n      dialogue: \"As you can see in this example...\",\n      camera_angle: \"medium angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"professional presentation gesture\"\n    },\n    customDetails: \"Open hand gesture, professional stance, engaging eye contact, explanation posture, educational energy\"\n  },\n\n  \"victory-celebration\": {\n    id: \"victory-celebration\",\n    name: \"Victory Celebration\",\n    description: \"Triumphant pose with arms raised in celebration\",\n    category: \"pose\",\n    tags: [\"victory\", \"celebration\", \"triumph\", \"success\", \"pose\"],\n    useCase: \"Success content, victory moments, achievement celebrations\",\n    fields: {\n      actions: \"celebrating victory\",\n      scene: \"Person with arms raised high in triumphant victory pose\",\n      dialogue: \"We did it! We actually did it!\",\n      camera_angle: \"low angle for drama\",\n      camera_distance: \"medium wide shot\",\n      motion_type: \"triumphant victory pose\"\n    },\n    customDetails: \"Both arms raised high, huge smile, triumphant energy, celebration posture, winner's stance, pure joy\"\n  },\n\n  // COMEDY & HUMOROUS ACTIONS (4 presets)\n  \"slapstick-mishap\": {\n    id: \"slapstick-mishap\",\n    name: \"Slapstick Mishap\",\n    description: \"Physical comedy with exaggerated reactions\",\n    category: \"comedy\",\n    tags: [\"slapstick\", \"physical\", \"mishap\", \"exaggerated\"],\n    useCase: \"Comedy content, physical humor, entertaining mishaps\",\n    fields: {\n      actions: \"physical comedy mishap\",\n      scene: \"Exaggerated physical comedy with pratfalls and mishaps\",\n      dialogue: \"This is not how I planned this to go!\",\n      camera_angle: \"comedy timing angles\",\n      camera_distance: \"full-body comedy shots\",\n      motion_type: \"exaggerated physical comedy\"\n    },\n    customDetails: \"Classic physical comedy with perfect timing, exaggerated reactions, and the universal humor of mishaps\"\n  },\n\n  \"awkward-encounter\": {\n    id: \"awkward-encounter\",\n    name: \"Awkward Encounter\",\n    description: \"Uncomfortable social situation with cringe humor\",\n    category: \"comedy\",\n    tags: [\"awkward\", \"social\", \"cringe\", \"uncomfortable\"],\n    useCase: \"Cringe comedy, social humor, awkward situations\",\n    fields: {\n      actions: \"awkward social interaction\",\n      scene: \"Painfully awkward social encounter with visible discomfort\",\n      dialogue: \"So... this is awkward... should I just...?\",\n      camera_angle: \"uncomfortable close-ups\",\n      camera_distance: \"cringe-inducing intimate shots\",\n      motion_type: \"uncomfortable fidgeting\"\n    },\n    customDetails: \"Cringe-worthy social situation with visible discomfort, awkward pauses, and relatable social anxiety\"\n  },\n\n  \"prank-gone-wrong\": {\n    id: \"prank-gone-wrong\",\n    name: \"Prank Gone Wrong\",\n    description: \"Harmless prank escalating into chaos\",\n    category: \"comedy\",\n    tags: [\"prank\", \"chaos\", \"escalation\", \"unintended\"],\n    useCase: \"Prank content, comedy chaos, unintended consequences\",\n    fields: {\n      actions: \"prank backfiring\",\n      scene: \"Simple prank escalating into complete chaos\",\n      dialogue: \"That was NOT supposed to happen!\",\n      camera_angle: \"chaos documentation angles\",\n      camera_distance: \"wide chaos-capturing shots\",\n      motion_type: \"escalating chaotic movement\"\n    },\n    customDetails: \"Comedy chaos with unintended consequences, escalating mayhem, and the humor of plans going sideways\"\n  },\n\n  \"dad-joke-delivery\": {\n    id: \"dad-joke-delivery\",  \n    name: \"Dad Joke Delivery\",\n    description: \"Perfectly timed dad joke with maximum cheese factor\",\n    category: \"comedy\",\n    tags: [\"dad-joke\", \"puns\", \"wholesome\", \"cheesy\"],\n    useCase: \"Family comedy, wholesome humor, pun-based content\",\n    fields: {\n      actions: \"delivering dad joke\",\n      scene: \"Perfectly timed dad joke delivery with maximum cheese\",\n      dialogue: \"Why don't scientists trust atoms? Because they make up everything!\",\n      camera_angle: \"dad-joke timing angles\",\n      camera_distance: \"reaction-capturing shots\",\n      motion_type: \"confident dad-joke gestures\"\n    },\n    customDetails: \"Wholesome dad humor with perfect timing, cheesy delivery, and the endearing confidence of paternal comedy\"\n  },\n\n  // EXPRESSIONS & REACTIONS (12 presets) - Facial & Emotional 🎭\n  \"laughing-eyes-closed\": {\n    id: \"laughing-eyes-closed\",\n    name: \"Laughing Eyes Closed\",\n    description: \"Uncontrollable laughter with eyes squeezed shut in pure joy\",\n    category: \"expression\",\n    tags: [\"laughter\", \"joy\", \"happiness\", \"infectious\"],\n    useCase: \"Comedy content, joyful moments, infectious laughter, happy scenes\",\n    fields: {\n      actions: \"laughing uncontrollably\",\n      scene: \"Person doubled over with laughter, eyes squeezed shut in pure joy\",\n      dialogue: \"I can't stop laughing! This is too funny!\",\n      camera_angle: \"close-up on joyful expression\",\n      camera_distance: \"medium close shot\",\n      motion_type: \"shaking with laughter\"\n    },\n    customDetails: \"Eyes squeezed completely shut, huge genuine smile, shoulders shaking, tears of laughter, completely overcome with joy\"\n  },\n\n  \"shocked-hands-on-cheeks\": {\n    id: \"shocked-hands-on-cheeks\",\n    name: \"Shocked Hands on Cheeks\",\n    description: \"Classic home alone shock pose with hands covering cheeks\",\n    category: \"expression\",\n    tags: [\"shock\", \"surprise\", \"disbelief\", \"iconic\"],\n    useCase: \"Surprise reveals, shocking news, disbelief moments, dramatic reactions\",\n    fields: {\n      actions: \"expressing shock\",\n      scene: \"Person with hands pressed to cheeks in complete surprise\",\n      dialogue: \"I can't believe this is happening!\",\n      camera_angle: \"front-facing dramatic angle\",\n      camera_distance: \"medium shot\",\n      motion_type: \"frozen in shock\"\n    },\n    customDetails: \"Both hands pressed to cheeks, mouth wide open, eyes huge with surprise, classic shocked expression\"\n  },\n\n  \"angry-fist-raised\": {\n    id: \"angry-fist-raised\",\n    name: \"Angry Fist Raised\",\n    description: \"Defiant anger with fist raised in righteous indignation\",\n    category: \"expression\",\n    tags: [\"anger\", \"defiance\", \"protest\", \"righteous\"],\n    useCase: \"Protest content, anger scenes, defiant moments, righteous indignation\",\n    fields: {\n      actions: \"raising fist in anger\",\n      scene: \"Person with fist raised high in defiant anger\",\n      dialogue: \"This is completely unacceptable!\",\n      camera_angle: \"low angle for dramatic effect\",\n      camera_distance: \"medium shot\",\n      motion_type: \"powerful fist gesture\"\n    },\n    customDetails: \"Fist raised high, face red with anger, jaw clenched, defiant posture, righteous indignation energy\"\n  },\n\n  \"sad-tear-rolling\": {\n    id: \"sad-tear-rolling\",\n    name: \"Sad Tear Rolling\",\n    description: \"Single tear rolling down cheek in quiet sadness\",\n    category: \"expression\",\n    tags: [\"sadness\", \"emotion\", \"tear\", \"melancholy\"],\n    useCase: \"Emotional content, sad moments, touching scenes, heartbreak\",\n    fields: {\n      actions: \"crying quietly\",\n      scene: \"Person with a single tear slowly rolling down their cheek\",\n      dialogue: \"I never thought it would end like this...\",\n      camera_angle: \"close-up on emotional expression\",\n      camera_distance: \"tight close-up\",\n      motion_type: \"barely contained emotion\"\n    },\n    customDetails: \"Single perfect tear, trembling lip, trying to hold back emotion, quiet sadness, heartbreaking expression\"\n  },\n\n  \"smiling-warmly\": {\n    id: \"smiling-warmly\", \n    name: \"Smiling Warmly\",\n    description: \"Genuine warm smile that reaches the eyes with kindness\",\n    category: \"expression\",\n    tags: [\"happiness\", \"warmth\", \"kindness\", \"genuine\"],\n    useCase: \"Friendly content, welcoming scenes, kind interactions, positive emotions\",\n    fields: {\n      actions: \"smiling warmly\",\n      scene: \"Person with genuine warm smile radiating kindness\",\n      dialogue: \"It's so wonderful to see you!\",\n      camera_angle: \"friendly straight-on angle\",\n      camera_distance: \"medium close shot\",\n      motion_type: \"gentle warm expression\"\n    },\n    customDetails: \"Eyes crinkled with genuine smile, warm expression, radiating kindness, approachable energy\"\n  },\n\n  \"rolling-eyes-annoyance\": {\n    id: \"rolling-eyes-annoyance\",\n    name: \"Rolling Eyes Annoyance\",\n    description: \"Exaggerated eye roll expressing complete annoyance\",\n    category: \"expression\",\n    tags: [\"annoyance\", \"exasperation\", \"eye-roll\", \"sarcastic\"],\n    useCase: \"Sarcastic content, annoyed reactions, exasperation moments, attitude\",\n    fields: {\n      actions: \"rolling eyes dramatically\",\n      scene: \"Person doing exaggerated eye roll with annoyed expression\",\n      dialogue: \"Oh, here we go again...\",\n      camera_angle: \"slight angle to catch eye roll\",\n      camera_distance: \"close-up shot\",\n      motion_type: \"dramatic eye movement\"\n    },\n    customDetails: \"Eyes rolled back dramatically, annoyed expression, slight head tilt, exasperated energy\"\n  },\n\n  \"confused-scratching-head\": {\n    id: \"confused-scratching-head\",\n    name: \"Confused Scratching Head\", \n    description: \"Puzzled expression while scratching head in confusion\",\n    category: \"expression\",\n    tags: [\"confusion\", \"puzzled\", \"thinking\", \"perplexed\"],\n    useCase: \"Confusion scenes, puzzle content, thinking moments, perplexed reactions\",\n    fields: {\n      actions: \"scratching head in confusion\",\n      scene: \"Person scratching head with puzzled, confused expression\",\n      dialogue: \"I have absolutely no idea what's going on...\",\n      camera_angle: \"side angle to show gesture\",\n      camera_distance: \"medium shot\",\n      motion_type: \"confused head scratching\"\n    },\n    customDetails: \"Hand scratching head, furrowed brow, puzzled expression, completely perplexed, thinking hard\"\n  },\n\n  \"disgusted-nose-wrinkle\": {\n    id: \"disgusted-nose-wrinkle\",\n    name: \"Disgusted Nose Wrinkle\",\n    description: \"Face scrunched in disgust with wrinkled nose\",\n    category: \"expression\", \n    tags: [\"disgust\", \"revulsion\", \"grossed-out\", \"repulsed\"],\n    useCase: \"Disgust reactions, gross content, repulsed moments, negative reactions\",\n    fields: {\n      actions: \"expressing disgust\",\n      scene: \"Person with face scrunched up in complete disgust\",\n      dialogue: \"That is absolutely disgusting!\",\n      camera_angle: \"close-up on disgusted expression\",\n      camera_distance: \"close-up shot\",\n      motion_type: \"recoiling in disgust\"\n    },\n    customDetails: \"Nose wrinkled up, face scrunched, mouth turned down, pulling back from something gross\"\n  },\n\n  \"nervous-biting-lip\": {\n    id: \"nervous-biting-lip\",\n    name: \"Nervous Biting Lip\",\n    description: \"Anxious expression while nervously biting lower lip\",\n    category: \"expression\",\n    tags: [\"nervousness\", \"anxiety\", \"worried\", \"apprehensive\"],\n    useCase: \"Nervous content, anxiety scenes, worried moments, apprehensive situations\",\n    fields: {\n      actions: \"biting lip nervously\",\n      scene: \"Person nervously biting lower lip with anxious expression\",\n      dialogue: \"I'm really not sure about this...\",\n      camera_angle: \"close-up on nervous expression\",\n      camera_distance: \"tight close-up\",\n      motion_type: \"nervous fidgeting\"\n    },\n    customDetails: \"Teeth gently biting lower lip, worried eyes, tense expression, nervous energy, apprehensive\"\n  },\n\n  \"surprised-gasp\": {\n    id: \"surprised-gasp\",\n    name: \"Surprised Gasp\",\n    description: \"Sudden gasp of surprise with wide eyes and open mouth\",\n    category: \"expression\",\n    tags: [\"surprise\", \"shock\", \"gasp\", \"unexpected\"],\n    useCase: \"Surprise moments, unexpected reveals, shock content, dramatic reactions\",\n    fields: {\n      actions: \"gasping in surprise\",\n      scene: \"Person gasping with wide eyes and mouth open in surprise\",\n      dialogue: \"*GASP* I never saw that coming!\",\n      camera_angle: \"front-facing dramatic angle\",\n      camera_distance: \"medium close shot\",\n      motion_type: \"sudden surprised intake\"\n    },\n    customDetails: \"Mouth open in gasp, eyes wide with surprise, hand possibly to chest, sudden realization\"\n  },\n\n  \"proud-smirk\": {\n    id: \"proud-smirk\",\n    name: \"Proud Smirk\",\n    description: \"Self-satisfied smirk showing pride in accomplishment\",\n    category: \"expression\",\n    tags: [\"pride\", \"satisfaction\", \"smug\", \"accomplished\"],\n    useCase: \"Achievement content, proud moments, satisfaction scenes, accomplished feelings\",\n    fields: {\n      actions: \"smirking proudly\",\n      scene: \"Person with self-satisfied smirk showing pride in achievement\",\n      dialogue: \"I knew I could do it all along.\",\n      camera_angle: \"slight angle for attitude\",\n      camera_distance: \"medium close shot\",\n      motion_type: \"confident proud stance\"\n    },\n    customDetails: \"One corner of mouth raised, confident eyes, chest out slightly, self-satisfied energy\"\n  },\n\n  \"excited-jumping\": {\n    id: \"excited-jumping\",\n    name: \"Excited Jumping in Place\",\n    description: \"Bouncing with excitement and pure enthusiasm\",\n    category: \"expression\",\n    tags: [\"excitement\", \"enthusiasm\", \"energetic\", \"thrilled\"],\n    useCase: \"Excitement content, enthusiastic moments, celebration scenes, high energy\",\n    fields: {\n      actions: \"jumping with excitement\",\n      scene: \"Person bouncing up and down with pure excitement\",\n      dialogue: \"This is the best news ever!\",\n      camera_angle: \"medium angle to capture movement\",\n      camera_distance: \"full body shot\",\n      motion_type: \"bouncing with excitement\"\n    },\n    customDetails: \"Jumping up and down, huge smile, arms possibly raised, pure enthusiasm, infectious energy\"\n  },\n\n  // DYNAMIC & MOVEMENT (12 presets) - Active Motion 🎮\n  \"running-through-street\": {\n    id: \"running-through-street\",\n    name: \"Running Through Street\",\n    description: \"Fast-paced running through busy urban street\",\n    category: \"movement\",\n    tags: [\"running\", \"urban\", \"fast-paced\", \"street\"],\n    useCase: \"Action content, chase scenes, urban running, fast movement\",\n    fields: {\n      actions: \"running at full speed\",\n      scene: \"Person sprinting through busy city street with determination\",\n      dialogue: \"I have to get there before it's too late!\",\n      camera_angle: \"tracking shot following runner\",\n      camera_distance: \"medium tracking shot\",\n      motion_type: \"fast urban running\"\n    },\n    customDetails: \"Arms pumping, focused expression, weaving through pedestrians, urgent pace, city backdrop\"\n  },\n\n  \"jumping-across-gap\": {\n    id: \"jumping-across-gap\",\n    name: \"Jumping Across Gap\",\n    description: \"Dramatic leap across dangerous gap or chasm\",\n    category: \"movement\",\n    tags: [\"jumping\", \"leap\", \"dangerous\", \"dramatic\"],\n    useCase: \"Action sequences, dramatic leaps, adventure content, danger scenes\",\n    fields: {\n      actions: \"leaping across gap\",\n      scene: \"Person making dramatic jump across dangerous gap\",\n      dialogue: \"Here goes nothing!\",\n      camera_angle: \"side angle capturing full leap\",\n      camera_distance: \"wide shot showing gap\",\n      motion_type: \"dramatic leap\"\n    },\n    customDetails: \"Mid-air leap, arms extended for balance, focused determination, gap visible below\"\n  },\n\n  \"dancing-energetically\": {\n    id: \"dancing-energetically\",\n    name: \"Dancing Energetically\",\n    description: \"High-energy dancing with rhythm and joy\",\n    category: \"movement\",\n    tags: [\"dancing\", \"energetic\", \"rhythm\", \"celebration\"],\n    useCase: \"Dance content, celebration scenes, energetic moments, joyful movement\",\n    fields: {\n      actions: \"dancing with energy\",\n      scene: \"Person dancing with infectious energy and rhythm\",\n      dialogue: \"I can't help but move to this beat!\",\n      camera_angle: \"dynamic angles capturing movement\",\n      camera_distance: \"medium shot showing dance\",\n      motion_type: \"rhythmic energetic dancing\"\n    },\n    customDetails: \"Arms and body moving to rhythm, joyful expression, energetic movement, infectious enthusiasm\"\n  },\n\n  \"diving-into-water\": {\n    id: \"diving-into-water\",\n    name: \"Diving Into Water\",\n    description: \"Graceful dive into crystal clear water\",\n    category: \"movement\",\n    tags: [\"diving\", \"water\", \"graceful\", \"athletic\"],\n    useCase: \"Swimming content, athletic scenes, graceful movement, water activities\",\n    fields: {\n      actions: \"diving into water\",\n      scene: \"Person executing perfect dive into clear blue water\",\n      dialogue: \"The water looks perfect!\",\n      camera_angle: \"side angle capturing dive form\",\n      camera_distance: \"wide shot showing full dive\",\n      motion_type: \"graceful diving motion\"\n    },\n    customDetails: \"Perfect diving form, arms extended, graceful entry, water splash, athletic precision\"\n  },\n\n  \"spinning-in-chair\": {\n    id: \"spinning-in-chair\",\n    name: \"Spinning in Chair\",\n    description: \"Playful spinning in office chair with arms out\",\n    category: \"movement\",\n    tags: [\"spinning\", \"playful\", \"office\", \"carefree\"],\n    useCase: \"Office humor, playful content, carefree moments, workplace fun\",\n    fields: {\n      actions: \"spinning in chair\",\n      scene: \"Person spinning around in office chair with arms outstretched\",\n      dialogue: \"Sometimes you just need to let loose!\",\n      camera_angle: \"overhead shot capturing spin\",\n      camera_distance: \"medium shot\",\n      motion_type: \"playful spinning motion\"\n    },\n    customDetails: \"Arms outstretched, head tilted back, carefree expression, office chair spinning, playful energy\"\n  },\n\n  \"sliding-into-base\": {\n    id: \"sliding-into-base\",\n    name: \"Sliding Into Base\",\n    description: \"Athletic slide into home plate or base\",\n    category: \"movement\",\n    tags: [\"sliding\", \"sports\", \"athletic\", \"baseball\"],\n    useCase: \"Sports content, athletic achievement, competitive scenes, baseball action\",\n    fields: {\n      actions: \"sliding into base\",\n      scene: \"Athlete making dramatic slide into home plate\",\n      dialogue: \"Safe!\",\n      camera_angle: \"ground level capturing slide\",\n      camera_distance: \"close action shot\",\n      motion_type: \"athletic sliding motion\"\n    },\n    customDetails: \"Legs extended in slide, dust kicking up, determined expression, athletic uniform, competitive energy\"\n  },\n\n  \"dodging-incoming-object\": {\n    id: \"dodging-incoming-object\",\n    name: \"Dodging Incoming Object\",\n    description: \"Quick defensive dodge to avoid incoming projectile\",\n    category: \"movement\",\n    tags: [\"dodging\", \"defensive\", \"quick\", \"reflex\"],\n    useCase: \"Action scenes, quick reflexes, defensive movement, danger avoidance\",\n    fields: {\n      actions: \"dodging quickly\",\n      scene: \"Person making quick dodge to avoid incoming object\",\n      dialogue: \"Whoa, that was close!\",\n      camera_angle: \"action angle capturing dodge\",\n      camera_distance: \"medium action shot\",\n      motion_type: \"quick evasive movement\"\n    },\n    customDetails: \"Body twisted in dodge, quick reflexes, focused concentration, defensive posture, near miss\"\n  },\n\n  \"leaping-off-rooftop\": {\n    id: \"leaping-off-rooftop\",\n    name: \"Leaping Off Rooftop\",\n    description: \"Dramatic leap from rooftop with urban backdrop\",\n    category: \"movement\",\n    tags: [\"leaping\", \"rooftop\", \"dramatic\", \"urban\"],\n    useCase: \"Action sequences, dramatic escapes, urban parkour, dramatic leaps\",\n    fields: {\n      actions: \"leaping from rooftop\",\n      scene: \"Person making dramatic leap from building rooftop\",\n      dialogue: \"This is the only way out!\",\n      camera_angle: \"cinematic angle showing height\",\n      camera_distance: \"wide shot showing scale\",\n      motion_type: \"dramatic rooftop leap\"\n    },\n    customDetails: \"Arms spread for balance, city backdrop below, determined expression, dramatic height, urban setting\"\n  },\n\n  \"sprinting-while-carrying\": {\n    id: \"sprinting-while-carrying\",\n    name: \"Sprinting While Carrying\",\n    description: \"Running at full speed while carrying important object\",\n    category: \"movement\",\n    tags: [\"sprinting\", \"carrying\", \"urgent\", \"important\"],\n    useCase: \"Action content, urgent delivery, rescue scenes, important missions\",\n    fields: {\n      actions: \"sprinting with object\",\n      scene: \"Person running at full speed while carefully carrying something important\",\n      dialogue: \"I have to get this there safely!\",\n      camera_angle: \"tracking shot following runner\",\n      camera_distance: \"medium tracking shot\",\n      motion_type: \"urgent carrying sprint\"\n    },\n    customDetails: \"One arm protecting carried object, focused expression, urgent pace, careful balance while running\"\n  },\n\n  \"swinging-on-rope\": {\n    id: \"swinging-on-rope\",\n    name: \"Swinging on Rope\",\n    description: \"Adventure-style rope swinging across gap or obstacle\",\n    category: \"movement\",\n    tags: [\"swinging\", \"rope\", \"adventure\", \"crossing\"],\n    useCase: \"Adventure content, jungle scenes, obstacle crossing, action sequences\",\n    fields: {\n      actions: \"swinging on rope\",\n      scene: \"Person swinging across gap on sturdy rope\",\n      dialogue: \"Just like in the movies!\",\n      camera_angle: \"wide angle showing full swing\",\n      camera_distance: \"wide shot capturing arc\",\n      motion_type: \"swinging arc motion\"\n    },\n    customDetails: \"Gripping rope tightly, body arced in swing, adventure setting, gap or obstacle below\"\n  },\n\n  \"skating-skateboarding\": {\n    id: \"skating-skateboarding\",\n    name: \"Skating/Skateboarding\",\n    description: \"Smooth skateboarding with balance and style\",\n    category: \"movement\",\n    tags: [\"skating\", \"skateboarding\", \"balance\", \"style\"],\n    useCase: \"Skateboard content, youth culture, balance sports, street culture\",\n    fields: {\n      actions: \"skateboarding smoothly\",\n      scene: \"Person skateboarding with perfect balance and style\",\n      dialogue: \"This is pure freedom!\",\n      camera_angle: \"low angle following skater\",\n      camera_distance: \"medium tracking shot\",\n      motion_type: \"smooth skateboard gliding\"\n    },\n    customDetails: \"Perfect balance on board, arms out for stability, confident expression, street setting, smooth motion\"\n  },\n\n  \"flipping-table-dramatically\": {\n    id: \"flipping-table-dramatically\",\n    name: \"Flipping Table Dramatically\",\n    description: \"Dramatic table flip in moment of extreme frustration\",\n    category: \"movement\",\n    tags: [\"dramatic\", \"table-flip\", \"frustration\", \"explosive\"],\n    useCase: \"Dramatic content, extreme frustration, explosive moments, meme references\",\n    fields: {\n      actions: \"flipping table dramatically\",\n      scene: \"Person flipping table in moment of extreme frustration\",\n      dialogue: \"That's it! I'm done with this!\",\n      camera_angle: \"wide angle capturing full drama\",\n      camera_distance: \"wide shot showing action\",\n      motion_type: \"explosive table flip\"\n    },\n    customDetails: \"Table flying through air, items scattering, explosive frustration, dramatic gesture, chaos moment\"\n  },\n\n  // THINKING & CREATING (12 presets) - Mental & Creative Actions 🧠\n  \"writing-in-notebook\": {\n    id: \"writing-in-notebook\",\n    name: \"Writing in Notebook\",\n    description: \"Thoughtful writing in journal or notebook with focused concentration\",\n    category: \"creating\",\n    tags: [\"writing\", \"notebook\", \"thoughtful\", \"creative\"],\n    useCase: \"Writing content, creative process, journaling, thoughtful moments\",\n    fields: {\n      actions: \"writing thoughtfully\",\n      scene: \"Person writing in notebook with focused concentration\",\n      dialogue: \"I need to capture this thought before I lose it.\",\n      camera_angle: \"over shoulder showing writing\",\n      camera_distance: \"close-up on writing action\",\n      motion_type: \"deliberate writing motions\"\n    },\n    customDetails: \"Pen moving across paper, concentrated expression, notebook open, creative energy, thoughtful posture\"\n  },\n\n  \"painting-on-easel\": {\n    id: \"painting-on-easel\",\n    name: \"Painting on Easel\",\n    description: \"Artist painting on canvas with brush and palette\",\n    category: \"creating\",\n    tags: [\"painting\", \"art\", \"creative\", \"artistic\"],\n    useCase: \"Art content, creative process, artistic expression, painting tutorials\",\n    fields: {\n      actions: \"painting on canvas\",\n      scene: \"Artist painting on easel with brush and palette in hand\",\n      dialogue: \"The colors are coming together perfectly.\",\n      camera_angle: \"side angle showing canvas and artist\",\n      camera_distance: \"medium shot showing setup\",\n      motion_type: \"deliberate brush strokes\"\n    },\n    customDetails: \"Brush in hand, palette with mixed colors, canvas on easel, focused artistic expression, creative flow\"\n  },\n\n  \"brainstorming-sticky-notes\": {\n    id: \"brainstorming-sticky-notes\",\n    name: \"Brainstorming with Sticky Notes\",\n    description: \"Creative brainstorming session with colorful sticky notes everywhere\",\n    category: \"thinking\",\n    tags: [\"brainstorming\", \"creative\", \"planning\", \"organized\"],\n    useCase: \"Creative planning, brainstorming content, idea generation, organization\",\n    fields: {\n      actions: \"organizing ideas\",\n      scene: \"Person surrounded by colorful sticky notes in brainstorming session\",\n      dialogue: \"I think I'm onto something here!\",\n      camera_angle: \"wide angle showing note chaos\",\n      camera_distance: \"medium shot showing workspace\",\n      motion_type: \"animated idea organization\"\n    },\n    customDetails: \"Sticky notes covering walls/surfaces, different colors for categories, mind mapping, creative chaos\"\n  },\n\n  \"programming-at-computer\": {\n    id: \"programming-at-computer\",\n    name: \"Programming at Computer\",\n    description: \"Focused coding session with multiple monitors and keyboard\",\n    category: \"creating\",\n    tags: [\"programming\", \"coding\", \"technology\", \"focused\"],\n    useCase: \"Tech content, programming tutorials, developer life, coding process\",\n    fields: {\n      actions: \"coding intensely\",\n      scene: \"Programmer focused on multiple screens writing code\",\n      dialogue: \"Just need to fix this one bug...\",\n      camera_angle: \"over shoulder showing screens\",\n      camera_distance: \"medium shot showing setup\",\n      motion_type: \"rapid typing and thinking\"\n    },\n    customDetails: \"Multiple monitors with code, keyboard clicking, energy drinks nearby, focused concentration, tech setup\"\n  },\n\n  \"cooking-tasting-dish\": {\n    id: \"cooking-tasting-dish\",\n    name: \"Cooking and Tasting Dish\",\n    description: \"Chef cooking and tasting food to perfect the flavor\",\n    category: \"creating\",\n    tags: [\"cooking\", \"tasting\", \"culinary\", \"creative\"],\n    useCase: \"Cooking content, culinary arts, food preparation, chef skills\",\n    fields: {\n      actions: \"cooking and tasting\",\n      scene: \"Chef cooking while tasting and adjusting seasoning\",\n      dialogue: \"It needs just a pinch more salt.\",\n      camera_angle: \"close-up on cooking action\",\n      camera_distance: \"medium shot showing kitchen\",\n      motion_type: \"culinary preparation motions\"\n    },\n    customDetails: \"Tasting spoon, ingredients around, chef's concentration, steam rising, culinary creativity\"\n  },\n\n  \"playing-musical-instrument\": {\n    id: \"playing-musical-instrument\",\n    name: \"Playing Musical Instrument\",\n    description: \"Musician lost in the music while playing instrument\",\n    category: \"creating\",\n    tags: [\"music\", \"instrument\", \"creative\", \"passionate\"],\n    useCase: \"Music content, artistic expression, musical performance, creative passion\",\n    fields: {\n      actions: \"playing music\",\n      scene: \"Musician playing instrument with passionate expression\",\n      dialogue: \"Music is the language of the soul.\",\n      camera_angle: \"artistic angle capturing emotion\",\n      camera_distance: \"medium shot showing instrument\",\n      motion_type: \"rhythmic musical movement\"\n    },\n    customDetails: \"Instrument in hands, eyes closed in concentration, musical passion, body moving with rhythm\"\n  },\n\n  \"sculpting-clay-wheel\": {\n    id: \"sculpting-clay-wheel\",\n    name: \"Sculpting Clay on Wheel\",\n    description: \"Potter shaping clay on spinning wheel with focused hands\",\n    category: \"creating\",\n    tags: [\"sculpting\", \"pottery\", \"clay\", \"handcraft\"],\n    useCase: \"Craft content, pottery tutorials, handmade creation, artistic process\",\n    fields: {\n      actions: \"shaping clay\",\n      scene: \"Potter working clay on spinning wheel with wet hands\",\n      dialogue: \"The clay tells me what it wants to become.\",\n      camera_angle: \"close-up on hands and clay\",\n      camera_distance: \"medium shot showing wheel\",\n      motion_type: \"gentle shaping motions\"\n    },\n    customDetails: \"Wet clay spinning, hands covered in clay, pottery wheel, focused concentration, artistic creation\"\n  },\n\n  \"designing-clothes-mannequin\": {\n    id: \"designing-clothes-mannequin\",\n    name: \"Designing Clothes on Mannequin\",\n    description: \"Fashion designer draping and pinning fabric on dress form\",\n    category: \"creating\",\n    tags: [\"fashion\", \"design\", \"creative\", \"clothing\"],\n    useCase: \"Fashion content, design process, creative industry, clothing creation\",\n    fields: {\n      actions: \"designing clothing\",\n      scene: \"Fashion designer working with fabric on dress form\",\n      dialogue: \"This silhouette is going to be perfect.\",\n      camera_angle: \"side angle showing design process\",\n      camera_distance: \"medium shot showing workspace\",\n      motion_type: \"precise draping and pinning\"\n    },\n    customDetails: \"Fabric draped on mannequin, pins in mouth, measuring tape around neck, creative fashion energy\"\n  },\n\n  \"planning-map-on-table\": {\n    id: \"planning-map-on-table\",\n    name: \"Planning Map on Table\",\n    description: \"Strategic planning session with maps and route marking\",\n    category: \"thinking\",\n    tags: [\"planning\", \"strategy\", \"maps\", \"preparation\"],\n    useCase: \"Travel content, adventure planning, strategic thinking, preparation\",\n    fields: {\n      actions: \"planning route\",\n      scene: \"Person studying maps and marking routes for upcoming journey\",\n      dialogue: \"If we take this route, we can avoid the traffic.\",\n      camera_angle: \"overhead shot of map planning\",\n      camera_distance: \"medium shot showing table\",\n      motion_type: \"deliberate route marking\"\n    },\n    customDetails: \"Maps spread out, markers and pins, routes highlighted, strategic thinking, planning materials\"\n  },\n\n  \"composing-music-headphones\": {\n    id: \"composing-music-headphones\",\n    name: \"Composing Music with Headphones\",\n    description: \"Music producer creating beats and melodies with headphones on\",\n    category: \"creating\",\n    tags: [\"music\", \"composing\", \"production\", \"creative\"],\n    useCase: \"Music production, creative process, beat making, audio content\",\n    fields: {\n      actions: \"composing music\",\n      scene: \"Music producer with headphones on creating beats on computer\",\n      dialogue: \"This melody is going to be incredible.\",\n      camera_angle: \"side angle showing equipment\",\n      camera_distance: \"medium shot showing studio\",\n      motion_type: \"rhythmic head nodding to beat\"\n    },\n    customDetails: \"Large headphones, audio equipment, computer with music software, nodding to rhythm, creative flow\"\n  },\n\n  \"repairing-mechanical-device\": {\n    id: \"repairing-mechanical-device\",\n    name: \"Repairing Mechanical Device\",\n    description: \"Focused repair work on complex mechanical device with tools\",\n    category: \"creating\",\n    tags: [\"repair\", \"mechanical\", \"tools\", \"problem-solving\"],\n    useCase: \"Repair content, problem-solving, mechanical work, technical skills\",\n    fields: {\n      actions: \"repairing device\",\n      scene: \"Person focused on repairing complex mechanical device with tools\",\n      dialogue: \"I think I found the problem.\",\n      camera_angle: \"close-up on repair work\",\n      camera_distance: \"medium shot showing workspace\",\n      motion_type: \"precise tool manipulation\"\n    },\n    customDetails: \"Various tools spread around, device partially disassembled, focused concentration, problem-solving\"\n  },\n\n  \"meditating-quietly\": {\n    id: \"meditating-quietly\",\n    name: \"Meditating Quietly\",\n    description: \"Peaceful meditation in serene environment with inner focus\",\n    category: \"thinking\",\n    tags: [\"meditation\", \"peaceful\", \"mindfulness\", \"inner-focus\"],\n    useCase: \"Wellness content, meditation guides, mindfulness, peaceful moments\",\n    fields: {\n      actions: \"meditating peacefully\",\n      scene: \"Person sitting in peaceful meditation with eyes closed\",\n      dialogue: \"In this stillness, I find clarity.\",\n      camera_angle: \"serene front angle\",\n      camera_distance: \"medium shot showing posture\",\n      motion_type: \"still and centered\"\n    },\n    customDetails: \"Cross-legged position, peaceful expression, hands in mudra position, serene environment, inner calm\"\n  },\n\n  // CONFLICT & IMPACT (12 presets) - High-Impact Actions 💥\n  \"throwing-punch\": {\n    id: \"throwing-punch\",\n    name: \"Throwing a Punch\",\n    description: \"Powerful punch being thrown in combat situation\",\n    category: \"conflict\",\n    tags: [\"punch\", \"fighting\", \"combat\", \"aggressive\"],\n    useCase: \"Action sequences, fight scenes, combat training, self-defense\",\n    fields: {\n      actions: \"throwing powerful punch\",\n      scene: \"Fighter throwing devastating punch in combat\",\n      dialogue: \"This ends now!\",\n      camera_angle: \"dynamic action angle\",\n      camera_distance: \"medium action shot\",\n      motion_type: \"explosive punching motion\"\n    },\n    customDetails: \"Fist extended in punch, focused aggressive expression, combat stance, power behind motion, action moment\"\n  },\n\n  \"blocking-attack-with-shield\": {\n    id: \"blocking-attack-with-shield\",\n    name: \"Blocking Attack with Shield\",\n    description: \"Defensive shield block against incoming attack\",\n    category: \"conflict\",\n    tags: [\"blocking\", \"shield\", \"defense\", \"protection\"],\n    useCase: \"Action content, defensive combat, protection scenes, medieval combat\",\n    fields: {\n      actions: \"blocking with shield\",\n      scene: \"Warrior raising shield to block incoming attack\",\n      dialogue: \"Not today!\",\n      camera_angle: \"action angle showing block\",\n      camera_distance: \"medium combat shot\",\n      motion_type: \"defensive blocking motion\"\n    },\n    customDetails: \"Shield raised defensively, determined expression, braced stance, incoming attack being blocked\"\n  },\n\n  \"shattering-glass\": {\n    id: \"shattering-glass\",\n    name: \"Shattering Glass\",\n    description: \"Dramatic moment of glass breaking into pieces\",\n    category: \"impact\",\n    tags: [\"glass\", \"shattering\", \"breaking\", \"dramatic\"],\n    useCase: \"Dramatic moments, destruction scenes, impact effects, breaking barriers\",\n    fields: {\n      actions: \"shattering glass\",\n      scene: \"Glass exploding into shards in dramatic slow motion\",\n      dialogue: \"Sometimes you have to break things to move forward.\",\n      camera_angle: \"dramatic angle capturing shards\",\n      camera_distance: \"close-up on impact\",\n      motion_type: \"explosive shattering\"\n    },\n    customDetails: \"Glass pieces flying, dramatic lighting on shards, moment of impact, destruction energy\"\n  },\n\n  \"crashing-car-into-barrier\": {\n    id: \"crashing-car-into-barrier\",\n    name: \"Crashing Car into Barrier\",\n    description: \"Vehicle collision with barrier in dramatic crash\",\n    category: \"impact\",\n    tags: [\"crash\", \"collision\", \"vehicle\", \"dramatic\"],\n    useCase: \"Action sequences, crash scenes, dramatic impacts, stunt work\",\n    fields: {\n      actions: \"crashing vehicle\",\n      scene: \"Car colliding with barrier in spectacular crash\",\n      dialogue: \"Hold on tight!\",\n      camera_angle: \"wide angle capturing full crash\",\n      camera_distance: \"wide shot showing impact\",\n      motion_type: \"high-impact collision\"\n    },\n    customDetails: \"Vehicle crumpling on impact, debris flying, dramatic collision moment, crash energy\"\n  },\n\n  \"exploding-out-of-building\": {\n    id: \"exploding-out-of-building\",\n    name: \"Exploding Out of Building\",\n    description: \"Dramatic explosion bursting through building wall\",\n    category: \"impact\",\n    tags: [\"explosion\", \"building\", \"dramatic\", \"burst\"],\n    useCase: \"Action movies, dramatic escapes, explosion scenes, high-impact moments\",\n    fields: {\n      actions: \"exploding through wall\",\n      scene: \"Person bursting through building wall in explosion\",\n      dialogue: \"Sometimes you have to make your own exit!\",\n      camera_angle: \"dramatic angle showing explosion\",\n      camera_distance: \"wide shot capturing blast\",\n      motion_type: \"explosive burst motion\"\n    },\n    customDetails: \"Wall debris flying, flames and smoke, dramatic exit, explosive force, action movie energy\"\n  },\n\n  \"wrestling-on-ground\": {\n    id: \"wrestling-on-ground\",\n    name: \"Wrestling on Ground\",\n    description: \"Intense ground wrestling match between opponents\",\n    category: \"conflict\",\n    tags: [\"wrestling\", \"grappling\", \"ground\", \"intense\"],\n    useCase: \"Wrestling content, ground combat, sports action, competitive fighting\",\n    fields: {\n      actions: \"wrestling on ground\",\n      scene: \"Two opponents locked in intense ground wrestling match\",\n      dialogue: \"I'm not giving up!\",\n      camera_angle: \"low angle showing struggle\",\n      camera_distance: \"close action shot\",\n      motion_type: \"grappling wrestling motion\"\n    },\n    customDetails: \"Bodies intertwined in wrestling hold, muscles straining, competitive determination, ground combat\"\n  },\n\n  \"casting-destructive-spell\": {\n    id: \"casting-destructive-spell\",\n    name: \"Casting Destructive Spell\",\n    description: \"Mage casting powerful destructive magic spell\",\n    category: \"conflict\",\n    tags: [\"magic\", \"spell\", \"destructive\", \"mystical\"],\n    useCase: \"Fantasy content, magical combat, spell casting, mystical action\",\n    fields: {\n      actions: \"casting spell\",\n      scene: \"Mage channeling destructive magical energy in spell\",\n      dialogue: \"By the power of the ancients!\",\n      camera_angle: \"dramatic angle showing magic\",\n      camera_distance: \"medium shot showing caster\",\n      motion_type: \"magical casting gestures\"\n    },\n    customDetails: \"Hands glowing with magical energy, intense concentration, mystical symbols, destructive power\"\n  },\n\n  \"pushing-someone-out-of-harms-way\": {\n    id: \"pushing-someone-out-of-harms-way\",\n    name: \"Pushing Someone Out of Harm's Way\",\n    description: \"Heroic push to save someone from incoming danger\",\n    category: \"conflict\",\n    tags: [\"heroic\", \"rescue\", \"protection\", \"sacrifice\"],\n    useCase: \"Heroic moments, rescue scenes, protection actions, selfless acts\",\n    fields: {\n      actions: \"pushing person to safety\",\n      scene: \"Hero pushing someone out of path of incoming danger\",\n      dialogue: \"Look out!\",\n      camera_angle: \"dynamic angle showing rescue\",\n      camera_distance: \"medium action shot\",\n      motion_type: \"urgent protective push\"\n    },\n    customDetails: \"Protective arm extended, urgent expression, person being pushed to safety, heroic sacrifice\"\n  },\n\n  \"breaking-door-open\": {\n    id: \"breaking-door-open\",\n    name: \"Breaking Door Open\",\n    description: \"Forceful entry through locked door with shoulder or kick\",\n    category: \"impact\",\n    tags: [\"breaking\", \"door\", \"force\", \"entry\"],\n    useCase: \"Action scenes, forced entry, dramatic entrances, emergency access\",\n    fields: {\n      actions: \"breaking down door\",\n      scene: \"Person breaking through door with powerful force\",\n      dialogue: \"We're coming in!\",\n      camera_angle: \"angle showing door impact\",\n      camera_distance: \"medium shot showing action\",\n      motion_type: \"powerful breaking motion\"\n    },\n    customDetails: \"Shoulder or foot hitting door, wood splintering, determined expression, forced entry energy\"\n  },\n\n  \"falling-from-great-height\": {\n    id: \"falling-from-great-height\",\n    name: \"Falling from Great Height\",\n    description: \"Dramatic fall from significant height with arms flailing\",\n    category: \"impact\",\n    tags: [\"falling\", \"height\", \"dramatic\", \"danger\"],\n    useCase: \"Action sequences, dramatic falls, danger scenes, cliff hangers\",\n    fields: {\n      actions: \"falling through air\",\n      scene: \"Person falling from great height with wind rushing past\",\n      dialogue: \"This is not how I planned this!\",\n      camera_angle: \"aerial angle following fall\",\n      camera_distance: \"wide shot showing height\",\n      motion_type: \"free-fall motion\"\n    },\n    customDetails: \"Arms windmilling, hair and clothes whipping in wind, ground far below, dramatic fall energy\"\n  },\n\n  \"sword-clashing-mid-battle\": {\n    id: \"sword-clashing-mid-battle\",\n    name: \"Sword Clashing Mid-Battle\",\n    description: \"Epic sword fight with blades locked in combat\",\n    category: \"conflict\",\n    tags: [\"sword\", \"battle\", \"clashing\", \"epic\"],\n    useCase: \"Medieval combat, sword fighting, epic battles, warrior content\",\n    fields: {\n      actions: \"sword fighting\",\n      scene: \"Warriors with swords locked in fierce combat\",\n      dialogue: \"En garde!\",\n      camera_angle: \"dynamic angle showing clash\",\n      camera_distance: \"close action shot\",\n      motion_type: \"sword combat motion\"\n    },\n    customDetails: \"Blades locked together, sparks flying, intense eye contact, medieval combat energy, warrior skill\"\n  },\n\n  \"smashing-object-with-hammer\": {\n    id: \"smashing-object-with-hammer\",\n    name: \"Smashing Object with Hammer\",\n    description: \"Powerful hammer blow destroying object completely\",\n    category: \"impact\",\n    tags: [\"hammer\", \"smashing\", \"destruction\", \"powerful\"],\n    useCase: \"Destruction scenes, demolition content, powerful impacts, breaking objects\",\n    fields: {\n      actions: \"smashing with hammer\",\n      scene: \"Person bringing hammer down to smash object completely\",\n      dialogue: \"Sometimes destruction is necessary for progress.\",\n      camera_angle: \"overhead angle showing impact\",\n      camera_distance: \"medium shot showing destruction\",\n      motion_type: \"powerful hammer swing\"\n    },\n    customDetails: \"Hammer raised high, object shattering on impact, debris flying, powerful destruction energy\"\n  }\n};\n\n// Category organization for action presets\nexport const actionCategories = {\n  poses: {\n    name: \"Poses & Gestures\",\n    icon: \"🧍\",\n    presets: [\"confident-power-pose\", \"professional-handshake\", \"thinking-chin-stroke\", \"enthusiastic-thumbs-up\", \"crossed-arms-skeptical\", \"pointing-direction\", \"open-palms-welcome\", \"shrug-uncertainty\", \"leaning-casual\", \"facepalm-frustration\", \"presentation-gesture\", \"victory-celebration\"]\n  },\n  expressions: {\n    name: \"Expressions / Reactions\",\n    icon: \"🎭\",\n    presets: [\"laughing-eyes-closed\", \"shocked-hands-on-cheeks\", \"angry-fist-raised\", \"sad-tear-rolling\", \"smiling-warmly\", \"rolling-eyes-annoyance\", \"confused-scratching-head\", \"disgusted-nose-wrinkle\", \"nervous-biting-lip\", \"surprised-gasp\", \"proud-smirk\", \"excited-jumping\"]\n  },\n  dynamic: {\n    name: \"Dynamic / Movement\",\n    icon: \"🎮\",\n    presets: [\"running-through-street\", \"jumping-across-gap\", \"dancing-energetically\", \"diving-into-water\", \"spinning-in-chair\", \"sliding-into-base\", \"dodging-incoming-object\", \"leaping-off-rooftop\", \"sprinting-while-carrying\", \"swinging-on-rope\", \"skating-skateboarding\", \"flipping-table-dramatically\"]\n  },\n  thinking: {\n    name: \"Thinking / Creating\",\n    icon: \"🧠\",\n    presets: [\"writing-in-notebook\", \"painting-on-easel\", \"brainstorming-sticky-notes\", \"programming-at-computer\", \"cooking-tasting-dish\", \"playing-musical-instrument\", \"sculpting-clay-wheel\", \"designing-clothes-mannequin\", \"planning-map-on-table\", \"composing-music-headphones\", \"repairing-mechanical-device\", \"meditating-quietly\"]\n  },\n  conflict: {\n    name: \"Conflict / Impact\",\n    icon: \"💥\",\n    presets: [\"throwing-punch\", \"blocking-attack-with-shield\", \"shattering-glass\", \"crashing-car-into-barrier\", \"exploding-out-of-building\", \"wrestling-on-ground\", \"casting-destructive-spell\", \"pushing-someone-out-of-harms-way\", \"breaking-door-open\", \"falling-from-great-height\", \"sword-clashing-mid-battle\", \"smashing-object-with-hammer\"]\n  },\n  chase: {\n    name: \"Chase & Pursuit\",\n    icon: \"🏃‍♂️\",\n    presets: [\"high-speed-chase\", \"foot-chase-parkour\", \"underwater-chase\", \"motorcycle-escape\", \"forest-pursuit\"]\n  },\n  dialogue: {\n    name: \"Dialogue & Conversation\", \n    icon: \"💬\",\n    presets: [\"heated-argument\", \"heartfelt-confession\", \"business-negotiation\", \"family-reunion\", \"secret-conspiracy\"]\n  },\n  combat: {\n    name: \"Fight & Combat\",\n    icon: \"⚔️\",\n    presets: [\"martial-arts-duel\", \"street-brawl\", \"lightsaber-duel\", \"boxing-ring\"]\n  },\n  romance: {\n    name: \"Romance & Intimate\",\n    icon: \"💕\",\n    presets: [\"first-kiss\", \"surprise-proposal\", \"anniversary-dance\", \"wedding-vows\"]\n  },\n  comedy: {\n    name: \"Comedy & Humor\",\n    icon: \"😂\",\n    presets: [\"slapstick-mishap\", \"awkward-encounter\", \"prank-gone-wrong\", \"dad-joke-delivery\"]\n  }\n};","export const directorStyles = {\n  // AUTEUR DIRECTOR STYLES (12 presets)\n  \"kubrick-symmetry\": {\n    id: \"kubrick-symmetry\",\n    name: \"Kubrick Symmetry\",\n    description: \"Perfectly symmetrical compositions with one-point perspective\",\n    category: \"directors\",\n    tags: [\"kubrick\", \"symmetrical\", \"precise\", \"geometric\"],\n    useCase: \"Artistic films, precise compositions, psychological content\",\n    fields: {\n      camera_angle: \"perfectly centered one-point perspective\",\n      camera_distance: \"wide symmetrical shot\",\n      lens_type: \"wide angle for geometric precision\",\n      depth_of_field: \"deep focus\",\n      style: \"symmetrical geometric precision\",\n      color_palette: \"controlled monochromatic\",\n      lighting_type: \"precise directional lighting\",\n      motion_type: \"slow methodical zoom\"\n    },\n    customDetails: \"Kubrick's obsessive symmetry with perfect central framing, geometric precision, and psychological intensity through visual order\"\n  },\n\n  \"tarantino-dialogue\": {\n    id: \"tarantino-dialogue\",\n    name: \"Tarantino Dialogue Scene\",\n    description: \"Character-driven dialogue with pop culture references and tension\",\n    category: \"directors\",\n    tags: [\"tarantino\", \"dialogue\", \"tension\", \"pop-culture\"],\n    useCase: \"Character studies, dialogue-heavy scenes, pop culture content\",\n    fields: {\n      camera_angle: \"medium close-ups emphasizing dialogue\",\n      camera_distance: \"intimate conversation shots\",\n      lens_type: \"standard for natural perspective\",\n      depth_of_field: \"shallow focus on speakers\",\n      style: \"gritty realistic with pop flair\",\n      color_palette: \"saturated warm tones\",\n      lighting_type: \"natural motivated lighting\",\n      motion_type: \"static with occasional whip pans\"\n    },\n    customDetails: \"Tarantino's signature dialogue style with pop culture references, building tension, and characters talking past each other\"\n  },\n\n  \"nolan-complexity\": {\n    id: \"nolan-complexity\",\n    name: \"Nolan Complexity\",\n    description: \"Multi-layered narrative with time manipulation and IMAX scale\",\n    category: \"directors\",\n    tags: [\"nolan\", \"complex\", \"time\", \"imax\"],\n    useCase: \"Complex narratives, time-based content, epic scale stories\",\n    fields: {\n      camera_angle: \"IMAX-scale epic angles\",\n      camera_distance: \"sweeping establishing shots\",\n      lens_type: \"IMAX 70mm equivalent wide\",\n      depth_of_field: \"everything in sharp focus\",\n      style: \"epic realistic complexity\",\n      color_palette: \"desaturated blues and golds\",\n      lighting_type: \"practical source lighting\",\n      motion_type: \"rotating perspectives and time shifts\"\n    },\n    customDetails: \"Nolan's signature complexity with non-linear time, IMAX grandeur, and practical effects creating puzzle-like narratives\"\n  },\n\n  \"spielberg-family\": {\n    id: \"spielberg-family\",\n    name: \"Spielberg Family Drama\",\n    description: \"Warm family moments with nostalgic suburban atmosphere\",\n    category: \"directors\",\n    tags: [\"spielberg\", \"family\", \"nostalgic\", \"warm\"],\n    useCase: \"Family content, nostalgic scenes, heartwarming moments\",\n    fields: {\n      camera_angle: \"warm eye-level family perspectives\",\n      camera_distance: \"inclusive medium shots\",\n      lens_type: \"standard for natural family feel\",\n      depth_of_field: \"moderate focus\",\n      style: \"warm nostalgic Americana\",\n      color_palette: \"golden hour warm tones\",\n      lighting_type: \"soft natural family lighting\",\n      motion_type: \"gentle camera movements\"\n    },\n    customDetails: \"Spielberg's warm family dynamics with suburban nostalgia, golden hour lighting, and the magic of ordinary family moments\"\n  },\n\n  \"scorsese-tracking\": {\n    id: \"scorsese-tracking\",\n    name: \"Scorsese Tracking Shot\",\n    description: \"Long fluid tracking shots through crowded environments\",\n    category: \"directors\",\n    tags: [\"scorsese\", \"tracking\", \"fluid\", \"crowded\"],\n    useCase: \"Dynamic movement, crowded scenes, immersive environments\",\n    fields: {\n      camera_angle: \"fluid moving perspective\",\n      camera_distance: \"immersive tracking shots\",\n      lens_type: \"standard for natural movement\",\n      depth_of_field: \"deep focus to catch everything\",\n      style: \"gritty urban realism\",\n      color_palette: \"rich saturated colors\",\n      lighting_type: \"mixed practical sources\",\n      motion_type: \"signature long tracking movements\"\n    },\n    customDetails: \"Scorsese's famous tracking shots weaving through crowded spaces, capturing the energy and chaos of urban life\"\n  },\n\n  \"anderson-centered\": {\n    id: \"anderson-centered\",\n    name: \"Wes Anderson Centered\",\n    description: \"Perfectly centered symmetrical frames with whimsical detail\",\n    category: \"directors\",\n    tags: [\"anderson\", \"centered\", \"whimsical\", \"symmetrical\"],\n    useCase: \"Quirky content, art direction focused, whimsical storytelling\",\n    fields: {\n      camera_angle: \"perfectly centered symmetrical\",\n      camera_distance: \"precisely framed medium shots\",\n      lens_type: \"standard for geometric precision\",\n      depth_of_field: \"everything in sharp focus\",\n      style: \"whimsical symmetrical perfection\",\n      color_palette: \"pastel color coordination\",\n      lighting_type: \"even flat lighting\",\n      motion_type: \"static with precise pans\"\n    },\n    customDetails: \"Wes Anderson's meticulous symmetry with perfect centering, whimsical color palettes, and dollhouse-like precision\"\n  },\n\n  \"fincher-precision\": {\n    id: \"fincher-precision\",\n    name: \"Fincher Precision\",\n    description: \"Clinical precise cinematography with controlled color grading\",\n    category: \"directors\",\n    tags: [\"fincher\", \"precise\", \"clinical\", \"controlled\"],\n    useCase: \"Thriller content, psychological scenes, precise control\",\n    fields: {\n      camera_angle: \"precisely calculated angles\",\n      camera_distance: \"clinically precise framing\",\n      lens_type: \"telephoto for compression\",\n      depth_of_field: \"precise selective focus\",\n      style: \"clinical digital precision\",\n      color_palette: \"controlled desaturated tones\",\n      lighting_type: \"controlled artificial lighting\",\n      motion_type: \"perfectly smooth mechanical moves\"\n    },\n    customDetails: \"Fincher's digital precision with clinical color grading, perfect camera movements, and obsessive technical control\"\n  },\n\n  \"wright-dynamic\": {\n    id: \"wright-dynamic\",\n    name: \"Edgar Wright Dynamic\",\n    description: \"Rapid-fire visual comedy with kinetic editing energy\",\n    category: \"directors\",\n    tags: [\"wright\", \"dynamic\", \"comedy\", \"kinetic\"],\n    useCase: \"Comedy content, energetic scenes, visual humor\",\n    fields: {\n      camera_angle: \"dynamic shifting perspectives\",\n      camera_distance: \"rapid cutting distances\",\n      lens_type: \"varied for visual punch\",\n      depth_of_field: \"sharp focus for clarity\",\n      style: \"kinetic visual comedy\",\n      color_palette: \"bold saturated colors\",\n      lighting_type: \"punchy high-contrast\",\n      motion_type: \"rapid kinetic movements\"\n    },\n    customDetails: \"Edgar Wright's visual comedy style with rapid-fire editing, dynamic camera work, and kinetic energy\"\n  },\n\n  \"villeneuve-epic\": {\n    id: \"villeneuve-epic\",\n    name: \"Villeneuve Epic Scale\",\n    description: \"Vast cinematic landscapes with human intimacy\",\n    category: \"directors\",\n    tags: [\"villeneuve\", \"epic\", \"vast\", \"intimate\"],\n    useCase: \"Epic sci-fi, vast landscapes, intimate human drama\",\n    fields: {\n      camera_angle: \"epic wide establishing shots\",\n      camera_distance: \"vast landscape shots\",\n      lens_type: \"wide angle for epic scale\",\n      depth_of_field: \"deep focus landscape\",\n      style: \"epic cinematic realism\",\n      color_palette: \"muted earth tones\",\n      lighting_type: \"natural epic lighting\",\n      motion_type: \"slow majestic movements\"\n    },\n    customDetails: \"Villeneuve's epic scale with vast landscapes, intimate human moments, and the weight of sci-fi concepts made real\"\n  },\n\n  \"wright-cornetto\": {\n    id: \"wright-cornetto\",\n    name: \"Cornetto Trilogy Style\",\n    description: \"British comedy with genre-bending elements and visual gags\",\n    category: \"directors\",\n    tags: [\"british\", \"comedy\", \"genre-bending\", \"visual-gags\"],\n    useCase: \"British comedy, genre mashups, visual humor\",\n    fields: {\n      camera_angle: \"comedic timing angles\",\n      camera_distance: \"genre-appropriate framing\",\n      lens_type: \"standard for natural comedy\",\n      depth_of_field: \"sharp for visual gags\",\n      style: \"British genre-bending comedy\",\n      color_palette: \"warm British suburban tones\",\n      lighting_type: \"natural British lighting\",\n      motion_type: \"genre-appropriate movement\"\n    },\n    customDetails: \"Edgar Wright's Cornetto trilogy style mixing British comedy with genre elements, visual gags, and suburban settings\"\n  },\n\n  \"bay-explosion\": {\n    id: \"bay-explosion\",\n    name: \"Michael Bay Explosions\",\n    description: \"High-octane action with rotating cameras and massive explosions\",\n    category: \"directors\",\n    tags: [\"bay\", \"explosions\", \"action\", \"rotating\"],\n    useCase: \"Action blockbusters, explosion scenes, high-energy content\",\n    fields: {\n      camera_angle: \"rotating dramatic angles\",\n      camera_distance: \"dynamic action shots\",\n      lens_type: \"wide for maximum spectacle\",\n      depth_of_field: \"sharp focus on action\",\n      style: \"blockbuster action spectacle\",\n      color_palette: \"orange and teal blockbuster\",\n      lighting_type: \"explosive dramatic lighting\",\n      motion_type: \"rotating around action\"\n    },\n    customDetails: \"Michael Bay's signature style with rotating cameras around explosions, orange/teal color grading, and maximum spectacle\"\n  },\n\n  \"carpenter-horror\": {\n    id: \"carpenter-horror\",\n    name: \"John Carpenter Horror\",\n    description: \"Atmospheric horror with synth score and practical effects\",\n    category: \"directors\",\n    tags: [\"carpenter\", \"horror\", \"atmospheric\", \"synth\"],\n    useCase: \"Horror content, atmospheric tension, retro horror aesthetics\",\n    fields: {\n      camera_angle: \"ominous low angles\",\n      camera_distance: \"tension-building wide shots\",\n      lens_type: \"wide angle for paranoia\",\n      depth_of_field: \"deep focus for lurking threats\",\n      style: \"retro atmospheric horror\",\n      color_palette: \"cold blues and stark whites\",\n      lighting_type: \"harsh practical lighting\",\n      motion_type: \"slow stalking movements\"\n    },\n    customDetails: \"John Carpenter's horror atmosphere with synth scores, practical effects, and the mounting dread of unseen threats\"\n  },\n\n  \"peele-horror\": {\n    id: \"peele-horror\",\n    name: \"Jordan Peele Social Horror\",\n    description: \"Social thriller horror with hidden meaning and atmospheric tension\",\n    category: \"directors\",\n    tags: [\"peele\", \"horror\", \"social\", \"tension\", \"meaning\"],\n    useCase: \"Horror content, social commentary, psychological tension\",\n    fields: {\n      camera_angle: \"uncomfortable close-ups and unsettling perspectives\",\n      camera_distance: \"intimate yet menacing shots\",\n      lens_type: \"standard for realistic unease\",\n      depth_of_field: \"selective focus on disturbing details\",\n      style: \"realistic social horror\",\n      color_palette: \"natural tones hiding darkness\",\n      lighting_type: \"deceptively normal lighting with shadows\",\n      motion_type: \"slow building tension movements\"\n    },\n    customDetails: \"Jordan Peele's signature social horror with racial commentary, hidden meanings, and escalating psychological tension\"\n  },\n\n  \"johnson-mystery\": {\n    id: \"johnson-mystery\",\n    name: \"Rian Johnson Mystery\",\n    description: \"Clever whodunit style with sharp dialogue and intricate plotting\",\n    category: \"directors\",\n    tags: [\"johnson\", \"mystery\", \"clever\", \"dialogue\", \"intricate\"],\n    useCase: \"Mystery content, dialogue-heavy scenes, complex narratives\",\n    fields: {\n      camera_angle: \"clever framing revealing clues\",\n      camera_distance: \"intimate dialogue shots\",\n      lens_type: \"standard for natural mystery feel\",\n      depth_of_field: \"focus on important details\",\n      style: \"modern mystery sophistication\",\n      color_palette: \"rich warm tones with cool accents\",\n      lighting_type: \"natural motivated lighting\",\n      motion_type: \"smooth revealing camera moves\"\n    },\n    customDetails: \"Rian Johnson's intricate mystery style with clever dialogue, genre subversion, and sophisticated plotting\"\n  },\n\n  \"bong-genre\": {\n    id: \"bong-genre\",\n    name: \"Bong Joon-ho Genre Blend\",\n    description: \"Genre-blending masterpiece with class commentary and tonal shifts\",\n    category: \"directors\",\n    tags: [\"bong\", \"genre-blend\", \"class\", \"tonal\", \"masterpiece\"],\n    useCase: \"Genre-bending content, social commentary, complex narratives\",\n    fields: {\n      camera_angle: \"precise architectural framing\",\n      camera_distance: \"medium shots emphasizing space\",\n      lens_type: \"standard for realistic precision\",\n      depth_of_field: \"deep focus on environmental details\",\n      style: \"genre-blending realism\",\n      color_palette: \"naturalistic with symbolic accents\",\n      lighting_type: \"realistic with dramatic moments\",\n      motion_type: \"deliberate precise movements\"\n    },\n    customDetails: \"Bong Joon-ho's genre-blending mastery with class consciousness, architectural precision, and seamless tonal shifts\"\n  },\n\n  \"zhao-naturalistic\": {\n    id: \"zhao-naturalistic\",\n    name: \"Chloe Zhao Naturalistic\",\n    description: \"Contemplative naturalistic style with golden hour beauty\",\n    category: \"directors\",\n    tags: [\"zhao\", \"naturalistic\", \"contemplative\", \"golden-hour\", \"beauty\"],\n    useCase: \"Contemplative content, natural beauty, character studies\",\n    fields: {\n      camera_angle: \"natural observational perspectives\",\n      camera_distance: \"intimate character-focused shots\",\n      lens_type: \"wide angle for natural landscapes\",\n      depth_of_field: \"natural depth transitions\",\n      style: \"naturalistic contemplative realism\",\n      color_palette: \"golden hour earth tones\",\n      lighting_type: \"natural golden hour lighting\",\n      motion_type: \"gentle flowing camera movements\"\n    },\n    customDetails: \"Chloe Zhao's naturalistic vision with golden hour magic, contemplative pacing, and intimate human stories in vast landscapes\"\n  },\n\n  \"jenkins-intimate\": {\n    id: \"jenkins-intimate\",\n    name: \"Barry Jenkins Intimate\",\n    description: \"Intimate character studies with warm emotional cinematography\",\n    category: \"directors\",\n    tags: [\"jenkins\", \"intimate\", \"character\", \"warm\", \"emotional\"],\n    useCase: \"Character studies, emotional content, intimate storytelling\",\n    fields: {\n      camera_angle: \"intimate close character shots\",\n      camera_distance: \"close emotional framing\",\n      lens_type: \"standard for natural intimacy\",\n      depth_of_field: \"soft focus on emotional moments\",\n      style: \"intimate emotional realism\",\n      color_palette: \"warm embracing tones\",\n      lighting_type: \"soft warm natural lighting\",\n      motion_type: \"gentle handheld movements\"\n    },\n    customDetails: \"Barry Jenkins' intimate character work with warm cinematography, emotional depth, and tender human connections\"\n  },\n\n  \"wang-cultural\": {\n    id: \"wang-cultural\",\n    name: \"Lulu Wang Cultural Bridge\",\n    description: \"Cross-cultural family stories with authentic emotional depth\",\n    category: \"directors\",\n    tags: [\"wang\", \"cultural\", \"family\", \"authentic\", \"emotional\"],\n    useCase: \"Family content, cultural stories, authentic emotion\",\n    fields: {\n      camera_angle: \"authentic family perspectives\",\n      camera_distance: \"intimate family gathering shots\",\n      lens_type: \"standard for natural family feel\",\n      depth_of_field: \"natural family focus\",\n      style: \"authentic cultural storytelling\",\n      color_palette: \"warm family gathering tones\",\n      lighting_type: \"natural family lighting\",\n      motion_type: \"natural family dynamics movement\"\n    },\n    customDetails: \"Lulu Wang's authentic cultural storytelling with family dynamics, cross-cultural understanding, and genuine emotional depth\"\n  },\n\n  // AESTHETIC STYLES (12 presets)\n  \"gothic-dark\": {\n    id: \"gothic-dark\",\n    name: \"Gothic Dark\",\n    description: \"Dark romantic aesthetic with deep shadows and ornate details\",\n    category: \"aesthetic\",\n    tags: [\"gothic\", \"dark\", \"romantic\", \"ornate\", \"shadows\"],\n    useCase: \"Gothic content, dark romance, mysterious storytelling\",\n    fields: {\n      style: \"gothic dark romanticism\",\n      color_palette: \"deep blacks, rich purples, blood reds\",\n      lighting_type: \"dramatic chiaroscuro lighting\",\n      camera_angle: \"dramatic low angles\",\n      lens_type: \"wide angle for gothic architecture\",\n      depth_of_field: \"selective focus on ornate details\"\n    },\n    customDetails: \"Victorian gothic aesthetic with ornate architecture, dramatic shadows, rich textures, and romantic darkness\"\n  },\n\n  \"pastel-soft\": {\n    id: \"pastel-soft\",\n    name: \"Pastel Soft\",\n    description: \"Gentle pastel aesthetic with soft lighting and dreamy atmosphere\",\n    category: \"aesthetic\",\n    tags: [\"pastel\", \"soft\", \"dreamy\", \"gentle\", \"light\"],\n    useCase: \"Soft content, dreamy visuals, gentle storytelling\",\n    fields: {\n      style: \"soft pastel dreaminess\",\n      color_palette: \"soft pinks, baby blues, lavender\",\n      lighting_type: \"soft diffused natural light\",\n      camera_angle: \"gentle eye-level shots\",\n      lens_type: \"standard for natural softness\",\n      depth_of_field: \"soft focus with gentle blur\"\n    },\n    customDetails: \"Dreamy pastel world with soft textures, gentle lighting, and ethereal romantic atmosphere\"\n  },\n\n  \"cyberpunk-neon\": {\n    id: \"cyberpunk-neon\",\n    name: \"Cyberpunk Neon\",\n    description: \"High-tech aesthetic with neon lights and urban futurism\",\n    category: \"aesthetic\",\n    tags: [\"cyberpunk\", \"neon\", \"futuristic\", \"tech\", \"urban\"],\n    useCase: \"Sci-fi content, futuristic visuals, tech storytelling\",\n    fields: {\n      style: \"cyberpunk futurism\",\n      color_palette: \"electric blues, hot pinks, neon greens\",\n      lighting_type: \"harsh neon artificial lighting\",\n      camera_angle: \"dynamic urban angles\",\n      lens_type: \"wide angle for urban scale\",\n      depth_of_field: \"sharp focus on neon details\"\n    },\n    customDetails: \"High-tech urban future with glowing neon, rain-slicked streets, and digital enhancement aesthetic\"\n  },\n\n  \"minimalist-clean\": {\n    id: \"minimalist-clean\",\n    name: \"Minimalist Clean\",\n    description: \"Clean minimalist aesthetic with white space and geometric forms\",\n    category: \"aesthetic\",\n    tags: [\"minimalist\", \"clean\", \"geometric\", \"white\", \"simple\"],\n    useCase: \"Modern content, clean visuals, sophisticated storytelling\",\n    fields: {\n      style: \"minimalist geometric clarity\",\n      color_palette: \"pure whites, soft grays, accent colors\",\n      lighting_type: \"even clean lighting\",\n      camera_angle: \"precise geometric angles\",\n      lens_type: \"standard for clean precision\",\n      depth_of_field: \"everything in clean focus\"\n    },\n    customDetails: \"Ultra-clean aesthetic with geometric precision, abundant white space, and sophisticated simplicity\"\n  },\n\n  \"vintage-retro\": {\n    id: \"vintage-retro\",\n    name: \"Vintage Retro\",\n    description: \"Nostalgic retro aesthetic with warm tones and classic elements\",\n    category: \"aesthetic\",\n    tags: [\"vintage\", \"retro\", \"nostalgic\", \"warm\", \"classic\"],\n    useCase: \"Nostalgic content, retro visuals, classic storytelling\",\n    fields: {\n      style: \"vintage nostalgic charm\",\n      color_palette: \"warm browns, golden yellows, faded reds\",\n      lighting_type: \"warm golden hour lighting\",\n      camera_angle: \"classic film angles\",\n      lens_type: \"vintage lens characteristics\",\n      depth_of_field: \"classic film depth\"\n    },\n    customDetails: \"Nostalgic retro world with vintage textures, warm color grading, and classic film aesthetic\"\n  },\n\n  \"industrial-gritty\": {\n    id: \"industrial-gritty\",\n    name: \"Industrial Gritty\",\n    description: \"Raw industrial aesthetic with metal textures and harsh lighting\",\n    category: \"aesthetic\",\n    tags: [\"industrial\", \"gritty\", \"metal\", \"harsh\", \"raw\"],\n    useCase: \"Gritty content, industrial visuals, raw storytelling\",\n    fields: {\n      style: \"industrial grittiness\",\n      color_palette: \"steel grays, rust oranges, dark browns\",\n      lighting_type: \"harsh industrial lighting\",\n      camera_angle: \"gritty handheld angles\",\n      lens_type: \"wide angle for industrial scale\",\n      depth_of_field: \"sharp industrial details\"\n    },\n    customDetails: \"Raw industrial environment with metal textures, harsh shadows, and unforgiving urban realism\"\n  },\n\n  \"bohemian-artistic\": {\n    id: \"bohemian-artistic\",\n    name: \"Bohemian Artistic\",\n    description: \"Free-spirited bohemian aesthetic with artistic flair and creative chaos\",\n    category: \"aesthetic\",\n    tags: [\"bohemian\", \"artistic\", \"creative\", \"free-spirited\", \"eclectic\"],\n    useCase: \"Artistic content, creative visuals, bohemian storytelling\",\n    fields: {\n      style: \"bohemian artistic freedom\",\n      color_palette: \"rich jewel tones, earthy browns, artistic splashes\",\n      lighting_type: \"natural artistic lighting\",\n      camera_angle: \"creative artistic angles\",\n      lens_type: \"standard for artistic expression\",\n      depth_of_field: \"artistic selective focus\"\n    },\n    customDetails: \"Free-spirited artistic world with eclectic textures, creative chaos, and bohemian self-expression\"\n  },\n\n  \"luxury-opulent\": {\n    id: \"luxury-opulent\",\n    name: \"Luxury Opulent\",\n    description: \"High-end luxury aesthetic with gold accents and premium materials\",\n    category: \"aesthetic\",\n    tags: [\"luxury\", \"opulent\", \"gold\", \"premium\", \"elegant\"],\n    useCase: \"Luxury content, premium visuals, elegant storytelling\",\n    fields: {\n      style: \"luxury opulence\",\n      color_palette: \"rich golds, deep blacks, ivory whites\",\n      lighting_type: \"sophisticated accent lighting\",\n      camera_angle: \"elegant refined angles\",\n      lens_type: \"standard for luxury detail\",\n      depth_of_field: \"luxurious selective focus\"\n    },\n    customDetails: \"Premium luxury environment with gold accents, rich textures, and sophisticated elegance\"\n  },\n\n  \"nature-organic\": {\n    id: \"nature-organic\",\n    name: \"Nature Organic\",\n    description: \"Natural organic aesthetic with earth tones and flowing forms\",\n    category: \"aesthetic\",\n    tags: [\"nature\", \"organic\", \"earth\", \"natural\", \"flowing\"],\n    useCase: \"Natural content, organic visuals, earth-friendly storytelling\",\n    fields: {\n      style: \"natural organic harmony\",\n      color_palette: \"earth browns, forest greens, sky blues\",\n      lighting_type: \"natural organic lighting\",\n      camera_angle: \"natural flowing angles\",\n      lens_type: \"standard for natural beauty\",\n      depth_of_field: \"natural depth transitions\"\n    },\n    customDetails: \"Organic natural world with flowing forms, earth textures, and harmonious natural beauty\"\n  },\n\n  \"pop-art-vibrant\": {\n    id: \"pop-art-vibrant\",\n    name: \"Pop Art Vibrant\",\n    description: \"Bold pop art aesthetic with vibrant colors and graphic elements\",\n    category: \"aesthetic\",\n    tags: [\"pop-art\", \"vibrant\", \"bold\", \"graphic\", \"colorful\"],\n    useCase: \"Vibrant content, pop art visuals, bold storytelling\",\n    fields: {\n      style: \"pop art vibrancy\",\n      color_palette: \"electric yellows, pop reds, vibrant blues\",\n      lighting_type: \"bold graphic lighting\",\n      camera_angle: \"dynamic pop art angles\",\n      lens_type: \"standard for graphic clarity\",\n      depth_of_field: \"graphic sharp focus\"\n    },\n    customDetails: \"Bold pop art world with vibrant colors, graphic elements, and playful artistic expression\"\n  },\n\n  \"steampunk-vintage\": {\n    id: \"steampunk-vintage\",\n    name: \"Steampunk Vintage\",\n    description: \"Victorian steampunk aesthetic with brass gears and mechanical elements\",\n    category: \"aesthetic\",\n    tags: [\"steampunk\", \"victorian\", \"brass\", \"mechanical\", \"gears\"],\n    useCase: \"Steampunk content, vintage sci-fi visuals, mechanical storytelling\",\n    fields: {\n      style: \"steampunk mechanical artistry\",\n      color_palette: \"brass golds, copper browns, steel grays\",\n      lighting_type: \"warm gaslight illumination\",\n      camera_angle: \"mechanical detail angles\",\n      lens_type: \"standard for mechanical precision\",\n      depth_of_field: \"mechanical detail focus\"\n    },\n    customDetails: \"Victorian steampunk world with brass mechanisms, intricate gears, and mechanical ingenuity\"\n  },\n\n  \"ethereal-mystical\": {\n    id: \"ethereal-mystical\",\n    name: \"Ethereal Mystical\",\n    description: \"Mystical ethereal aesthetic with soft glows and magical atmosphere\",\n    category: \"aesthetic\",\n    tags: [\"ethereal\", \"mystical\", \"magical\", \"glowing\", \"spiritual\"],\n    useCase: \"Mystical content, ethereal visuals, spiritual storytelling\",\n    fields: {\n      style: \"ethereal mysticism\",\n      color_palette: \"soft purples, ethereal whites, mystical blues\",\n      lighting_type: \"soft ethereal glowing light\",\n      camera_angle: \"mystical floating angles\",\n      lens_type: \"soft focus for ethereal quality\",\n      depth_of_field: \"dreamy ethereal blur\"\n    },\n    customDetails: \"Mystical ethereal realm with soft glowing light, floating elements, and spiritual transcendence\"\n  },\n\n  // ART & ILLUSTRATION STYLES (12 presets)\n  \"watercolor-painting\": {\n    id: \"watercolor-painting\",\n    name: \"Watercolor Painting\",\n    description: \"Soft watercolor aesthetic with flowing colors and paper texture\",\n    category: \"art\",\n    tags: [\"watercolor\", \"painting\", \"soft\", \"flowing\", \"artistic\"],\n    useCase: \"Artistic content, painting visuals, soft storytelling\",\n    fields: {\n      style: \"watercolor painting artistry\",\n      color_palette: \"flowing watercolor blends, soft transitions\",\n      lighting_type: \"soft natural artistic light\",\n      camera_angle: \"artistic composition angles\",\n      lens_type: \"soft focus for painting quality\",\n      depth_of_field: \"artistic watercolor blur\"\n    },\n    customDetails: \"Flowing watercolor painting with soft color transitions, paper texture, and organic artistic flow\"\n  },\n\n  \"3d-rendered\": {\n    id: \"3d-rendered\",\n    name: \"3D Rendered\",\n    description: \"Clean 3D rendered aesthetic with smooth surfaces and perfect lighting\",\n    category: \"art\",\n    tags: [\"3d\", \"rendered\", \"digital\", \"clean\", \"smooth\"],\n    useCase: \"3D content, digital art visuals, clean storytelling\",\n    fields: {\n      style: \"3D digital rendering\",\n      color_palette: \"clean digital colors, perfect gradients\",\n      lighting_type: \"perfect 3D studio lighting\",\n      camera_angle: \"precise 3D camera angles\",\n      lens_type: \"digital lens perfection\",\n      depth_of_field: \"3D depth of field control\"\n    },\n    customDetails: \"Perfect 3D rendered world with smooth surfaces, clean textures, and digital precision\"\n  },\n\n  \"pencil-sketch\": {\n    id: \"pencil-sketch\",\n    name: \"Pencil Sketch\",\n    description: \"Hand-drawn pencil sketch aesthetic with graphite textures and paper grain\",\n    category: \"art\",\n    tags: [\"pencil\", \"sketch\", \"drawing\", \"graphite\", \"hand-drawn\"],\n    useCase: \"Sketch content, drawing visuals, artistic storytelling\",\n    fields: {\n      style: \"pencil sketch artistry\",\n      color_palette: \"graphite grays, paper whites, sketch tones\",\n      lighting_type: \"natural drawing light\",\n      camera_angle: \"sketch composition angles\",\n      lens_type: \"standard for sketch clarity\",\n      depth_of_field: \"sketch drawing focus\"\n    },\n    customDetails: \"Hand-drawn pencil world with graphite textures, paper grain, and artistic sketch energy\"\n  },\n\n  \"oil-painting\": {\n    id: \"oil-painting\",\n    name: \"Oil Painting\",\n    description: \"Rich oil painting aesthetic with thick brushstrokes and canvas texture\",\n    category: \"art\",\n    tags: [\"oil\", \"painting\", \"brushstrokes\", \"canvas\", \"rich\"],\n    useCase: \"Classical art content, painting visuals, rich storytelling\",\n    fields: {\n      style: \"oil painting mastery\",\n      color_palette: \"rich oil paint colors, deep saturation\",\n      lighting_type: \"classical painting light\",\n      camera_angle: \"classical composition angles\",\n      lens_type: \"standard for painting detail\",\n      depth_of_field: \"painting depth layers\"\n    },\n    customDetails: \"Classical oil painting with thick impasto brushstrokes, canvas texture, and rich artistic tradition\"\n  },\n\n  \"digital-illustration\": {\n    id: \"digital-illustration\",\n    name: \"Digital Illustration\",\n    description: \"Modern digital illustration with clean lines and vibrant colors\",\n    category: \"illustration\",\n    tags: [\"digital\", \"illustration\", \"clean\", \"modern\", \"vibrant\"],\n    useCase: \"Digital art content, illustration visuals, modern storytelling\",\n    fields: {\n      style: \"digital illustration artistry\",\n      color_palette: \"vibrant digital colors, clean gradients\",\n      lighting_type: \"digital illustration lighting\",\n      camera_angle: \"illustration composition angles\",\n      lens_type: \"digital lens clarity\",\n      depth_of_field: \"illustration depth control\"\n    },\n    customDetails: \"Modern digital illustration with clean vector lines, vibrant colors, and contemporary artistic style\"\n  },\n\n  \"ink-wash\": {\n    id: \"ink-wash\",\n    name: \"Ink Wash\",\n    description: \"Traditional ink wash aesthetic with flowing black ink and water effects\",\n    category: \"art\",\n    tags: [\"ink\", \"wash\", \"traditional\", \"flowing\", \"monochrome\"],\n    useCase: \"Traditional art content, ink visuals, flowing storytelling\",\n    fields: {\n      style: \"ink wash tradition\",\n      color_palette: \"black ink gradients, water flow tones\",\n      lighting_type: \"natural ink wash light\",\n      camera_angle: \"traditional composition angles\",\n      lens_type: \"standard for ink detail\",\n      depth_of_field: \"ink wash flow focus\"\n    },\n    customDetails: \"Traditional ink wash painting with flowing black ink, water effects, and meditative artistic flow\"\n  },\n\n  \"vector-graphics\": {\n    id: \"vector-graphics\",\n    name: \"Vector Graphics\",\n    description: \"Clean vector graphic aesthetic with geometric shapes and bold colors\",\n    category: \"illustration\",\n    tags: [\"vector\", \"graphics\", \"geometric\", \"clean\", \"bold\"],\n    useCase: \"Graphic design content, vector visuals, clean storytelling\",\n    fields: {\n      style: \"vector graphic design\",\n      color_palette: \"bold flat colors, clean gradients\",\n      lighting_type: \"even graphic lighting\",\n      camera_angle: \"graphic design angles\",\n      lens_type: \"digital vector clarity\",\n      depth_of_field: \"vector graphic sharpness\"\n    },\n    customDetails: \"Clean vector graphic world with geometric precision, bold flat colors, and graphic design clarity\"\n  },\n\n  \"charcoal-drawing\": {\n    id: \"charcoal-drawing\",\n    name: \"Charcoal Drawing\",\n    description: \"Dramatic charcoal drawing aesthetic with deep blacks and soft smudging\",\n    category: \"art\",\n    tags: [\"charcoal\", \"drawing\", \"dramatic\", \"smudging\", \"contrast\"],\n    useCase: \"Dramatic art content, drawing visuals, contrast storytelling\",\n    fields: {\n      style: \"charcoal drawing drama\",\n      color_palette: \"charcoal blacks, paper whites, soft grays\",\n      lighting_type: \"dramatic drawing light\",\n      camera_angle: \"dramatic composition angles\",\n      lens_type: \"standard for charcoal texture\",\n      depth_of_field: \"charcoal drawing focus\"\n    },\n    customDetails: \"Dramatic charcoal drawing with deep blacks, soft smudging, and powerful contrast effects\"\n  },\n\n  \"collage-mixed\": {\n    id: \"collage-mixed\",\n    name: \"Collage Mixed Media\",\n    description: \"Mixed media collage aesthetic with layered textures and diverse materials\",\n    category: \"art\",\n    tags: [\"collage\", \"mixed-media\", \"layered\", \"textured\", \"diverse\"],\n    useCase: \"Mixed media content, collage visuals, layered storytelling\",\n    fields: {\n      style: \"mixed media collage\",\n      color_palette: \"diverse material colors, layered tones\",\n      lighting_type: \"mixed media lighting\",\n      camera_angle: \"collage composition angles\",\n      lens_type: \"standard for texture detail\",\n      depth_of_field: \"layered media focus\"\n    },\n    customDetails: \"Creative mixed media collage with layered textures, diverse materials, and artistic experimentation\"\n  },\n\n  \"pastel-drawing\": {\n    id: \"pastel-drawing\",\n    name: \"Pastel Drawing\",\n    description: \"Soft pastel drawing aesthetic with blended colors and gentle textures\",\n    category: \"art\",\n    tags: [\"pastel\", \"drawing\", \"soft\", \"blended\", \"gentle\"],\n    useCase: \"Soft art content, pastel visuals, gentle storytelling\",\n    fields: {\n      style: \"pastel drawing softness\",\n      color_palette: \"soft pastel colors, gentle blends\",\n      lighting_type: \"soft pastel light\",\n      camera_angle: \"gentle composition angles\",\n      lens_type: \"soft focus for pastel quality\",\n      depth_of_field: \"pastel drawing softness\"\n    },\n    customDetails: \"Gentle pastel drawing with soft color blending, textured paper, and delicate artistic touch\"\n  },\n\n  \"comic-book\": {\n    id: \"comic-book\",\n    name: \"Comic Book\",\n    description: \"Bold comic book aesthetic with strong outlines and pop art colors\",\n    category: \"illustration\",\n    tags: [\"comic\", \"book\", \"bold\", \"outlines\", \"pop\"],\n    useCase: \"Comic content, graphic novel visuals, bold storytelling\",\n    fields: {\n      style: \"comic book artistry\",\n      color_palette: \"bold comic colors, high contrast\",\n      lighting_type: \"dramatic comic lighting\",\n      camera_angle: \"dynamic comic angles\",\n      lens_type: \"standard for comic clarity\",\n      depth_of_field: \"comic book focus\"\n    },\n    customDetails: \"Dynamic comic book world with bold outlines, speech bubbles, and superhero visual energy\"\n  },\n\n  \"abstract-expressionism\": {\n    id: \"abstract-expressionism\",\n    name: \"Abstract Expressionism\",\n    description: \"Expressive abstract aesthetic with bold brushstrokes and emotional color\",\n    category: \"art\",\n    tags: [\"abstract\", \"expressionism\", \"bold\", \"emotional\", \"painterly\"],\n    useCase: \"Abstract art content, expressive visuals, emotional storytelling\",\n    fields: {\n      style: \"abstract expressionist painting\",\n      color_palette: \"bold expressive colors, emotional tones\",\n      lighting_type: \"expressive artistic light\",\n      camera_angle: \"abstract composition angles\",\n      lens_type: \"standard for abstract detail\",\n      depth_of_field: \"expressive painting focus\"\n    },\n    customDetails: \"Bold abstract expressionist painting with emotional brushstrokes, expressive color, and artistic freedom\"\n  }\n};\n\n// Style category organization for director styles\nexport const directorCategories = {\n  precision: {\n    name: \"Precision Masters\",\n    icon: \"🎯\",\n    presets: [\"kubrick-symmetry\", \"anderson-centered\", \"fincher-precision\"]\n  },\n  dialogue: {\n    name: \"Dialogue Driven\", \n    icon: \"💬\",\n    presets: [\"tarantino-dialogue\", \"spielberg-family\", \"johnson-mystery\"]\n  },\n  movement: {\n    name: \"Dynamic Movement\",\n    icon: \"🎬\",\n    presets: [\"scorsese-tracking\", \"wright-dynamic\", \"bay-explosion\"]\n  },\n  epic: {\n    name: \"Epic Scale\",\n    icon: \"🌅\",\n    presets: [\"nolan-complexity\", \"villeneuve-epic\", \"zhao-naturalistic\"]\n  },\n  genre: {\n    name: \"Genre Masters\",\n    icon: \"🎭\",\n    presets: [\"wright-cornetto\", \"carpenter-horror\", \"peele-horror\", \"bong-genre\"]\n  },\n  intimate: {\n    name: \"Intimate Character\",\n    icon: \"💫\",\n    presets: [\"jenkins-intimate\", \"wang-cultural\"]\n  },\n  aesthetic: {\n    name: \"Visual Aesthetics\",\n    icon: \"🎨\",\n    presets: [\"gothic-dark\", \"pastel-soft\", \"cyberpunk-neon\", \"minimalist-clean\", \"vintage-retro\", \"industrial-gritty\", \"bohemian-artistic\", \"luxury-opulent\", \"nature-organic\", \"pop-art-vibrant\", \"steampunk-vintage\", \"ethereal-mystical\"]\n  },\n  art: {\n    name: \"Art & Illustration\",\n    icon: \"🖼️\",\n    presets: [\"watercolor-painting\", \"3d-rendered\", \"pencil-sketch\", \"oil-painting\", \"digital-illustration\", \"ink-wash\", \"vector-graphics\", \"charcoal-drawing\", \"collage-mixed\", \"pastel-drawing\", \"comic-book\", \"abstract-expressionism\"]\n  }\n};","export const audioPresets = {\n  // MUSIC STYLE PRESETS (8 presets)\n  \"cinematic-orchestral\": {\n    id: \"cinematic-orchestral\",\n    name: \"Cinematic Orchestral\",\n    description: \"Full orchestral score with emotional depth and grandeur\",\n    category: \"music\",\n    tags: [\"orchestral\", \"cinematic\", \"emotional\", \"grand\"],\n    useCase: \"Epic scenes, emotional moments, grand reveals, film scoring\",\n    fields: {\n      music_style: \"cinematic orchestral\",\n      audio_mood: \"dramatic\",\n      sound_effects: \"orchestral instruments\",\n      background_audio: \"full orchestra with strings, brass, and percussion\"\n    },\n    customDetails: \"Rich orchestral arrangements with sweeping strings, powerful brass, and dynamic percussion creating emotional cinematic moments\"\n  },\n\n  \"ambient-electronic\": {\n    id: \"ambient-electronic\",\n    name: \"Ambient Electronic\",\n    description: \"Atmospheric electronic soundscapes with subtle textures\",\n    category: \"music\",\n    tags: [\"ambient\", \"electronic\", \"atmospheric\", \"subtle\"],\n    useCase: \"Futuristic scenes, contemplative moments, sci-fi backgrounds, meditation content\",\n    fields: {\n      music_style: \"ambient electronic\",\n      audio_mood: \"calm\",\n      sound_effects: \"synthesizer pads and textures\",\n      background_audio: \"ethereal electronic soundscapes with subtle beats\"\n    },\n    customDetails: \"Floating electronic textures with gentle synthesizer pads, creating spacious and contemplative sonic environments\"\n  },\n\n  \"jazz-noir\": {\n    id: \"jazz-noir\",\n    name: \"Jazz Noir\",\n    description: \"Smoky jazz with saxophone and piano in classic noir style\",\n    category: \"music\",\n    tags: [\"jazz\", \"noir\", \"sophisticated\", \"smoky\"],\n    useCase: \"Detective scenes, sophisticated content, nighttime ambiance, retro aesthetics\",\n    fields: {\n      music_style: \"jazz noir\",\n      audio_mood: \"mysterious\",\n      sound_effects: \"saxophone and piano\",\n      background_audio: \"smoky jazz club atmosphere with muted trumpet and walking bass\"\n    },\n    customDetails: \"Classic noir jazz with sultry saxophone, moody piano, and the sophisticated atmosphere of smoky jazz clubs\"\n  },\n\n  \"folk-acoustic\": {\n    id: \"folk-acoustic\",\n    name: \"Folk Acoustic\",\n    description: \"Warm acoustic instruments with organic, earthy tones\",\n    category: \"music\",\n    tags: [\"folk\", \"acoustic\", \"warm\", \"organic\"],\n    useCase: \"Nature content, intimate moments, rustic settings, authentic storytelling\",\n    fields: {\n      music_style: \"folk acoustic\",\n      audio_mood: \"peaceful\",\n      sound_effects: \"acoustic guitar and natural instruments\",\n      background_audio: \"warm acoustic guitar with gentle percussion and organic textures\"\n    },\n    customDetails: \"Earthy acoustic arrangements with fingerpicked guitar, subtle percussion, and the warmth of natural wooden instruments\"\n  },\n\n  \"synthwave-retro\": {\n    id: \"synthwave-retro\",\n    name: \"Synthwave Retro\",\n    description: \"80s-inspired electronic music with nostalgic synthesizers\",\n    category: \"music\",\n    tags: [\"synthwave\", \"80s\", \"retro\", \"electronic\"],\n    useCase: \"Retro content, neon aesthetics, nostalgic scenes, cyberpunk themes\",\n    fields: {\n      music_style: \"synthwave retro\",\n      audio_mood: \"energetic\",\n      sound_effects: \"vintage synthesizers and drum machines\",\n      background_audio: \"pulsing synthesizers with nostalgic 80s drum patterns and neon atmosphere\"\n    },\n    customDetails: \"Nostalgic 80s electronic sounds with pulsing synthesizers, vintage drum machines, and the glow of neon-soaked nostalgia\"\n  },\n\n  \"minimalist-piano\": {\n    id: \"minimalist-piano\",\n    name: \"Minimalist Piano\",\n    description: \"Simple, elegant piano melodies with space and emotion\",\n    category: \"music\",\n    tags: [\"minimalist\", \"piano\", \"elegant\", \"emotional\"],\n    useCase: \"Emotional scenes, contemplative moments, intimate conversations, artistic content\",\n    fields: {\n      music_style: \"minimalist piano\",\n      audio_mood: \"melancholic\",\n      sound_effects: \"solo piano\",\n      background_audio: \"delicate piano melodies with natural room reverb and emotional space\"\n    },\n    customDetails: \"Pure piano expression with delicate melodies, natural reverb, and the emotional power of minimalist composition\"\n  },\n\n  \"world-fusion\": {\n    id: \"world-fusion\",\n    name: \"World Fusion\",\n    description: \"Global instruments blended with modern production\",\n    category: \"music\",\n    tags: [\"world\", \"fusion\", \"global\", \"cultural\"],\n    useCase: \"Cultural content, travel scenes, global perspectives, diverse storytelling\",\n    fields: {\n      music_style: \"world fusion\",\n      audio_mood: \"uplifting\",\n      sound_effects: \"traditional instruments from various cultures\",\n      background_audio: \"blend of global instruments with modern rhythms and cultural textures\"\n    },\n    customDetails: \"Rich cultural tapestry of global instruments including tabla, sitar, djembe, and flutes woven with contemporary production\"\n  },\n\n  \"lo-fi-chill\": {\n    id: \"lo-fi-chill\",\n    name: \"Lo-Fi Chill\",\n    description: \"Relaxed beats with warm, nostalgic vinyl texture\",\n    category: \"music\",\n    tags: [\"lo-fi\", \"chill\", \"relaxed\", \"nostalgic\"],\n    useCase: \"Study scenes, relaxed content, cozy atmospheres, casual moments\",\n    fields: {\n      music_style: \"lo-fi chill\",\n      audio_mood: \"calm\",\n      sound_effects: \"vinyl crackle and mellow beats\",\n      background_audio: \"relaxed hip-hop beats with vintage vinyl warmth and cozy atmosphere\"\n    },\n    customDetails: \"Cozy lo-fi beats with vinyl crackle, mellow drums, and the warm nostalgia of analog recording imperfections\"\n  },\n\n  // SOUND EFFECT PRESETS (6 presets)\n  \"urban-city\": {\n    id: \"urban-city\",\n    name: \"Urban City Sounds\",\n    description: \"Bustling city atmosphere with traffic and urban life\",\n    category: \"sound-effects\",\n    tags: [\"urban\", \"city\", \"traffic\", \"bustling\"],\n    useCase: \"City scenes, urban environments, busy streets, metropolitan content\",\n    fields: {\n      sound_effects: \"city traffic and urban ambiance\",\n      background_audio: \"car horns, footsteps, and distant city hum\",\n      audio_mood: \"energetic\"\n    },\n    customDetails: \"Dynamic urban soundscape with car engines, pedestrian chatter, construction sounds, and the constant hum of city life\"\n  },\n\n  \"nature-forest\": {\n    id: \"nature-forest\",\n    name: \"Nature Forest Sounds\",\n    description: \"Peaceful forest ambiance with birds and rustling leaves\",\n    category: \"sound-effects\",\n    tags: [\"nature\", \"forest\", \"birds\", \"peaceful\"],\n    useCase: \"Nature content, peaceful scenes, outdoor environments, meditation\",\n    fields: {\n      sound_effects: \"bird songs and rustling leaves\",\n      background_audio: \"forest ambiance with gentle wind through trees\",\n      audio_mood: \"peaceful\"\n    },\n    customDetails: \"Serene forest environment with chirping birds, rustling leaves, distant woodpecker, and gentle wind through the canopy\"\n  },\n\n  \"ocean-waves\": {\n    id: \"ocean-waves\",\n    name: \"Ocean Waves\",\n    description: \"Rhythmic ocean waves with seagulls and coastal atmosphere\",\n    category: \"sound-effects\",\n    tags: [\"ocean\", \"waves\", \"coastal\", \"rhythmic\"],\n    useCase: \"Beach scenes, coastal content, relaxation, water environments\",\n    fields: {\n      sound_effects: \"ocean waves and seagulls\",\n      background_audio: \"rhythmic wave crashes with coastal wind\",\n      audio_mood: \"calm\"\n    },\n    customDetails: \"Hypnotic ocean rhythm with crashing waves, distant seagulls, salty breeze, and the timeless sound of water meeting shore\"\n  },\n\n  \"thunderstorm\": {\n    id: \"thunderstorm\",\n    name: \"Thunderstorm\",\n    description: \"Dramatic storm with thunder, rain, and lightning\",\n    category: \"sound-effects\",\n    tags: [\"storm\", \"thunder\", \"rain\", \"dramatic\"],\n    useCase: \"Dramatic scenes, weather content, tension building, natural power\",\n    fields: {\n      sound_effects: \"thunder and heavy rain\",\n      background_audio: \"storm atmosphere with wind and lightning\",\n      audio_mood: \"tense\"\n    },\n    customDetails: \"Powerful storm environment with rolling thunder, heavy rainfall, howling wind, and the electric atmosphere of lightning\"\n  },\n\n  \"cafe-ambiance\": {\n    id: \"cafe-ambiance\",\n    name: \"Cafe Ambiance\",\n    description: \"Cozy coffee shop atmosphere with chatter and coffee sounds\",\n    category: \"sound-effects\",\n    tags: [\"cafe\", \"cozy\", \"coffee\", \"social\"],\n    useCase: \"Coffee shop scenes, social environments, cozy settings, conversation backgrounds\",\n    fields: {\n      sound_effects: \"coffee machine and gentle chatter\",\n      background_audio: \"cafe atmosphere with clinking cups and soft conversation\",\n      audio_mood: \"comfortable\"\n    },\n    customDetails: \"Warm cafe environment with espresso machine hissing, friendly chatter, clinking ceramics, and cozy social atmosphere\"\n  },\n\n  \"space-ambient\": {\n    id: \"space-ambient\",\n    name: \"Space Ambient\",\n    description: \"Ethereal space sounds with cosmic atmosphere\",\n    category: \"sound-effects\",\n    tags: [\"space\", \"cosmic\", \"ethereal\", \"sci-fi\"],\n    useCase: \"Sci-fi content, space scenes, futuristic environments, cosmic themes\",\n    fields: {\n      sound_effects: \"cosmic ambiance and ethereal tones\",\n      background_audio: \"space atmosphere with distant cosmic sounds\",\n      audio_mood: \"mysterious\"\n    },\n    customDetails: \"Otherworldly cosmic soundscape with distant stellar winds, ethereal drones, and the vast silence of infinite space\"\n  },\n\n  // CINEMATIC SCORE PRESETS (12 presets)\n  \"epic-battle-score\": {\n    id: \"epic-battle-score\",\n    name: \"Epic Battle Score\",\n    description: \"Intense orchestral music for combat and action sequences\",\n    category: \"cinematic\",\n    tags: [\"epic\", \"battle\", \"orchestral\", \"intense\", \"action\"],\n    useCase: \"Action scenes, battles, heroic moments, climactic fights\",\n    fields: {\n      music_style: \"epic orchestral battle\",\n      audio_mood: \"intense\",\n      sound_effects: \"dramatic percussion and brass\",\n      background_audio: \"powerful orchestra with war drums and heroic themes\"\n    },\n    customDetails: \"Thunderous orchestral arrangements with driving percussion, soaring brass, and the musical language of heroic conflict\"\n  },\n\n  \"suspenseful-thriller\": {\n    id: \"suspenseful-thriller\",\n    name: \"Suspenseful Thriller\",\n    description: \"Tense, building music that creates anxiety and anticipation\",\n    category: \"cinematic\",\n    tags: [\"suspense\", \"thriller\", \"tense\", \"building\", \"anxiety\"],\n    useCase: \"Thriller scenes, building tension, mystery reveals, psychological drama\",\n    fields: {\n      music_style: \"suspenseful orchestral\",\n      audio_mood: \"tense\",\n      sound_effects: \"string tremolo and dissonant chords\",\n      background_audio: \"building orchestral tension with ominous undertones\"\n    },\n    customDetails: \"Masterful tension building with trembling strings, ominous brass stabs, and the musical architecture of suspense\"\n  },\n\n  \"emotional-heartbreak\": {\n    id: \"emotional-heartbreak\",\n    name: \"Emotional Heartbreak\",\n    description: \"Deeply moving orchestral music for tragic and emotional moments\",\n    category: \"cinematic\",\n    tags: [\"emotional\", \"heartbreak\", \"tragic\", \"moving\", \"sad\"],\n    useCase: \"Sad scenes, character deaths, heartbreak moments, emotional revelations\",\n    fields: {\n      music_style: \"emotional orchestral\",\n      audio_mood: \"melancholic\",\n      sound_effects: \"solo violin and gentle strings\",\n      background_audio: \"heartbreaking orchestral themes with delicate instrumentation\"\n    },\n    customDetails: \"Tear-inducing orchestral beauty with solo violin, gentle strings, and the profound emotional weight of musical storytelling\"\n  },\n\n  \"heroic-triumph\": {\n    id: \"heroic-triumph\",\n    name: \"Heroic Triumph\",\n    description: \"Uplifting orchestral music celebrating victory and achievement\",\n    category: \"cinematic\",\n    tags: [\"heroic\", \"triumph\", \"victory\", \"uplifting\", \"celebration\"],\n    useCase: \"Victory scenes, hero moments, achievements, positive resolutions\",\n    fields: {\n      music_style: \"heroic orchestral\",\n      audio_mood: \"triumphant\",\n      sound_effects: \"soaring brass and full orchestra\",\n      background_audio: \"victorious orchestral themes with golden brass and sweeping strings\"\n    },\n    customDetails: \"Soaring orchestral celebration with triumphant brass, sweeping strings, and the musical expression of heroic victory\"\n  },\n\n  \"dark-villain-theme\": {\n    id: \"dark-villain-theme\",\n    name: \"Dark Villain Theme\",\n    description: \"Ominous orchestral music representing evil and darkness\",\n    category: \"cinematic\",\n    tags: [\"dark\", \"villain\", \"evil\", \"ominous\", \"threatening\"],\n    useCase: \"Villain scenes, evil reveals, dark moments, threatening atmospheres\",\n    fields: {\n      music_style: \"dark orchestral\",\n      audio_mood: \"menacing\",\n      sound_effects: \"low brass and ominous percussion\",\n      background_audio: \"sinister orchestral themes with dark harmonies and threatening motifs\"\n    },\n    customDetails: \"Menacing orchestral darkness with rumbling low brass, ominous percussion, and the musical embodiment of evil presence\"\n  },\n\n  \"romantic-love-theme\": {\n    id: \"romantic-love-theme\",\n    name: \"Romantic Love Theme\",\n    description: \"Beautiful orchestral music for romantic and intimate moments\",\n    category: \"cinematic\",\n    tags: [\"romantic\", \"love\", \"beautiful\", \"intimate\", \"tender\"],\n    useCase: \"Romance scenes, love moments, intimate conversations, wedding scenes\",\n    fields: {\n      music_style: \"romantic orchestral\",\n      audio_mood: \"romantic\",\n      sound_effects: \"warm strings and gentle woodwinds\",\n      background_audio: \"tender orchestral romance with flowing melodies and warm harmonies\"\n    },\n    customDetails: \"Tender orchestral romance with flowing strings, gentle woodwinds, and the musical language of love and intimacy\"\n  },\n\n  \"adventure-quest\": {\n    id: \"adventure-quest\",\n    name: \"Adventure Quest\",\n    description: \"Exciting orchestral music for journeys and exploration\",\n    category: \"cinematic\",\n    tags: [\"adventure\", \"quest\", \"journey\", \"exploration\", \"exciting\"],\n    useCase: \"Adventure scenes, travel montages, exploration, quest beginnings\",\n    fields: {\n      music_style: \"adventure orchestral\",\n      audio_mood: \"adventurous\",\n      sound_effects: \"playful woodwinds and rhythmic strings\",\n      background_audio: \"spirited orchestral adventure with driving rhythms and exploratory themes\"\n    },\n    customDetails: \"Spirited orchestral adventure with playful woodwinds, driving rhythms, and the musical spirit of exploration and discovery\"\n  },\n\n  \"mystery-investigation\": {\n    id: \"mystery-investigation\",\n    name: \"Mystery Investigation\",\n    description: \"Intriguing orchestral music for detective work and mysteries\",\n    category: \"cinematic\",\n    tags: [\"mystery\", \"investigation\", \"detective\", \"intrigue\", \"puzzle\"],\n    useCase: \"Detective scenes, investigation montages, mystery solving, clue discoveries\",\n    fields: {\n      music_style: \"mystery orchestral\",\n      audio_mood: \"mysterious\",\n      sound_effects: \"pizzicato strings and muted brass\",\n      background_audio: \"intriguing orchestral mystery with subtle percussion and questioning themes\"\n    },\n    customDetails: \"Intriguing orchestral mystery with pizzicato strings, muted brass, and the musical language of investigation and discovery\"\n  },\n\n  \"chase-pursuit\": {\n    id: \"chase-pursuit\",\n    name: \"Chase Pursuit\",\n    description: \"Fast-paced orchestral music for chase scenes and urgent action\",\n    category: \"cinematic\",\n    tags: [\"chase\", \"pursuit\", \"fast-paced\", \"urgent\", \"action\"],\n    useCase: \"Chase scenes, urgent moments, escape sequences, high-speed action\",\n    fields: {\n      music_style: \"chase orchestral\",\n      audio_mood: \"urgent\",\n      sound_effects: \"rapid strings and driving percussion\",\n      background_audio: \"relentless orchestral chase with accelerating rhythms and urgent themes\"\n    },\n    customDetails: \"Relentless orchestral pursuit with rapid string ostinatos, driving percussion, and the musical embodiment of urgent chase action\"\n  },\n\n  \"magical-wonder\": {\n    id: \"magical-wonder\",\n    name: \"Magical Wonder\",\n    description: \"Enchanting orchestral music for magical and fantastical moments\",\n    category: \"cinematic\",\n    tags: [\"magical\", \"wonder\", \"enchanting\", \"fantasy\", \"mystical\"],\n    useCase: \"Magic scenes, fantasy moments, wonder reveals, mystical environments\",\n    fields: {\n      music_style: \"magical orchestral\",\n      audio_mood: \"enchanted\",\n      sound_effects: \"ethereal harp and celestial chimes\",\n      background_audio: \"mystical orchestral wonder with sparkling textures and magical themes\"\n    },\n    customDetails: \"Ethereal orchestral magic with sparkling harp, celestial chimes, and the musical expression of wonder and enchantment\"\n  },\n\n  \"sci-fi-cosmos\": {\n    id: \"sci-fi-cosmos\",\n    name: \"Sci-Fi Cosmos\",\n    description: \"Futuristic orchestral music for space and science fiction\",\n    category: \"cinematic\",\n    tags: [\"sci-fi\", \"space\", \"futuristic\", \"cosmic\", \"technology\"],\n    useCase: \"Sci-fi scenes, space exploration, futuristic technology, cosmic wonder\",\n    fields: {\n      music_style: \"sci-fi orchestral\",\n      audio_mood: \"futuristic\",\n      sound_effects: \"electronic textures and orchestral blend\",\n      background_audio: \"cosmic orchestral soundscape with electronic elements and space themes\"\n    },\n    customDetails: \"Futuristic orchestral cosmos with electronic textures, otherworldly harmonies, and the musical language of space exploration\"\n  },\n\n  \"horror-dread\": {\n    id: \"horror-dread\",\n    name: \"Horror Dread\",\n    description: \"Terrifying orchestral music for horror and frightening scenes\",\n    category: \"cinematic\",\n    tags: [\"horror\", \"dread\", \"scary\", \"terrifying\", \"frightening\"],\n    useCase: \"Horror scenes, scary moments, dread building, frightening reveals\",\n    fields: {\n      music_style: \"horror orchestral\",\n      audio_mood: \"terrifying\",\n      sound_effects: \"dissonant strings and ominous brass\",\n      background_audio: \"spine-chilling orchestral horror with unsettling harmonies and dread-inducing themes\"\n    },\n    customDetails: \"Spine-chilling orchestral terror with dissonant strings, jarring brass stabs, and the musical embodiment of pure dread\"\n  },\n\n  // DIALOGUE/VOICE PRESETS (12 presets)\n  \"dramatic-monologue\": {\n    id: \"dramatic-monologue\",\n    name: \"Dramatic Monologue\",\n    description: \"Powerful, emotional speech delivery with theatrical presence\",\n    category: \"dialogue\",\n    tags: [\"dramatic\", \"monologue\", \"emotional\", \"theatrical\", \"powerful\"],\n    useCase: \"Important speeches, character revelations, dramatic moments, soliloquies\",\n    fields: {\n      dialogue_style: \"dramatic monologue\",\n      voice_tone: \"passionate and emotional\",\n      audio_mood: \"intense\",\n      sound_effects: \"subtle reverb for dramatic emphasis\"\n    },\n    customDetails: \"Commanding dramatic delivery with emotional depth, theatrical timing, and the vocal power of important character moments\"\n  },\n\n  \"whispered-secrets\": {\n    id: \"whispered-secrets\",\n    name: \"Whispered Secrets\",\n    description: \"Intimate, hushed dialogue for private and secretive moments\",\n    category: \"dialogue\",\n    tags: [\"whispered\", \"secrets\", \"intimate\", \"hushed\", \"private\"],\n    useCase: \"Secret conversations, intimate moments, conspiracy scenes, private revelations\",\n    fields: {\n      dialogue_style: \"whispered conversation\",\n      voice_tone: \"intimate and secretive\",\n      audio_mood: \"mysterious\",\n      sound_effects: \"close proximity recording with subtle ambient\"\n    },\n    customDetails: \"Intimate whispered delivery with close microphone placement, creating the feeling of shared secrets and private moments\"\n  },\n\n  \"sarcastic-wit\": {\n    id: \"sarcastic-wit\",\n    name: \"Sarcastic Wit\",\n    description: \"Sharp, clever dialogue delivery with sarcastic timing\",\n    category: \"dialogue\",\n    tags: [\"sarcastic\", \"wit\", \"clever\", \"sharp\", \"humorous\"],\n    useCase: \"Comedy scenes, witty banter, sarcastic characters, humorous moments\",\n    fields: {\n      dialogue_style: \"sarcastic delivery\",\n      voice_tone: \"witty and sharp\",\n      audio_mood: \"playful\",\n      sound_effects: \"crisp dialogue with comedic timing\"\n    },\n    customDetails: \"Sharp sarcastic delivery with perfect comedic timing, emphasizing wit and clever wordplay with vocal precision\"\n  },\n\n  \"authoritative-command\": {\n    id: \"authoritative-command\",\n    name: \"Authoritative Command\",\n    description: \"Strong, commanding voice for leadership and authority\",\n    category: \"dialogue\",\n    tags: [\"authoritative\", \"command\", \"leadership\", \"strong\", \"powerful\"],\n    useCase: \"Leadership scenes, military commands, boss characters, authority figures\",\n    fields: {\n      dialogue_style: \"commanding authority\",\n      voice_tone: \"strong and decisive\",\n      audio_mood: \"confident\",\n      sound_effects: \"clear projection with natural authority\"\n    },\n    customDetails: \"Commanding vocal presence with natural authority, clear projection, and the vocal qualities of leadership and decision-making\"\n  },\n\n  \"nervous-stammering\": {\n    id: \"nervous-stammering\",\n    name: \"Nervous Stammering\",\n    description: \"Anxious, hesitant speech patterns showing nervousness\",\n    category: \"dialogue\",\n    tags: [\"nervous\", \"stammering\", \"anxious\", \"hesitant\", \"uncertain\"],\n    useCase: \"Nervous characters, anxiety scenes, awkward moments, uncertainty\",\n    fields: {\n      dialogue_style: \"nervous stammering\",\n      voice_tone: \"anxious and uncertain\",\n      audio_mood: \"uncomfortable\",\n      sound_effects: \"hesitant delivery with natural speech patterns\"\n    },\n    customDetails: \"Authentic nervous delivery with natural hesitations, stammers, and the vocal patterns of anxiety and uncertainty\"\n  },\n\n  \"wise-narrator\": {\n    id: \"wise-narrator\",\n    name: \"Wise Narrator\",\n    description: \"Thoughtful, experienced narration with depth and wisdom\",\n    category: \"dialogue\",\n    tags: [\"wise\", \"narrator\", \"thoughtful\", \"experienced\", \"depth\"],\n    useCase: \"Story narration, wise characters, philosophical moments, storytelling\",\n    fields: {\n      dialogue_style: \"wise narration\",\n      voice_tone: \"thoughtful and experienced\",\n      audio_mood: \"contemplative\",\n      sound_effects: \"warm vocal tone with natural wisdom\"\n    },\n    customDetails: \"Thoughtful narrative delivery with the vocal weight of experience, natural wisdom, and the storytelling quality of sage guidance\"\n  },\n\n  \"childlike-wonder\": {\n    id: \"childlike-wonder\",\n    name: \"Childlike Wonder\",\n    description: \"Innocent, curious dialogue full of excitement and discovery\",\n    category: \"dialogue\",\n    tags: [\"childlike\", \"wonder\", \"innocent\", \"curious\", \"excited\"],\n    useCase: \"Child characters, discovery moments, innocent perspectives, wonder scenes\",\n    fields: {\n      dialogue_style: \"childlike wonder\",\n      voice_tone: \"innocent and excited\",\n      audio_mood: \"joyful\",\n      sound_effects: \"bright, curious vocal delivery\"\n    },\n    customDetails: \"Innocent vocal delivery with natural curiosity, excitement, and the pure wonder of discovering the world through young eyes\"\n  },\n\n  \"villain-menace\": {\n    id: \"villain-menace\",\n    name: \"Villain Menace\",\n    description: \"Threatening, sinister dialogue delivery for antagonists\",\n    category: \"dialogue\",\n    tags: [\"villain\", \"menace\", \"threatening\", \"sinister\", \"evil\"],\n    useCase: \"Villain scenes, threatening moments, sinister characters, evil reveals\",\n    fields: {\n      dialogue_style: \"menacing villain\",\n      voice_tone: \"threatening and sinister\",\n      audio_mood: \"menacing\",\n      sound_effects: \"dark vocal presence with subtle threat\"\n    },\n    customDetails: \"Menacing vocal delivery with underlying threat, sinister undertones, and the chilling presence of genuine evil\"\n  },\n\n  \"romantic-tender\": {\n    id: \"romantic-tender\",\n    name: \"Romantic Tender\",\n    description: \"Soft, loving dialogue for romantic and intimate scenes\",\n    category: \"dialogue\",\n    tags: [\"romantic\", \"tender\", \"loving\", \"soft\", \"intimate\"],\n    useCase: \"Romance scenes, love declarations, tender moments, intimate conversations\",\n    fields: {\n      dialogue_style: \"romantic tenderness\",\n      voice_tone: \"soft and loving\",\n      audio_mood: \"romantic\",\n      sound_effects: \"intimate vocal warmth with gentle delivery\"\n    },\n    customDetails: \"Tender romantic delivery with vocal warmth, gentle intimacy, and the soft spoken language of love and affection\"\n  },\n\n  \"comedic-timing\": {\n    id: \"comedic-timing\",\n    name: \"Comedic Timing\",\n    description: \"Perfect comedic delivery with rhythm and timing for humor\",\n    category: \"dialogue\",\n    tags: [\"comedic\", \"timing\", \"humor\", \"funny\", \"rhythm\"],\n    useCase: \"Comedy scenes, jokes, humorous characters, funny moments\",\n    fields: {\n      dialogue_style: \"comedic delivery\",\n      voice_tone: \"humorous and playful\",\n      audio_mood: \"funny\",\n      sound_effects: \"precise comedic timing with natural humor\"\n    },\n    customDetails: \"Perfect comedic delivery with impeccable timing, natural humor, and the vocal rhythm that makes dialogue genuinely funny\"\n  },\n\n  \"elderly-wisdom\": {\n    id: \"elderly-wisdom\",\n    name: \"Elderly Wisdom\",\n    description: \"Aged, weathered voice carrying years of experience and knowledge\",\n    category: \"dialogue\",\n    tags: [\"elderly\", \"wisdom\", \"aged\", \"experienced\", \"weathered\"],\n    useCase: \"Elderly characters, wise mentors, experienced guides, generational wisdom\",\n    fields: {\n      dialogue_style: \"elderly wisdom\",\n      voice_tone: \"aged and experienced\",\n      audio_mood: \"wise\",\n      sound_effects: \"weathered vocal quality with depth of experience\"\n    },\n    customDetails: \"Aged vocal delivery with the weight of years, natural wisdom, and the authentic sound of a life fully lived and experienced\"\n  },\n\n  \"fast-paced-banter\": {\n    id: \"fast-paced-banter\",\n    name: \"Fast-Paced Banter\",\n    description: \"Quick, witty dialogue exchanges with rapid-fire delivery\",\n    category: \"dialogue\",\n    tags: [\"fast-paced\", \"banter\", \"witty\", \"rapid\", \"quick\"],\n    useCase: \"Quick conversations, witty exchanges, banter scenes, rapid dialogue\",\n    fields: {\n      dialogue_style: \"rapid banter\",\n      voice_tone: \"quick and witty\",\n      audio_mood: \"energetic\",\n      sound_effects: \"crisp, fast delivery with perfect timing\"\n    },\n    customDetails: \"Lightning-fast dialogue delivery with crisp articulation, perfect timing, and the energetic rhythm of great conversational banter\"\n  },\n\n  // ATMOSPHERIC/AMBIENT PRESETS (12 presets)\n  \"forest-morning-mist\": {\n    id: \"forest-morning-mist\",\n    name: \"Forest Morning Mist\",\n    description: \"Peaceful forest atmosphere with morning bird songs and gentle mist\",\n    category: \"atmospheric\",\n    tags: [\"forest\", \"morning\", \"peaceful\", \"birds\", \"mist\"],\n    useCase: \"Nature scenes, peaceful moments, forest environments, morning atmospheres\",\n    fields: {\n      sound_effects: \"morning bird songs and rustling leaves\",\n      background_audio: \"gentle forest ambiance with distant bird calls\",\n      audio_mood: \"peaceful\",\n      environment_audio: \"misty forest morning with natural tranquility\"\n    },\n    customDetails: \"Tranquil forest morning with chirping birds, gentle leaf rustling, and the serene atmosphere of dawn in the wilderness\"\n  },\n\n  \"rain-on-window\": {\n    id: \"rain-on-window\",\n    name: \"Rain on Window\",\n    description: \"Gentle rain sounds against glass creating cozy indoor atmosphere\",\n    category: \"atmospheric\",\n    tags: [\"rain\", \"window\", \"cozy\", \"indoor\", \"gentle\"],\n    useCase: \"Indoor scenes, cozy moments, contemplative atmospheres, weather ambiance\",\n    fields: {\n      sound_effects: \"gentle rain against window glass\",\n      background_audio: \"soft rainfall with indoor ambiance\",\n      audio_mood: \"cozy\",\n      environment_audio: \"warm indoor space with gentle rain outside\"\n    },\n    customDetails: \"Cozy indoor atmosphere with gentle raindrops against window glass, creating a warm, contemplative environment perfect for reflection\"\n  },\n\n  \"bustling-marketplace\": {\n    id: \"bustling-marketplace\",\n    name: \"Bustling Marketplace\",\n    description: \"Lively market atmosphere with vendors, crowds, and commerce\",\n    category: \"atmospheric\",\n    tags: [\"marketplace\", \"bustling\", \"vendors\", \"crowds\", \"commerce\"],\n    useCase: \"Market scenes, busy environments, cultural atmospheres, commercial settings\",\n    fields: {\n      sound_effects: \"vendor calls and crowd chatter\",\n      background_audio: \"bustling market activity with commerce sounds\",\n      audio_mood: \"lively\",\n      environment_audio: \"vibrant marketplace with cultural energy\"\n    },\n    customDetails: \"Dynamic marketplace atmosphere with vendor calls, crowd conversations, and the vibrant energy of commercial and cultural exchange\"\n  },\n\n  \"desert-wind-emptiness\": {\n    id: \"desert-wind-emptiness\",\n    name: \"Desert Wind Emptiness\",\n    description: \"Vast desert atmosphere with wind and sparse, isolated sounds\",\n    category: \"atmospheric\",\n    tags: [\"desert\", \"wind\", \"emptiness\", \"vast\", \"isolated\"],\n    useCase: \"Desert scenes, isolation moments, vast landscapes, lonely atmospheres\",\n    fields: {\n      sound_effects: \"desert wind and sparse environmental sounds\",\n      background_audio: \"vast emptiness with occasional wind gusts\",\n      audio_mood: \"lonely\",\n      environment_audio: \"endless desert with haunting wind patterns\"\n    },\n    customDetails: \"Haunting desert atmosphere with persistent wind, vast emptiness, and the profound silence of endless sandy landscapes\"\n  },\n\n  \"mountain-echo-peaks\": {\n    id: \"mountain-echo-peaks\",\n    name: \"Mountain Echo Peaks\",\n    description: \"High altitude atmosphere with echoes and crisp mountain air\",\n    category: \"atmospheric\",\n    tags: [\"mountain\", \"echo\", \"peaks\", \"altitude\", \"crisp\"],\n    useCase: \"Mountain scenes, high altitude environments, echo effects, majestic landscapes\",\n    fields: {\n      sound_effects: \"mountain echoes and wind through peaks\",\n      background_audio: \"high altitude ambiance with natural reverb\",\n      audio_mood: \"majestic\",\n      environment_audio: \"towering peaks with crystal clear mountain air\"\n    },\n    customDetails: \"Majestic mountain atmosphere with natural echoes, crisp high-altitude air, and the profound silence of towering peaks\"\n  },\n\n  \"underwater-depths\": {\n    id: \"underwater-depths\",\n    name: \"Underwater Depths\",\n    description: \"Mysterious underwater atmosphere with muffled sounds and pressure\",\n    category: \"atmospheric\",\n    tags: [\"underwater\", \"depths\", \"mysterious\", \"muffled\", \"pressure\"],\n    useCase: \"Underwater scenes, diving sequences, aquatic environments, submerged atmospheres\",\n    fields: {\n      sound_effects: \"muffled underwater acoustics and bubble sounds\",\n      background_audio: \"deep water ambiance with pressure effects\",\n      audio_mood: \"mysterious\",\n      environment_audio: \"submerged environment with aquatic resonance\"\n    },\n    customDetails: \"Mysterious underwater atmosphere with muffled acoustics, distant whale songs, and the pressure-laden silence of ocean depths\"\n  },\n\n  \"creaky-old-house\": {\n    id: \"creaky-old-house\",\n    name: \"Creaky Old House\",\n    description: \"Atmospheric old building sounds with creaks, settling, and history\",\n    category: \"atmospheric\",\n    tags: [\"old\", \"house\", \"creaky\", \"settling\", \"historic\"],\n    useCase: \"Old building scenes, historic atmospheres, haunted house vibes, aged environments\",\n    fields: {\n      sound_effects: \"wood creaking and house settling sounds\",\n      background_audio: \"old building ambiance with structural sounds\",\n      audio_mood: \"eerie\",\n      environment_audio: \"aged building with decades of accumulated atmosphere\"\n    },\n    customDetails: \"Atmospheric old house with creaking floorboards, settling walls, and the accumulated sonic history of decades past\"\n  },\n\n  \"library-quiet-study\": {\n    id: \"library-quiet-study\",\n    name: \"Library Quiet Study\",\n    description: \"Hushed library atmosphere with subtle page turns and whispers\",\n    category: \"atmospheric\",\n    tags: [\"library\", \"quiet\", \"study\", \"hushed\", \"academic\"],\n    useCase: \"Study scenes, library environments, quiet moments, academic atmospheres\",\n    fields: {\n      sound_effects: \"gentle page turning and subtle footsteps\",\n      background_audio: \"quiet library ambiance with distant whispers\",\n      audio_mood: \"contemplative\",\n      environment_audio: \"scholarly atmosphere with respectful silence\"\n    },\n    customDetails: \"Peaceful library atmosphere with gentle page rustling, soft footsteps, and the contemplative silence of dedicated study\"\n  },\n\n  \"factory-industrial-hum\": {\n    id: \"factory-industrial-hum\",\n    name: \"Factory Industrial Hum\",\n    description: \"Mechanical industrial atmosphere with machinery and rhythmic processes\",\n    category: \"atmospheric\",\n    tags: [\"factory\", \"industrial\", \"machinery\", \"mechanical\", \"rhythmic\"],\n    useCase: \"Industrial scenes, factory environments, mechanical atmospheres, working environments\",\n    fields: {\n      sound_effects: \"machinery hum and industrial processes\",\n      background_audio: \"factory ambiance with rhythmic mechanical sounds\",\n      audio_mood: \"productive\",\n      environment_audio: \"busy industrial facility with constant mechanical activity\"\n    },\n    customDetails: \"Dynamic industrial atmosphere with machinery humming, conveyor belts moving, and the rhythmic pulse of productive manufacturing\"\n  },\n\n  \"campfire-night-wilderness\": {\n    id: \"campfire-night-wilderness\",\n    name: \"Campfire Night Wilderness\",\n    description: \"Cozy campfire atmosphere with crackling flames and night sounds\",\n    category: \"atmospheric\",\n    tags: [\"campfire\", \"night\", \"wilderness\", \"crackling\", \"cozy\"],\n    useCase: \"Camping scenes, outdoor nights, cozy gatherings, wilderness atmospheres\",\n    fields: {\n      sound_effects: \"crackling campfire and distant night sounds\",\n      background_audio: \"wilderness night ambiance with fire warmth\",\n      audio_mood: \"cozy\",\n      environment_audio: \"intimate campfire gathering in natural wilderness\"\n    },\n    customDetails: \"Intimate campfire atmosphere with crackling flames, distant owl calls, and the cozy warmth of fire in the wilderness night\"\n  },\n\n  \"hospital-corridor-sterile\": {\n    id: \"hospital-corridor-sterile\",\n    name: \"Hospital Corridor Sterile\",\n    description: \"Clinical hospital atmosphere with medical equipment and sterile ambiance\",\n    category: \"atmospheric\",\n    tags: [\"hospital\", \"clinical\", \"sterile\", \"medical\", \"corridor\"],\n    useCase: \"Hospital scenes, medical environments, clinical atmospheres, healthcare settings\",\n    fields: {\n      sound_effects: \"medical equipment beeps and footsteps on linoleum\",\n      background_audio: \"sterile hospital ambiance with distant medical activity\",\n      audio_mood: \"clinical\",\n      environment_audio: \"professional medical facility with sterile efficiency\"\n    },\n    customDetails: \"Clinical hospital atmosphere with rhythmic beeping, soft-soled footsteps, and the sterile efficiency of modern medical care\"\n  },\n\n  \"spaceship-bridge-hum\": {\n    id: \"spaceship-bridge-hum\",\n    name: \"Spaceship Bridge Hum\",\n    description: \"Futuristic spacecraft atmosphere with electronic systems and space ambiance\",\n    category: \"atmospheric\",\n    tags: [\"spaceship\", \"futuristic\", \"electronic\", \"systems\", \"space\"],\n    useCase: \"Sci-fi scenes, spaceship environments, futuristic atmospheres, space travel\",\n    fields: {\n      sound_effects: \"electronic systems and spaceship operations\",\n      background_audio: \"futuristic spacecraft ambiance with system hums\",\n      audio_mood: \"futuristic\",\n      environment_audio: \"advanced spacecraft with sophisticated electronic systems\"\n    },\n    customDetails: \"Advanced spacecraft atmosphere with electronic system hums, computer interfaces, and the technological ambiance of space exploration\"\n  },\n\n  // COMEDY/QUIRKY PRESETS (12 presets)\n  \"cartoon-sound-effects\": {\n    id: \"cartoon-sound-effects\",\n    name: \"Cartoon Sound Effects\",\n    description: \"Classic cartoon sounds with exaggerated comedic timing\",\n    category: \"comedy\",\n    tags: [\"cartoon\", \"comedy\", \"exaggerated\", \"classic\", \"animated\"],\n    useCase: \"Comedy scenes, animated content, slapstick humor, cartoon parodies\",\n    fields: {\n      sound_effects: \"cartoon boinks, pops, and comedic sound effects\",\n      audio_mood: \"playful\",\n      background_audio: \"whimsical cartoon atmosphere with bouncy sounds\"\n    },\n    customDetails: \"Classic animated comedy with exaggerated boinks, pops, whistles, and the timeless sound language of cartoon humor\"\n  },\n\n  \"sitcom-laugh-track\": {\n    id: \"sitcom-laugh-track\",\n    name: \"Sitcom Laugh Track\",\n    description: \"Traditional sitcom atmosphere with audience laughter and comedic timing\",\n    category: \"comedy\",\n    tags: [\"sitcom\", \"laugh-track\", \"audience\", \"television\", \"comedic\"],\n    useCase: \"Comedy shows, sitcom content, television parodies, audience comedy\",\n    fields: {\n      sound_effects: \"audience laughter and applause\",\n      audio_mood: \"humorous\",\n      background_audio: \"sitcom studio atmosphere with live audience reactions\"\n    },\n    customDetails: \"Classic sitcom atmosphere with well-timed audience laughter, applause, and the warm communal feeling of shared comedy\"\n  },\n\n  \"quirky-indie-comedy\": {\n    id: \"quirky-indie-comedy\",\n    name: \"Quirky Indie Comedy\",\n    description: \"Offbeat, whimsical sounds for indie comedy and quirky moments\",\n    category: \"comedy\",\n    tags: [\"quirky\", \"indie\", \"whimsical\", \"offbeat\", \"unique\"],\n    useCase: \"Indie comedy, quirky characters, whimsical moments, art house humor\",\n    fields: {\n      sound_effects: \"quirky instrumental sounds and unique textures\",\n      audio_mood: \"whimsical\",\n      background_audio: \"indie comedy atmosphere with unexpected musical elements\"\n    },\n    customDetails: \"Whimsical indie comedy with ukulele, toy instruments, and the charming unpredictability of quirky artistic expression\"\n  },\n\n  \"slapstick-comedy\": {\n    id: \"slapstick-comedy\",\n    name: \"Slapstick Comedy\",\n    description: \"Physical comedy sounds with exaggerated impact and timing\",\n    category: \"comedy\",\n    tags: [\"slapstick\", \"physical\", \"comedy\", \"impact\", \"exaggerated\"],\n    useCase: \"Physical comedy, slapstick scenes, comedic accidents, visual humor\",\n    fields: {\n      sound_effects: \"exaggerated impacts, slaps, and physical comedy sounds\",\n      audio_mood: \"silly\",\n      background_audio: \"bouncy comedy atmosphere with perfectly timed physical sounds\"\n    },\n    customDetails: \"Classic slapstick comedy with exaggerated slaps, bonks, crashes, and the perfectly timed audio of physical humor\"\n  },\n\n  \"office-comedy-ambiance\": {\n    id: \"office-comedy-ambiance\",\n    name: \"Office Comedy Ambiance\",\n    description: \"Workplace comedy atmosphere with office sounds and awkward moments\",\n    category: \"comedy\",\n    tags: [\"office\", \"workplace\", \"comedy\", \"awkward\", \"corporate\"],\n    useCase: \"Office comedy, workplace humor, corporate satire, awkward social moments\",\n    fields: {\n      sound_effects: \"office equipment, keyboard typing, and phone rings\",\n      audio_mood: \"awkward\",\n      background_audio: \"workplace ambiance with comedic office atmosphere\"\n    },\n    customDetails: \"Workplace comedy atmosphere with copy machine sounds, awkward silences, and the subtle humor of corporate environments\"\n  },\n\n  \"parody-music-stingers\": {\n    id: \"parody-music-stingers\",\n    name: \"Parody Music Stingers\",\n    description: \"Short musical comedy stingers for punchlines and comedic moments\",\n    category: \"comedy\",\n    tags: [\"parody\", \"stingers\", \"punchlines\", \"musical\", \"comedy\"],\n    useCase: \"Comedy punchlines, parody moments, musical comedy, comedic reveals\",\n    fields: {\n      sound_effects: \"comedic musical stingers and parody themes\",\n      audio_mood: \"humorous\",\n      background_audio: \"comedy music with perfect timing for punchlines\"\n    },\n    customDetails: \"Sharp comedic musical stingers with perfect punchline timing, parody themes, and the musical language of humor\"\n  },\n\n  \"game-show-sounds\": {\n    id: \"game-show-sounds\",\n    name: \"Game Show Sounds\",\n    description: \"Energetic game show atmosphere with buzzers, bells, and excitement\",\n    category: \"comedy\",\n    tags: [\"game-show\", \"buzzers\", \"bells\", \"energetic\", \"competition\"],\n    useCase: \"Game show parodies, competition scenes, energetic moments, quiz atmospheres\",\n    fields: {\n      sound_effects: \"game show buzzers, bells, and victory sounds\",\n      audio_mood: \"energetic\",\n      background_audio: \"exciting game show atmosphere with competitive energy\"\n    },\n    customDetails: \"High-energy game show atmosphere with dramatic buzzers, victory bells, and the exciting tension of competition and prizes\"\n  },\n\n  \"clown-circus-comedy\": {\n    id: \"clown-circus-comedy\",\n    name: \"Clown Circus Comedy\",\n    description: \"Circus comedy atmosphere with clown sounds and carnival music\",\n    category: \"comedy\",\n    tags: [\"clown\", \"circus\", \"carnival\", \"comedy\", \"whimsical\"],\n    useCase: \"Circus scenes, clown comedy, carnival atmospheres, whimsical moments\",\n    fields: {\n      sound_effects: \"clown horns, circus sounds, and carnival atmosphere\",\n      audio_mood: \"whimsical\",\n      background_audio: \"circus comedy with carnival music and playful sounds\"\n    },\n    customDetails: \"Playful circus comedy with honking clown horns, carousel music, and the whimsical atmosphere of carnival entertainment\"\n  },\n\n  \"romantic-comedy-awkward\": {\n    id: \"romantic-comedy-awkward\",\n    name: \"Romantic Comedy Awkward\",\n    description: \"Awkward romantic comedy atmosphere with sweet and clumsy moments\",\n    category: \"comedy\",\n    tags: [\"romantic\", \"comedy\", \"awkward\", \"sweet\", \"clumsy\"],\n    useCase: \"Romantic comedy, awkward dating, sweet moments, relationship humor\",\n    fields: {\n      sound_effects: \"awkward pauses and sweet romantic comedy sounds\",\n      audio_mood: \"sweet\",\n      background_audio: \"romantic comedy atmosphere with charming awkwardness\"\n    },\n    customDetails: \"Charming romantic comedy with awkward pauses, sweet musical moments, and the endearing clumsiness of new love\"\n  },\n\n  \"action-comedy-parody\": {\n    id: \"action-comedy-parody\",\n    name: \"Action Comedy Parody\",\n    description: \"Over-the-top action comedy with exaggerated heroic and comedic sounds\",\n    category: \"comedy\",\n    tags: [\"action\", \"comedy\", \"parody\", \"over-the-top\", \"heroic\"],\n    useCase: \"Action comedy, hero parodies, over-the-top scenes, comedic action\",\n    fields: {\n      sound_effects: \"exaggerated action sounds with comedic timing\",\n      audio_mood: \"heroic\",\n      background_audio: \"action comedy atmosphere with parody heroic themes\"\n    },\n    customDetails: \"Over-the-top action comedy with exaggerated explosions, heroic fanfares, and the perfect balance of action and humor\"\n  },\n\n  \"internet-meme-sounds\": {\n    id: \"internet-meme-sounds\",\n    name: \"Internet Meme Sounds\",\n    description: \"Modern internet culture sounds and meme-inspired audio\",\n    category: \"comedy\",\n    tags: [\"internet\", \"memes\", \"modern\", \"viral\", \"digital\"],\n    useCase: \"Meme content, internet culture, viral moments, digital comedy\",\n    fields: {\n      sound_effects: \"meme-inspired sounds and internet culture audio\",\n      audio_mood: \"viral\",\n      background_audio: \"digital comedy atmosphere with meme culture sounds\"\n    },\n    customDetails: \"Modern internet comedy with meme-inspired sounds, viral audio clips, and the digital language of online humor culture\"\n  },\n\n  \"dad-joke-comedy\": {\n    id: \"dad-joke-comedy\",\n    name: \"Dad Joke Comedy\",\n    description: \"Wholesome family comedy atmosphere with groan-worthy pun timing\",\n    category: \"comedy\",\n    tags: [\"dad-jokes\", \"wholesome\", \"family\", \"puns\", \"groan-worthy\"],\n    useCase: \"Family comedy, dad jokes, wholesome humor, pun-based comedy\",\n    fields: {\n      sound_effects: \"wholesome comedy sounds with groan reactions\",\n      audio_mood: \"wholesome\",\n      background_audio: \"family-friendly comedy atmosphere with dad joke timing\"\n    },\n    customDetails: \"Wholesome family comedy with perfectly timed dad jokes, groan-inducing puns, and the warm humor of family entertainment\"\n  },\n\n  // FANTASY/MAGICAL/MYTHIC PRESETS (12 presets)\n  \"enchanted-forest-magic\": {\n    id: \"enchanted-forest-magic\",\n    name: \"Enchanted Forest Magic\",\n    description: \"Mystical forest atmosphere with magical sounds and fairy presence\",\n    category: \"fantasy\",\n    tags: [\"enchanted\", \"forest\", \"magic\", \"fairy\", \"mystical\"],\n    useCase: \"Fantasy scenes, magical forests, fairy encounters, enchanted environments\",\n    fields: {\n      sound_effects: \"magical chimes and fairy sounds\",\n      audio_mood: \"enchanted\",\n      background_audio: \"mystical forest ambiance with magical creature sounds\",\n      music_style: \"enchanted orchestral\"\n    },\n    customDetails: \"Mystical forest atmosphere with tinkling fairy chimes, magical creature sounds, and the otherworldly presence of ancient enchantment\"\n  },\n\n  \"dragon-fire-epic\": {\n    id: \"dragon-fire-epic\",\n    name: \"Dragon Fire Epic\",\n    description: \"Powerful dragon atmosphere with fire breathing and epic scale\",\n    category: \"fantasy\",\n    tags: [\"dragon\", \"fire\", \"epic\", \"powerful\", \"mythical\"],\n    useCase: \"Dragon scenes, epic fantasy, fire magic, mythical creature encounters\",\n    fields: {\n      sound_effects: \"dragon roars and fire breathing\",\n      audio_mood: \"epic\",\n      background_audio: \"powerful dragon presence with flame sounds\",\n      music_style: \"epic fantasy orchestral\"\n    },\n    customDetails: \"Epic dragon atmosphere with thunderous roars, crackling flames, and the overwhelming presence of ancient mythical power\"\n  },\n\n  \"wizard-spell-casting\": {\n    id: \"wizard-spell-casting\",\n    name: \"Wizard Spell Casting\",\n    description: \"Magical spell atmosphere with incantations and mystical energy\",\n    category: \"fantasy\",\n    tags: [\"wizard\", \"spells\", \"magic\", \"incantations\", \"mystical\"],\n    useCase: \"Magic scenes, wizard characters, spell casting, mystical powers\",\n    fields: {\n      sound_effects: \"magical energy and spell casting sounds\",\n      audio_mood: \"mystical\",\n      background_audio: \"wizard laboratory atmosphere with magical ambiance\",\n      music_style: \"mystical orchestral\"\n    },\n    customDetails: \"Mystical spell-casting atmosphere with crackling magical energy, whispered incantations, and the power of ancient wizardry\"\n  },\n\n  \"celtic-harp-mythology\": {\n    id: \"celtic-harp-mythology\",\n    name: \"Celtic Harp Mythology\",\n    description: \"Ancient Celtic atmosphere with harp melodies and mythological presence\",\n    category: \"fantasy\",\n    tags: [\"celtic\", \"harp\", \"mythology\", \"ancient\", \"irish\"],\n    useCase: \"Celtic fantasy, mythology scenes, ancient cultures, mystical traditions\",\n    fields: {\n      sound_effects: \"celtic harp and traditional instruments\",\n      audio_mood: \"ancient\",\n      background_audio: \"celtic mythology atmosphere with traditional melodies\",\n      music_style: \"celtic orchestral\"\n    },\n    customDetails: \"Ancient Celtic atmosphere with haunting harp melodies, traditional instruments, and the mystical weight of mythological heritage\"\n  },\n\n  \"crystal-cave-resonance\": {\n    id: \"crystal-cave-resonance\",\n    name: \"Crystal Cave Resonance\",\n    description: \"Magical crystal cave atmosphere with ethereal tones and resonance\",\n    category: \"fantasy\",\n    tags: [\"crystal\", \"cave\", \"ethereal\", \"resonance\", \"magical\"],\n    useCase: \"Crystal caves, magical environments, ethereal scenes, mystical locations\",\n    fields: {\n      sound_effects: \"crystal resonance and ethereal tones\",\n      audio_mood: \"ethereal\",\n      background_audio: \"magical cave atmosphere with crystal harmonics\",\n      music_style: \"ethereal ambient\"\n    },\n    customDetails: \"Ethereal crystal cave with resonant tones, magical harmonics, and the otherworldly beauty of living crystal formations\"\n  },\n\n  \"angel-heavenly-choir\": {\n    id: \"angel-heavenly-choir\",\n    name: \"Angel Heavenly Choir\",\n    description: \"Divine angelic atmosphere with heavenly choir and celestial presence\",\n    category: \"fantasy\",\n    tags: [\"angel\", \"heavenly\", \"choir\", \"divine\", \"celestial\"],\n    useCase: \"Angel scenes, divine moments, heavenly environments, spiritual atmospheres\",\n    fields: {\n      sound_effects: \"angelic voices and heavenly choir\",\n      audio_mood: \"divine\",\n      background_audio: \"celestial atmosphere with angelic presence\",\n      music_style: \"heavenly orchestral\"\n    },\n    customDetails: \"Divine celestial atmosphere with angelic choir harmonies, heavenly reverb, and the overwhelming presence of pure spiritual light\"\n  },\n\n  \"demon-underworld-dark\": {\n    id: \"demon-underworld-dark\",\n    name: \"Demon Underworld Dark\",\n    description: \"Dark underworld atmosphere with demonic presence and infernal sounds\",\n    category: \"fantasy\",\n    tags: [\"demon\", \"underworld\", \"dark\", \"infernal\", \"evil\"],\n    useCase: \"Demon scenes, underworld environments, dark fantasy, evil atmospheres\",\n    fields: {\n      sound_effects: \"demonic growls and infernal sounds\",\n      audio_mood: \"dark\",\n      background_audio: \"underworld atmosphere with demonic presence\",\n      music_style: \"dark orchestral\"\n    },\n    customDetails: \"Sinister underworld atmosphere with demonic growls, infernal flames, and the oppressive darkness of demonic realms\"\n  },\n\n  \"fairy-tale-wonder\": {\n    id: \"fairy-tale-wonder\",\n    name: \"Fairy Tale Wonder\",\n    description: \"Whimsical fairy tale atmosphere with magical storytelling presence\",\n    category: \"fantasy\",\n    tags: [\"fairy-tale\", \"wonder\", \"whimsical\", \"storytelling\", \"magical\"],\n    useCase: \"Fairy tale scenes, children's fantasy, storytelling moments, whimsical magic\",\n    fields: {\n      sound_effects: \"magical sparkles and fairy tale sounds\",\n      audio_mood: \"whimsical\",\n      background_audio: \"fairy tale atmosphere with storytelling magic\",\n      music_style: \"whimsical orchestral\"\n    },\n    customDetails: \"Enchanting fairy tale atmosphere with magical sparkles, whimsical melodies, and the timeless wonder of classic storytelling\"\n  },\n\n  \"viking-norse-mythology\": {\n    id: \"viking-norse-mythology\",\n    name: \"Viking Norse Mythology\",\n    description: \"Epic Norse atmosphere with Viking culture and mythological power\",\n    category: \"fantasy\",\n    tags: [\"viking\", \"norse\", \"mythology\", \"epic\", \"warriors\"],\n    useCase: \"Viking scenes, Norse mythology, warrior culture, epic fantasy\",\n    fields: {\n      sound_effects: \"war horns and viking battle sounds\",\n      audio_mood: \"epic\",\n      background_audio: \"norse mythology atmosphere with warrior culture\",\n      music_style: \"viking orchestral\"\n    },\n    customDetails: \"Epic Norse atmosphere with thunderous war horns, Viking chants, and the mythological power of ancient warrior culture\"\n  },\n\n  \"unicorn-pure-magic\": {\n    id: \"unicorn-pure-magic\",\n    name: \"Unicorn Pure Magic\",\n    description: \"Pure magical atmosphere with unicorn presence and innocent wonder\",\n    category: \"fantasy\",\n    tags: [\"unicorn\", \"pure\", \"magic\", \"innocent\", \"wonder\"],\n    useCase: \"Unicorn scenes, pure magic, innocent wonder, mystical purity\",\n    fields: {\n      sound_effects: \"pure magical tones and unicorn presence\",\n      audio_mood: \"pure\",\n      background_audio: \"innocent magical atmosphere with unicorn magic\",\n      music_style: \"pure orchestral\"\n    },\n    customDetails: \"Pure magical atmosphere with crystalline tones, innocent wonder, and the untainted magic of unicorn presence and purity\"\n  },\n\n  \"phoenix-rebirth-fire\": {\n    id: \"phoenix-rebirth-fire\",\n    name: \"Phoenix Rebirth Fire\",\n    description: \"Transformative phoenix atmosphere with rebirth fire and renewal\",\n    category: \"fantasy\",\n    tags: [\"phoenix\", \"rebirth\", \"fire\", \"transformation\", \"renewal\"],\n    useCase: \"Phoenix scenes, rebirth moments, transformation sequences, renewal themes\",\n    fields: {\n      sound_effects: \"phoenix fire and rebirth sounds\",\n      audio_mood: \"transformative\",\n      background_audio: \"phoenix atmosphere with renewal fire\",\n      music_style: \"transformative orchestral\"\n    },\n    customDetails: \"Transformative phoenix atmosphere with cleansing fire, rebirth energy, and the powerful cycle of death and renewal\"\n  },\n\n  \"ancient-temple-mystery\": {\n    id: \"ancient-temple-mystery\",\n    name: \"Ancient Temple Mystery\",\n    description: \"Mysterious ancient temple atmosphere with sacred echoes and wisdom\",\n    category: \"fantasy\",\n    tags: [\"ancient\", \"temple\", \"mystery\", \"sacred\", \"wisdom\"],\n    useCase: \"Temple scenes, ancient mysteries, sacred environments, wisdom quests\",\n    fields: {\n      sound_effects: \"temple echoes and ancient atmospheric sounds\",\n      audio_mood: \"mysterious\",\n      background_audio: \"sacred temple atmosphere with ancient wisdom\",\n      music_style: \"ancient orchestral\"\n    },\n    customDetails: \"Sacred ancient temple with mysterious echoes, stone resonance, and the accumulated wisdom of countless generations of worship\"\n  }\n};\n\n// Category organization for audio presets\nexport const audioCategories = {\n  music: {\n    name: \"Music Styles\",\n    icon: \"🎵\",\n    presets: [\"cinematic-orchestral\", \"ambient-electronic\", \"jazz-noir\", \"folk-acoustic\", \"synthwave-retro\", \"minimalist-piano\", \"world-fusion\", \"lo-fi-chill\"]\n  },\n  effects: {\n    name: \"Sound Effects\",\n    icon: \"🔊\", \n    presets: [\"urban-city\", \"nature-forest\", \"ocean-waves\", \"thunderstorm\", \"cafe-ambiance\", \"space-ambient\"]\n  },\n  cinematic: {\n    name: \"Cinematic Score\",\n    icon: \"🎥\",\n    presets: [\"epic-battle-score\", \"suspenseful-thriller\", \"emotional-heartbreak\", \"heroic-triumph\", \"dark-villain-theme\", \"romantic-love-theme\", \"adventure-quest\", \"mystery-investigation\", \"chase-pursuit\", \"magical-wonder\", \"sci-fi-cosmos\", \"horror-dread\"]\n  },\n  dialogue: {\n    name: \"Dialogue / Voice Styles\",\n    icon: \"🗣️\",\n    presets: [\"dramatic-monologue\", \"whispered-secrets\", \"sarcastic-wit\", \"authoritative-command\", \"nervous-stammering\", \"wise-narrator\", \"childlike-wonder\", \"villain-menace\", \"romantic-tender\", \"comedic-timing\", \"elderly-wisdom\", \"fast-paced-banter\"]\n  },\n  atmospheric: {\n    name: \"Atmospheric / Ambient\",\n    icon: \"🌌\",\n    presets: [\"forest-morning-mist\", \"rain-on-window\", \"bustling-marketplace\", \"desert-wind-emptiness\", \"mountain-echo-peaks\", \"underwater-depths\", \"creaky-old-house\", \"library-quiet-study\", \"factory-industrial-hum\", \"campfire-night-wilderness\", \"hospital-corridor-sterile\", \"spaceship-bridge-hum\"]\n  },\n  comedy: {\n    name: \"Comedy / Quirky\",\n    icon: \"🎉\",\n    presets: [\"cartoon-sound-effects\", \"sitcom-laugh-track\", \"quirky-indie-comedy\", \"slapstick-comedy\", \"office-comedy-ambiance\", \"parody-music-stingers\", \"game-show-sounds\", \"clown-circus-comedy\", \"romantic-comedy-awkward\", \"action-comedy-parody\", \"internet-meme-sounds\", \"dad-joke-comedy\"]\n  },\n  fantasy: {\n    name: \"Fantasy / Magical / Mythic\",\n    icon: \"🧙‍♂️\",\n    presets: [\"enchanted-forest-magic\", \"dragon-fire-epic\", \"wizard-spell-casting\", \"celtic-harp-mythology\", \"crystal-cave-resonance\", \"angel-heavenly-choir\", \"demon-underworld-dark\", \"fairy-tale-wonder\", \"viking-norse-mythology\", \"unicorn-pure-magic\", \"phoenix-rebirth-fire\", \"ancient-temple-mystery\"]\n  }\n};","export const templates = {\n  horror: {\n    name: \"Horror/Thriller\",\n    icon: \"👻\",\n    description: \"Dark, suspenseful, fear-inducing atmosphere\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Core horror mood\",\n        fields: {\n          tone: \"dark\",\n          lighting_type: \"hard light\",\n          atmosphere: \"tense\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic horror cinematography\",\n        fields: {\n          tone: \"dark\",\n          lighting_type: \"hard light\",\n          atmosphere: \"tense\",\n          shadows: \"dramatic shadows\",\n          color_palette: \"desaturated\",\n          angle: \"low angle\",\n          emotional_response: \"fear\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full horror production setup\",\n        fields: {\n          tone: \"dark\",\n          lighting_type: \"hard light\",\n          atmosphere: \"tense\",\n          shadows: \"dramatic shadows\",\n          color_palette: \"desaturated\",\n          angle: \"low angle\",\n          emotional_response: \"fear\",\n          lighting_direction: \"bottom lighting\",\n          music_style: \"suspenseful\",\n          filters: \"high contrast\",\n          movement: \"handheld\",\n          sound_design: \"electronic sounds\"\n        }\n      }\n    }\n  },\n\n  cinematic: {\n    name: \"Cinematic\",\n    icon: \"🎬\",\n    description: \"Professional film-style video\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic cinematic look\",\n        fields: {\n          style: \"cinematic\",\n          frame_rate: \"24fps cinematic\",\n          aspect_ratio: \"21:9\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Professional film setup\",\n        fields: {\n          style: \"cinematic\",\n          frame_rate: \"24fps cinematic\",\n          aspect_ratio: \"21:9\",\n          lighting_type: \"three-point lighting\",\n          depth_of_field: \"shallow\",\n          color_palette: \"cinematic\",\n          lighting_direction: \"golden hour\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Director-level cinematography\",\n        fields: {\n          style: \"cinematic\",\n          frame_rate: \"24fps cinematic\",\n          aspect_ratio: \"21:9\",\n          lighting_type: \"three-point lighting\",\n          depth_of_field: \"shallow\",\n          color_palette: \"cinematic\",\n          lighting_direction: \"golden hour\",\n          movement: \"dolly in\",\n          distance: \"medium shot\",\n          light_quality: \"dramatic\",\n          tone: \"epic\",\n          color_palette: \"chiaroscuro\"\n        }\n      }\n    }\n  },\n\n  christopher_nolan: {\n    name: \"Christopher Nolan\",\n    icon: \"🌀\",\n    description: \"Dark, dramatic lighting, time distortion, IMAX-style wide shots\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Core Nolan aesthetics\",\n        fields: {\n          lighting_type: \"low-key lighting\",\n          atmosphere: \"tense\",\n          tone: \"dramatic\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Nolan cinematography\",\n        fields: {\n          lighting_type: \"low-key lighting\",\n          atmosphere: \"tense\",\n          tone: \"dramatic\",\n          influences: \"Christopher Nolan\",\n          shadows: \"dramatic shadows\",\n          distance: \"wide shot\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Nolan production\",\n        fields: {\n          lighting_type: \"low-key lighting\",\n          atmosphere: \"tense\",\n          tone: \"dramatic\",\n          influences: \"Christopher Nolan\",\n          shadows: \"dramatic shadows\",\n          distance: \"wide shot\",\n          aspect_ratio: \"21:9\",\n          color_palette: \"cool tones\",\n          style: \"cinematic\",\n          music_style: \"epic\",\n          emotional_response: \"awe\",\n          transition: \"none\"\n        }\n      }\n    }\n  },\n\n  social_media: {\n    name: \"Social Media\",\n    icon: \"📱\",\n    description: \"Mobile-optimized, engaging content\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Mobile-first basics\",\n        fields: {\n          aspect_ratio: \"9:16\",\n          style: \"modern\",\n          tone: \"energetic\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Engaging social content\",\n        fields: {\n          aspect_ratio: \"9:16\",\n          style: \"modern\",\n          tone: \"energetic\",\n          lighting_type: \"bright\",\n          distance: \"close-up\",\n          color_palette: \"vibrant\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Viral-ready production\",\n        fields: {\n          aspect_ratio: \"9:16\",\n          style: \"modern\",\n          tone: \"energetic\",\n          lighting_type: \"bright\",\n          distance: \"close-up\",\n          color_palette: \"vibrant\",\n          movement: \"handheld\",\n          speed: \"fast motion\",\n          music_style: \"upbeat\",\n          emotional_response: \"excitement\",\n          filters: \"instagram\"\n        }\n      }\n    }\n  },\n\n  realistic_gritty: {\n    name: \"Realistic/Gritty\",\n    icon: \"📹\",\n    description: \"Authentic, gritty documentary style\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Raw realistic feel\",\n        fields: {\n          style: \"gritty\",\n          lighting_type: \"natural light\",\n          atmosphere: \"authentic\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Gritty documentary style\",\n        fields: {\n          style: \"gritty\",\n          lighting_type: \"natural light\",\n          atmosphere: \"authentic\",\n          movement: \"handheld\",\n          angle: \"eye level\",\n          tone: \"serious\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full authentic production\",\n        fields: {\n          style: \"gritty\",\n          lighting_type: \"natural light\",\n          atmosphere: \"authentic\",\n          movement: \"handheld\",\n          angle: \"eye level\",\n          tone: \"serious\",\n          color_palette: \"desaturated\",\n          distance: \"medium shot\",\n          sound_design: \"ambient sounds\",\n          emotional_response: \"authentic connection\",\n          frame_rate: \"24fps cinematic\"\n        }\n      }\n    }\n  },\n\n  commercial: {\n    name: \"Commercial\",\n    icon: \"🛍️\",\n    description: \"Clean, product-focused advertising\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Clean commercial look\",\n        fields: {\n          style: \"clean\",\n          lighting_type: \"studio lighting\",\n          tone: \"uplifting\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Professional advertising\",\n        fields: {\n          style: \"clean\",\n          lighting_type: \"studio lighting\",\n          tone: \"uplifting\",\n          color_palette: \"bright\",\n          movement: \"tracking\",\n          light_quality: \"even\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Premium brand commercial\",\n        fields: {\n          style: \"clean\",\n          lighting_type: \"studio lighting\",\n          tone: \"uplifting\",\n          color_palette: \"bright\",\n          movement: \"tracking\",\n          light_quality: \"even\",\n          distance: \"medium shot\",\n          shadows: \"soft shadows\",\n          music_style: \"upbeat\",\n          emotional_response: \"satisfaction\",\n          filters: \"clean\"\n        }\n      }\n    }\n  },\n\n  music_video: {\n    name: \"Music Video\",\n    icon: \"🎵\",\n    description: \"Creative, rhythm-driven visuals\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Music video basics\",\n        fields: {\n          style: \"stylized\",\n          color_palette: \"vibrant\",\n          tone: \"energetic\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Dynamic music visuals\",\n        fields: {\n          style: \"stylized\",\n          color_palette: \"vibrant\",\n          tone: \"energetic\",\n          movement: \"orbit\",\n          lighting_type: \"dramatic\",\n          speed: \"variable speed\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Award-winning music video\",\n        fields: {\n          style: \"stylized\",\n          color_palette: \"vibrant\",\n          tone: \"energetic\",\n          movement: \"orbit\",\n          lighting_type: \"dramatic\",\n          speed: \"variable speed\",\n          angle: \"dutch angle\",\n          filters: \"high contrast\",\n          vfx: \"particles\",\n          emotional_response: \"excitement\",\n          music_style: \"electronic\"\n        }\n      }\n    }\n  },\n\n  travel: {\n    name: \"Travel/Nature\",\n    icon: \"🌍\",\n    description: \"Adventurous, scenic exploration\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Travel essentials\",\n        fields: {\n          setting: \"outdoor park\",\n          time_of_day: \"golden hour\",\n          tone: \"inspiring\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Adventure cinematography\",\n        fields: {\n          setting: \"outdoor park\",\n          time_of_day: \"golden hour\",\n          tone: \"inspiring\",\n          distance: \"wide shot\",\n          movement: \"drone\",\n          color_palette: \"warm tones\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Epic travel documentary\",\n        fields: {\n          setting: \"outdoor park\",\n          time_of_day: \"golden hour\",\n          tone: \"inspiring\",\n          distance: \"wide shot\",\n          movement: \"drone\",\n          color_palette: \"warm tones\",\n          lighting_type: \"natural light\",\n          atmosphere: \"majestic\",\n          music_style: \"epic\",\n          emotional_response: \"wonder\",\n          sound_design: \"natural sounds\"\n        }\n      }\n    }\n  },\n\n  corporate: {\n    name: \"Corporate\",\n    icon: \"💼\",\n    description: \"Professional business content\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Business basics\",\n        fields: {\n          style: \"professional\",\n          angle: \"eye level\",\n          tone: \"confident\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Corporate presentation\",\n        fields: {\n          style: \"professional\",\n          angle: \"eye level\",\n          tone: \"confident\",\n          lighting_type: \"studio lighting\",\n          distance: \"medium shot\",\n          color_palette: \"neutral\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Executive-level production\",\n        fields: {\n          style: \"professional\",\n          angle: \"eye level\",\n          tone: \"confident\",\n          lighting_type: \"studio lighting\",\n          distance: \"medium shot\",\n          color_palette: \"neutral\",\n          movement: \"static\",\n          light_quality: \"soft\",\n          atmosphere: \"professional\",\n          music_style: \"minimalist\",\n          emotional_response: \"trust\"\n        }\n      }\n    }\n  },\n\n  viral_short: {\n    name: \"Viral Short Clips\",\n    icon: \"📱⚡\",\n    description: \"Trending viral content for social media\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic viral elements\",\n        fields: {\n          movement: \"handheld\",\n          lighting_type: \"natural light\",\n          color_palette: \"vibrant\",\n          character_type: \"human\",\n          gender: \"unspecified\",\n          age_range: \"young adult (18-25)\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Engaging viral content\",\n        fields: {\n          movement: \"handheld\",\n          lighting_type: \"natural light\",\n          color_palette: \"vibrant\",\n          music_style: \"upbeat\",\n          speed: \"fast motion\",\n          emotional_response: \"excitement\",\n          character_type: \"human\",\n          gender: \"unspecified\", \n          age_range: \"teenager (14-17)\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full viral production\",\n        fields: {\n          movement: \"handheld\",\n          lighting_type: \"natural light\",\n          color_palette: \"vibrant\",\n          music_style: \"upbeat\",\n          speed: \"fast motion\",\n          emotional_response: \"excitement\",\n          sound_design: \"layered\",\n          transition: \"quick cuts\",\n          tone: \"energetic\",\n          atmosphere: \"viral energy\",\n          style: \"viral\",\n          character_type: \"human\",\n          gender: \"unspecified\",\n          age_range: \"young adult (18-25)\",\n          ethnicity: \"mixed race\"\n        }\n      }\n    }\n  },\n\n  character_narrative: {\n    name: \"Character Narrative\",\n    icon: \"🎭\",\n    description: \"AI character dialogue and storytelling\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic character setup\",\n        fields: {\n          dialogue: \"meaningful conversation\",\n          tone: \"emotional\",\n          character_type: \"robot\",\n          robot_style: \"sentient AI\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Character storytelling\",\n        fields: {\n          dialogue: \"meaningful conversation\",\n          tone: \"emotional\",\n          character_type: \"robot\",\n          robot_style: \"AI assistant\",\n          music_style: \"ambient\",\n          lighting_type: \"natural light\",\n          distance: \"medium shot\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full narrative production\",\n        fields: {\n          dialogue: \"meaningful conversation\",\n          tone: \"emotional\",\n          character_type: \"robot\",\n          robot_style: \"AI assistant\",\n          music_style: \"ambient\",\n          lighting_type: \"natural light\",\n          distance: \"medium shot\",\n          sound_design: \"synchronized audio\",\n          emotional_response: \"authentic connection\",\n          atmosphere: \"intimate\",\n          music_style: \"emotional cues\",\n          angle: \"eye level\"\n        }\n      }\n    }\n  },\n\n  stylized_meme: {\n    name: \"Stylized Meme\",\n    icon: \"🎨😂\",\n    description: \"Surreal humor and parody content\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic meme aesthetics\",\n        fields: {\n          style: \"surreal\",\n          color_palette: \"high contrast\",\n          tone: \"playful\",\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Creative meme content\",\n        fields: {\n          style: \"surreal\",\n          color_palette: \"high contrast\",\n          tone: \"playful\",\n          influences: \"internet culture\",\n          atmosphere: \"quirky\",\n          emotional_response: \"humor\",\n          character_type: \"object\",\n          object_type: \"animated furniture\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Viral meme production\",\n        fields: {\n          style: \"surreal\",\n          color_palette: \"high contrast\",\n          tone: \"playful\",\n          influences: \"internet culture\",\n          atmosphere: \"quirky\",\n          emotional_response: \"humor\",\n          filters: \"vintage\",\n          vfx: \"glitch effects\",\n          transition: \"flash\",\n          color_palette: \"retro meme\",\n          music_style: \"viral trending\",\n          character_type: \"object\",\n          object_type: \"living toy\"\n        }\n      }\n    }\n  },\n\n  wes_anderson: {\n    name: \"Wes Anderson\",\n    icon: \"🎨\",\n    description: \"Symmetrical, pastel palettes, quirky characters\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Core Anderson aesthetics\",\n        fields: {\n          movement: \"one-point perspective\",\n          color_palette: \"pastel colors\",\n          style: \"whimsical\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Anderson cinematography\",\n        fields: {\n          movement: \"one-point perspective\",\n          color_palette: \"pastel colors\",\n          style: \"whimsical\",\n          distance: \"medium shot\",\n          influences: \"Wes Anderson\",\n          tone: \"whimsical\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Anderson production\",\n        fields: {\n          movement: \"one-point perspective\",\n          color_palette: \"pastel colors\",\n          style: \"whimsical\",\n          distance: \"medium shot\",\n          influences: \"Wes Anderson\",\n          tone: \"whimsical\",\n          movement: \"slow zoom\",\n          filters: \"vintage\",\n          aspect_ratio: \"4:3\",\n          atmosphere: \"nostalgic\",\n          emotional_response: \"wonder\"\n        }\n      }\n    }\n  },\n\n  steven_spielberg: {\n    name: \"Steven Spielberg\",\n    icon: \"🌟\",\n    description: \"Emotional close-ups, lens flares, childlike wonder\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Spielberg basics\",\n        fields: {\n          distance: \"close-up\",\n          vfx: \"lens flares\",\n          tone: \"emotional\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Spielberg style\",\n        fields: {\n          distance: \"close-up\",\n          vfx: \"lens flares\",\n          tone: \"emotional\",\n          movement: \"tracking shots\",\n          lighting_type: \"natural light\",\n          influences: \"Steven Spielberg\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Spielberg production\",\n        fields: {\n          distance: \"close-up\",\n          vfx: \"lens flares\",\n          tone: \"emotional\",\n          movement: \"tracking shots\",\n          lighting_type: \"natural light\",\n          influences: \"Steven Spielberg\",\n          light_quality: \"warm\",\n          emotional_response: \"wonder\",\n          style: \"cinematic\",\n          music_style: \"orchestral\",\n          atmosphere: \"inspiring\"\n        }\n      }\n    }\n  },\n\n  quentin_tarantino: {\n    name: \"Quentin Tarantino\",\n    icon: \"🔫\",\n    description: \"Grindhouse style, trunk shots, intense dialogue\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Tarantino basics\",\n        fields: {\n          movement: \"trunk camera\",\n          filters: \"70s film grain\",\n          style: \"gritty\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Tarantino style\",\n        fields: {\n          movement: \"trunk camera\",\n          filters: \"70s film grain\",\n          style: \"gritty\",\n          movement: \"overhead\",\n          influences: \"Quentin Tarantino\",\n          tone: \"dramatic\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Tarantino production\",\n        fields: {\n          movement: \"trunk camera\",\n          filters: \"70s film grain\",\n          style: \"gritty\",\n          movement: \"overhead\",\n          influences: \"Quentin Tarantino\",\n          tone: \"dramatic\",\n          dialogue: \"snappy dialogue\",\n          music_style: \"rock\",\n          color_palette: \"high contrast\",\n          atmosphere: \"tense\",\n          emotional_response: \"excitement\"\n        }\n      }\n    }\n  },\n\n  hayao_miyazaki: {\n    name: \"Hayao Miyazaki\",\n    icon: \"🌸\",\n    description: \"Soft painterly backgrounds, nature, magical realism\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Miyazaki basics\",\n        fields: {\n          color_palette: \"pastel colors\",\n          style: \"painterly\",\n          setting: \"outdoor park\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Studio Ghibli style\",\n        fields: {\n          color_palette: \"pastel colors\",\n          style: \"painterly\",\n          setting: \"outdoor park\",\n          influences: \"Hayao Miyazaki\",\n          atmosphere: \"magical\",\n          environment: \"windy\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Ghibli production\",\n        fields: {\n          color_palette: \"pastel colors\",\n          style: \"painterly\",\n          setting: \"outdoor park\",\n          influences: \"Hayao Miyazaki\",\n          atmosphere: \"magical\",\n          environment: \"windy\",\n          tone: \"peaceful\",\n          movement: \"dolly in\",\n          emotional_response: \"wonder\",\n          music_style: \"orchestral\",\n          stylized_style: \"studio ghibli\"\n        }\n      }\n    }\n  },\n\n  zack_snyder: {\n    name: \"Zack Snyder\",\n    icon: \"⚡\",\n    description: \"Desaturation, slow-mo action, mythic hero framing\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Snyder basics\",\n        fields: {\n          color_palette: \"desaturated\",\n          speed: \"slow motion\",\n          angle: \"low angle\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Snyder style\",\n        fields: {\n          color_palette: \"desaturated\",\n          speed: \"slow motion\",\n          angle: \"low angle\",\n          influences: \"Zack Snyder\",\n          distance: \"wide shot\",\n          tone: \"epic\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Snyder production\",\n        fields: {\n          color_palette: \"desaturated\",\n          speed: \"slow motion\",\n          angle: \"low angle\",\n          influences: \"Zack Snyder\",\n          distance: \"wide shot\",\n          tone: \"epic\",\n          style: \"stylized\",\n          filters: \"high contrast\",\n          music_style: \"epic\",\n          atmosphere: \"majestic\",\n          emotional_response: \"awe\"\n        }\n      }\n    }\n  },\n\n  david_fincher: {\n    name: \"David Fincher\",\n    icon: \"🔍\",\n    description: \"Moody colors, precise blocking, cool palettes\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Fincher basics\",\n        fields: {\n          color_palette: \"cool blue tones\",\n          movement: \"static\",\n          angle: \"low angle\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Fincher style\",\n        fields: {\n          color_palette: \"cool blue tones\",\n          movement: \"static\",\n          angle: \"low angle\",\n          influences: \"David Fincher\",\n          filters: \"hyper-real\",\n          atmosphere: \"tense\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Fincher production\",\n        fields: {\n          color_palette: \"cool blue tones\",\n          movement: \"static\",\n          angle: \"low angle\",\n          influences: \"David Fincher\",\n          filters: \"hyper-real\",\n          atmosphere: \"tense\",\n          style: \"clinical\",\n          lighting_type: \"hard light\",\n          tone: \"dark\",\n          music_style: \"electronic\",\n          emotional_response: \"anxiety\"\n        }\n      }\n    }\n  },\n\n  greta_gerwig: {\n    name: \"Greta Gerwig\",\n    icon: \"💕\",\n    description: \"Warm retro colors, theatrical framing, emotional intimacy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Gerwig basics\",\n        fields: {\n          color_palette: \"warm vintage palette\",\n          style: \"suburban\",\n          tone: \"nostalgic\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Gerwig style\",\n        fields: {\n          color_palette: \"warm vintage palette\",\n          style: \"suburban\",\n          tone: \"nostalgic\",\n          influences: \"Greta Gerwig\",\n          lens_type: \"wide angle\",\n          light_quality: \"soft\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Gerwig production\",\n        fields: {\n          color_palette: \"warm vintage palette\",\n          style: \"suburban\",\n          tone: \"nostalgic\",\n          influences: \"Greta Gerwig\",\n          lens_type: \"wide angle\",\n          light_quality: \"soft\",\n          glow: \"subtle glow\",\n          atmosphere: \"nostalgic\",\n          emotional_response: \"nostalgia\",\n          music_style: \"indie\",\n          distance: \"medium shot\"\n        }\n      }\n    }\n  },\n\n  guillermo_del_toro: {\n    name: \"Guillermo del Toro\",\n    icon: \"🌙\",\n    description: \"Gothic lighting, creature focus, baroque detail\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Del Toro basics\",\n        fields: {\n          lighting_type: \"gothic lighting\",\n          color_palette: \"deep reds\",\n          atmosphere: \"magical\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic del Toro style\",\n        fields: {\n          lighting_type: \"gothic lighting\",\n          color_palette: \"deep reds\",\n          atmosphere: \"magical\",\n          influences: \"Guillermo del Toro\",\n          shadows: \"dramatic shadows\",\n          style: \"gothic\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full del Toro production\",\n        fields: {\n          lighting_type: \"gothic lighting\",\n          color_palette: \"deep reds\",\n          atmosphere: \"magical\",\n          influences: \"Guillermo del Toro\",\n          shadows: \"dramatic shadows\",\n          style: \"gothic\",\n          tone: \"dark\",\n          vfx: \"magic effects\",\n          music_style: \"orchestral\",\n          emotional_response: \"wonder\",\n          character_type: \"stylized\"\n        }\n      }\n    }\n  },\n\n  stanley_kubrick: {\n    name: \"Stanley Kubrick\",\n    icon: \"👁️\",\n    description: \"Long static takes, cold symmetry, clinical precision\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Kubrick basics\",\n        fields: {\n          movement: \"one-point perspective\",\n          movement: \"static\",\n          atmosphere: \"eerie\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Kubrick style\",\n        fields: {\n          movement: \"one-point perspective\",\n          movement: \"static\",\n          atmosphere: \"eerie\",\n          influences: \"Stanley Kubrick\",\n          style: \"clinical\",\n          distance: \"wide shot\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Kubrick production\",\n        fields: {\n          movement: \"one-point perspective\",\n          movement: \"static\",\n          atmosphere: \"eerie\",\n          influences: \"Stanley Kubrick\",\n          style: \"clinical\",\n          distance: \"wide shot\",\n          atmosphere: \"clinical precision\",\n          color_palette: \"cool tones\",\n          tone: \"mysterious\",\n          music_style: \"classical\",\n          emotional_response: \"curiosity\"\n        }\n      }\n    }\n  },\n\n  denis_villeneuve: {\n    name: \"Denis Villeneuve\",\n    icon: \"🌌\",\n    description: \"Atmospheric sci-fi, minimalist beauty, existential weight\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Villeneuve basics\",\n        fields: {\n          color_palette: \"monochromatic\",\n          atmosphere: \"contemplative\",\n          style: \"minimalist\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Villeneuve style\",\n        fields: {\n          color_palette: \"monochromatic\",\n          atmosphere: \"contemplative\",\n          style: \"minimalist\",\n          influences: \"Denis Villeneuve\",\n          lighting_type: \"natural light\",\n          distance: \"wide shot\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Villeneuve production\",\n        fields: {\n          color_palette: \"monochromatic\",\n          atmosphere: \"contemplative\",\n          style: \"minimalist\",\n          influences: \"Denis Villeneuve\",\n          lighting_type: \"natural light\",\n          distance: \"wide shot\",\n          tone: \"existential\",\n          movement: \"slow reveal\",\n          music_style: \"ambient\",\n          emotional_response: \"awe\",\n          setting: \"vast landscape\"\n        }\n      }\n    }\n  },\n\n  jordan_peele: {\n    name: \"Jordan Peele\",\n    icon: \"😨\",\n    description: \"Social horror, uncomfortable tension, subversive storytelling\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Peele basics\",\n        fields: {\n          atmosphere: \"uncomfortable\",\n          lighting_type: \"suburban normal\",\n          tone: \"subversive\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Peele style\",\n        fields: {\n          atmosphere: \"uncomfortable\",\n          lighting_type: \"suburban normal\",\n          tone: \"subversive\",\n          influences: \"Jordan Peele\",\n          angle: \"unsettling close-ups\",\n          style: \"social realism\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Peele production\",\n        fields: {\n          atmosphere: \"uncomfortable\",\n          lighting_type: \"suburban normal\",\n          tone: \"subversive\",\n          influences: \"Jordan Peele\",\n          angle: \"unsettling close-ups\",\n          style: \"social realism\",\n          movement: \"slow stalking\",\n          color_palette: \"normal turned threatening\",\n          emotional_response: \"unease\",\n          music_style: \"discordant\"\n        }\n      }\n    }\n  },\n\n  rian_johnson: {\n    name: \"Rian Johnson\",\n    icon: \"🕵️\",\n    description: \"Genre subversion, clever plotting, visual wit\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Johnson basics\",\n        fields: {\n          style: \"genre pastiche\",\n          tone: \"playfully subversive\",\n          movement: \"smooth camera\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Johnson style\",\n        fields: {\n          style: \"genre pastiche\",\n          tone: \"playfully subversive\",\n          movement: \"smooth camera\",\n          influences: \"Rian Johnson\",\n          lighting_type: \"genre-appropriate\",\n          color_palette: \"genre palettes\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Johnson production\",\n        fields: {\n          style: \"genre pastiche\",\n          tone: \"playfully subversive\",\n          movement: \"smooth camera\",\n          influences: \"Rian Johnson\",\n          lighting_type: \"genre-appropriate\",\n          color_palette: \"genre palettes\",\n          atmosphere: \"clever misdirection\",\n          music_style: \"genre-bending\",\n          emotional_response: \"surprise\",\n          distance: \"layered composition\"\n        }\n      }\n    }\n  },\n\n  edgar_wright: {\n    name: \"Edgar Wright\",\n    icon: \"⚡\",\n    description: \"Kinetic editing, visual comedy, pop culture energy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Wright basics\",\n        fields: {\n          movement: \"whip pans\",\n          speed: \"rapid-fire editing\",\n          color_palette: \"bold primary colors\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Wright style\",\n        fields: {\n          movement: \"whip pans\",\n          speed: \"rapid-fire editing\",\n          color_palette: \"bold primary colors\",\n          influences: \"Edgar Wright\",\n          style: \"kinetic\",\n          music_style: \"synchronized to music\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Wright production\",\n        fields: {\n          movement: \"whip pans\",\n          speed: \"rapid-fire editing\",\n          color_palette: \"bold primary colors\",\n          influences: \"Edgar Wright\",\n          style: \"kinetic\",\n          music_style: \"synchronized to music\",\n          tone: \"energetically comedic\",\n          transition: \"match cuts\",\n          emotional_response: \"comedic energy\",\n          vfx: \"visual puns\"\n        }\n      }\n    }\n  },\n\n  bong_joon_ho: {\n    name: \"Bong Joon-ho\",\n    icon: \"🏠\",\n    description: \"Architectural framing, class commentary, tonal shifts\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Bong basics\",\n        fields: {\n          movement: \"architectural framing\",\n          lighting_type: \"class-conscious lighting\",\n          atmosphere: \"social tension\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Bong style\",\n        fields: {\n          movement: \"architectural framing\",\n          lighting_type: \"class-conscious lighting\",\n          atmosphere: \"social tension\",\n          influences: \"Bong Joon-ho\",\n          angle: \"vertical movement\",\n          style: \"social realism\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Bong production\",\n        fields: {\n          movement: \"architectural framing\",\n          lighting_type: \"class-conscious lighting\",\n          atmosphere: \"social tension\",\n          influences: \"Bong Joon-ho\",\n          angle: \"vertical movement\",\n          style: \"social realism\",\n          tone: \"darkly comedic\",\n          color_palette: \"class-divided palette\",\n          emotional_response: \"social awareness\",\n          music_style: \"genre-shifting\"\n        }\n      }\n    }\n  },\n\n  chloe_zhao: {\n    name: \"Chloé Zhao\",\n    icon: \"🌅\",\n    description: \"Natural light mastery, intimate landscapes, authentic emotion\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Zhao basics\",\n        fields: {\n          lighting_type: \"golden hour natural\",\n          atmosphere: \"contemplative\",\n          style: \"intimate realism\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Zhao style\",\n        fields: {\n          lighting_type: \"golden hour natural\",\n          atmosphere: \"contemplative\",\n          style: \"intimate realism\",\n          influences: \"Chloé Zhao\",\n          distance: \"wide landscape shots\",\n          movement: \"handheld intimacy\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Zhao production\",\n        fields: {\n          lighting_type: \"golden hour natural\",\n          atmosphere: \"contemplative\",\n          style: \"intimate realism\",\n          influences: \"Chloé Zhao\",\n          distance: \"wide landscape shots\",\n          movement: \"handheld intimacy\",\n          tone: \"melancholic beauty\",\n          color_palette: \"earth tones\",\n          emotional_response: \"authentic connection\",\n          music_style: \"minimal ambient\"\n        }\n      }\n    }\n  },\n\n  barry_jenkins: {\n    name: \"Barry Jenkins\",\n    icon: \"💙\",\n    description: \"Intimate close-ups, dreamlike color, emotional vulnerability\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Jenkins basics\",\n        fields: {\n          distance: \"intimate close-ups\",\n          color_palette: \"saturated blues and purples\",\n          lighting_type: \"soft emotional\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Jenkins style\",\n        fields: {\n          distance: \"intimate close-ups\",\n          color_palette: \"saturated blues and purples\",\n          lighting_type: \"soft emotional\",\n          influences: \"Barry Jenkins\",\n          movement: \"floating camera\",\n          style: \"dreamlike realism\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Jenkins production\",\n        fields: {\n          distance: \"intimate close-ups\",\n          color_palette: \"saturated blues and purples\",\n          lighting_type: \"soft emotional\",\n          influences: \"Barry Jenkins\",\n          movement: \"floating camera\",\n          style: \"dreamlike realism\",\n          tone: \"emotionally vulnerable\",\n          atmosphere: \"tender intimacy\",\n          emotional_response: \"deep empathy\",\n          music_style: \"classical emotional\"\n        }\n      }\n    }\n  },\n\n  lulu_wang: {\n    name: \"Lulu Wang\",\n    icon: \"🏮\",\n    description: \"Cultural authenticity, warm family dynamics, bilingual storytelling\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Wang basics\",\n        fields: {\n          lighting_type: \"warm family lighting\",\n          atmosphere: \"cultural authenticity\",\n          style: \"intimate family\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Wang style\",\n        fields: {\n          lighting_type: \"warm family lighting\",\n          atmosphere: \"cultural authenticity\",\n          style: \"intimate family\",\n          influences: \"Lulu Wang\",\n          color_palette: \"warm cultural tones\",\n          distance: \"family gathering shots\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Wang production\",\n        fields: {\n          lighting_type: \"warm family lighting\",\n          atmosphere: \"cultural authenticity\",\n          style: \"intimate family\",\n          influences: \"Lulu Wang\",\n          color_palette: \"warm cultural tones\",\n          distance: \"family gathering shots\",\n          tone: \"bittersweet family\",\n          movement: \"observational camera\",\n          emotional_response: \"cultural connection\",\n          music_style: \"cultural fusion\"\n        }\n      }\n    }\n  },\n\n  // ANIMATION STYLES - Comprehensive collection inspired by famous cartoons and studios\n  \n  // Classic American Cartoons\n  springfield_yellow: {\n    name: \"The Simpsons Style\",\n    icon: \"🟡\",\n    description: \"Classic Simpsons animation - yellow skin tones, thick black outlines, flat 2D suburban comedy style\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic cartoon look\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"The Simpsons\",\n          animation_reference: \"The Simpsons TV show\",\n          visual_characteristics: \"yellow skin tones, thick black outlines\",\n          color_palette: \"vibrant yellow and bright colors\"\n        }\n      },\n      2: {\n        name: \"Standard\", \n        description: \"Classic sitcom cartoon\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"The Simpsons\",\n          animation_reference: \"The Simpsons TV show\",\n          visual_characteristics: \"yellow skin tones, thick black outlines, flat 2D animation\",\n          color_palette: \"vibrant yellow and bright colors\",\n          style: \"animated sitcom\",\n          tone: \"suburban comedy\",\n          setting: \"Springfield suburban setting\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full animated sitcom production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"The Simpsons\",\n          animation_reference: \"The Simpsons TV show\",\n          visual_characteristics: \"yellow skin tones, thick black outlines, flat 2D suburban comedy animation\",\n          color_palette: \"vibrant yellow and bright colors\",\n          style: \"animated sitcom\",\n          tone: \"suburban comedy\",\n          setting: \"Springfield suburban setting\",\n          lighting_type: \"bright cartoon lighting\",\n          atmosphere: \"family friendly comedy\",\n          dialogue: \"witty animated banter\",\n          music_style: \"upbeat sitcom theme\",\n          emotional_response: \"comedic humor\"\n        }\n      }\n    }\n  },\n\n  cutout_satire: {\n    name: \"South Park Style\",\n    icon: \"✂️\",\n    description: \"South Park paper cutout animation - construction paper look, stiff movement, satirical comedy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic paper-cut animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"South Park\",\n          animation_reference: \"South Park TV show\",\n          visual_characteristics: \"paper cutout construction paper look\",\n          style: \"satirical paper animation\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Satirical paper animation\", \n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"South Park\",\n          animation_reference: \"South Park TV show\",\n          visual_characteristics: \"paper cutout construction paper look, stiff movement\",\n          style: \"satirical paper animation\",\n          tone: \"satirical comedy\",\n          color_palette: \"bright primary colors on white background\",\n          atmosphere: \"irreverent humor\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full satirical animation production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          style: \"minimalist\", \n          tone: \"satirical\",\n          color_palette: \"bright\",\n          atmosphere: \"irreverent\",\n          dialogue: \"sharp comedy\",\n          music_style: \"comedic\",\n          emotional_response: \"humor\",\n          setting: \"small town\",\n          movement: \"static\"\n        }\n      }\n    }\n  },\n\n  slacker_sitcom: {\n    name: \"Family Guy Style\",\n    icon: \"🛋️\",\n    description: \"Family Guy animation - glossy 2D style, expressive characters, cutaway gags, suburban sitcom\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Modern cartoon sitcom basics\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"Family Guy\",\n          animation_reference: \"Family Guy TV show\",\n          visual_characteristics: \"glossy 2D animation, expressive characters\",\n          color_palette: \"vibrant suburban colors\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Family sitcom animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"vibrant\",\n          style: \"modern\",\n          tone: \"comedic\",\n          atmosphere: \"chaotic\"\n        }\n      },\n      3: {\n        name: \"Detailed\", \n        description: \"Full animated family comedy\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"vibrant\",\n          style: \"modern\",\n          tone: \"comedic\",\n          atmosphere: \"chaotic\",\n          dialogue: \"rapid-fire comedy\",\n          music_style: \"orchestral\",\n          emotional_response: \"laughter\",\n          setting: \"suburban home\",\n          movement: \"dynamic\"\n        }\n      }\n    }\n  },\n\n  sci_fi_toon: {\n    name: \"Sci-Fi Toon Universe\", \n    icon: \"🛸\",\n    description: \"Slick sci-fi animation with portal effects and multiverse comedy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic sci-fi cartoon\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"neon\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Multiverse comedy animation\",\n        fields: {\n          character_type: \"stylized\", \n          stylized_style: \"anime character\",\n          color_palette: \"neon\",\n          style: \"futuristic\",\n          tone: \"dark comedy\",\n          setting: \"laboratory\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full sci-fi animated series\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\", \n          color_palette: \"neon\",\n          style: \"futuristic\",\n          tone: \"dark comedy\",\n          setting: \"laboratory\",\n          atmosphere: \"surreal\",\n          dialogue: \"scientific banter\",\n          music_style: \"electronic\", \n          vfx: \"portal effects\",\n          emotional_response: \"dark humor\"\n        }\n      }\n    }\n  },\n\n  spy_noir_animation: {\n    name: \"Spy Noir Animation\",\n    icon: \"🕴️\",\n    description: \"Sleek vector-based espionage animation with sophisticated styling\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic spy animation style\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"comic book\",\n          style: \"stylized\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Espionage animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"comic book\", \n          style: \"stylized\",\n          tone: \"sophisticated\",\n          color_palette: \"cool tones\",\n          atmosphere: \"mysterious\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full spy thriller animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"comic book\",\n          style: \"stylized\",\n          tone: \"sophisticated\", \n          color_palette: \"cool tones\",\n          atmosphere: \"mysterious\",\n          dialogue: \"witty espionage\",\n          music_style: \"jazz\",\n          lighting_type: \"dramatic\",\n          shadows: \"dramatic shadows\",\n          emotional_response: \"intrigue\"\n        }\n      }\n    }\n  },\n\n  // Anime & Japanese Styles\n  studio_ghibli_magic: {\n    name: \"Studio Ghibli Style\",\n    icon: \"🌸\",\n    description: \"Studio Ghibli animation - beautiful hand-drawn style, soft painterly backgrounds, magical realism, nature themes\",\n    levels: {\n      1: {\n        name: \"Essential\", \n        description: \"Basic Ghibli aesthetic\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"Studio Ghibli\",\n          animation_reference: \"Studio Ghibli films\",\n          visual_characteristics: \"hand-drawn animation, soft painterly backgrounds, magical realism\",\n          color_palette: \"soft pastel colors with nature themes\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Magical nature animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"studio ghibli\",\n          color_palette: \"pastel colors\",\n          style: \"painterly\", \n          atmosphere: \"magical\",\n          setting: \"outdoor park\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Ghibli production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"studio ghibli\",\n          color_palette: \"pastel colors\",\n          style: \"painterly\",\n          atmosphere: \"magical\",\n          setting: \"outdoor park\",\n          tone: \"peaceful\",\n          music_style: \"orchestral\",\n          lighting_type: \"natural light\",\n          environment: \"windy\",\n          emotional_response: \"wonder\"\n        }\n      }\n    }\n  },\n\n  shonen_battle: {\n    name: \"Shonen Battle Style\", \n    icon: \"⚔️\",\n    description: \"High-energy anime with dynamic action and power-up sequences\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic battle anime style\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"vibrant\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Action anime\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"vibrant\",\n          tone: \"epic\",\n          actions: \"fighting\",\n          atmosphere: \"intense\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full battle anime production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\", \n          color_palette: \"vibrant\",\n          tone: \"epic\",\n          actions: \"fighting\",\n          atmosphere: \"intense\",\n          dialogue: \"battle shouts\",\n          music_style: \"epic\",\n          vfx: \"energy effects\",\n          movement: \"dynamic\",\n          emotional_response: \"excitement\"\n        }\n      }\n    }\n  },\n\n  cyberpunk_anime: {\n    name: \"Cyberpunk Anime\",\n    icon: \"🌆\",\n    description: \"Neon-lit future cities with high-tech anime aesthetics\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic cyberpunk anime\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"neon\"\n        }\n      },\n      2: {\n        name: \"Standard\", \n        description: \"Futuristic anime\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"neon\",\n          style: \"futuristic\",\n          setting: \"urban city\",\n          time_of_day: \"night\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full cyberpunk anime production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"anime character\",\n          color_palette: \"neon\", \n          style: \"futuristic\",\n          setting: \"urban city\",\n          time_of_day: \"night\",\n          atmosphere: \"cyberpunk\",\n          lighting_type: \"neon lighting\",\n          music_style: \"electronic\",\n          tone: \"dystopian\",\n          emotional_response: \"tension\"\n        }\n      }\n    }\n  },\n\n  // Disney & Pixar\n  classic_disney_2d: {\n    name: \"Classic Disney Style\",\n    icon: \"🏰\",\n    description: \"Classic Disney animation - traditional hand-drawn 2D style, expressive characters, musical storytelling\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic Disney style\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"disney style\",\n          color_palette: \"warm tones\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Disney animated feature\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"disney style\", \n          color_palette: \"warm tones\",\n          style: \"cinematic\",\n          tone: \"uplifting\",\n          atmosphere: \"magical\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Disney production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"disney style\",\n          color_palette: \"warm tones\",\n          style: \"cinematic\",\n          tone: \"uplifting\",\n          atmosphere: \"magical\",\n          dialogue: \"musical storytelling\",\n          music_style: \"orchestral\",\n          lighting_type: \"golden hour\",\n          emotional_response: \"wonder\",\n          setting: \"fairy tale\"\n        }\n      }\n    }\n  },\n\n  pixar_3d_style: {\n    name: \"Pixar 3D Style\",\n    icon: \"🧸\",\n    description: \"Pixar animation - modern 3D computer animation, soft textures, emotional storytelling, detailed environments\",\n    levels: {\n      1: {\n        name: \"Essential\", \n        description: \"Basic 3D animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"pixar style\",\n          color_palette: \"warm tones\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"3D animated feature\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"pixar style\",\n          color_palette: \"warm tones\",\n          style: \"cinematic\",\n          lighting_type: \"three-point lighting\",\n          atmosphere: \"heartwarming\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Pixar production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"pixar style\",\n          color_palette: \"warm tones\", \n          style: \"cinematic\",\n          lighting_type: \"three-point lighting\",\n          atmosphere: \"heartwarming\",\n          tone: \"emotional\",\n          dialogue: \"heartfelt\",\n          music_style: \"orchestral\",\n          light_quality: \"soft\",\n          emotional_response: \"authentic connection\"\n        }\n      }\n    }\n  },\n\n  // TV Animation Styles\n  cartoon_network_classic: {\n    name: \"Cartoon Network Style\",\n    icon: \"📺\",\n    description: \"Cartoon Network animation - bold simple shapes, bright colors, experimental style, unique character designs\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic cartoon network style\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"vibrant\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"TV cartoon series\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"vibrant\",\n          style: \"cartoon\",\n          tone: \"playful\",\n          atmosphere: \"energetic\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full cartoon series production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"vibrant\",\n          style: \"cartoon\", \n          tone: \"playful\",\n          atmosphere: \"energetic\",\n          dialogue: \"snappy\",\n          music_style: \"upbeat\",\n          movement: \"bouncy\",\n          emotional_response: \"fun\"\n        }\n      }\n    }\n  },\n\n  nickelodeon_90s: {\n    name: \"Nickelodeon 90s\",\n    icon: \"🟠\",\n    description: \"Wobbly outlines, grunge palettes, and urban kid adventures\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic 90s cartoon style\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"desaturated\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"90s kids cartoon\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"desaturated\",\n          style: \"retro\",\n          tone: \"nostalgic\",\n          setting: \"urban city\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full 90s cartoon production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          color_palette: \"desaturated\", \n          style: \"retro\",\n          tone: \"nostalgic\",\n          setting: \"urban city\",\n          atmosphere: \"childhood adventure\",\n          dialogue: \"kid-friendly\",\n          music_style: \"alternative rock\",\n          emotional_response: \"nostalgia\"\n        }\n      }\n    }\n  },\n\n  // Experimental & Indie\n  paper_cutout: {\n    name: \"Paper Cut-Out\",\n    icon: \"📄\",\n    description: \"Mixed media layered paper textures and stop-motion feel\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic paper animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          style: \"minimalist\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Paper craft animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          style: \"minimalist\",\n          color_palette: \"earth tones\",\n          movement: \"stop-motion\",\n          atmosphere: \"handcrafted\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full paper craft production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          style: \"minimalist\",\n          color_palette: \"earth tones\",\n          movement: \"stop-motion\",\n          atmosphere: \"handcrafted\",\n          tone: \"artistic\",\n          lighting_type: \"natural light\",\n          music_style: \"acoustic\",\n          emotional_response: \"wonder\"\n        }\n      }\n    }\n  },\n\n  stop_motion_clay: {\n    name: \"Stop Motion Clay\",\n    icon: \"🏺\",\n    description: \"Tactile claymation with choppy movement and sculptural characters\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic claymation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          movement: \"stop-motion\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Clay animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          movement: \"stop-motion\",\n          style: \"organic\",\n          color_palette: \"earth tones\",\n          atmosphere: \"tactile\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full claymation production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"claymation\",\n          movement: \"stop-motion\",\n          style: \"organic\",\n          color_palette: \"earth tones\",\n          atmosphere: \"tactile\",\n          tone: \"whimsical\",\n          lighting_type: \"studio lighting\",\n          music_style: \"quirky\",\n          emotional_response: \"charm\"\n        }\n      }\n    }\n  },\n\n  flash_animation: {\n    name: \"Flash Animation\",\n    icon: \"⚡\",\n    description: \"Vector-based web animation with tweened movement\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Basic vector animation\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          style: \"clean\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Web animation series\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          style: \"clean\",\n          color_palette: \"bright\",\n          movement: \"smooth\",\n          atmosphere: \"digital\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full web animation production\",\n        fields: {\n          character_type: \"stylized\",\n          stylized_style: \"cartoon network\",\n          style: \"clean\",\n          color_palette: \"bright\",\n          movement: \"smooth\",\n          atmosphere: \"digital\",\n          tone: \"modern\",\n          dialogue: \"internet culture\",\n          music_style: \"electronic\",\n          emotional_response: \"viral energy\"\n        }\n      }\n    }\n  },\n\n  martin_scorsese: {\n    name: \"Martin Scorsese\",\n    icon: \"🎲\",\n    description: \"Dynamic tracking shots, moral complexity, urban energy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Scorsese basics\",\n        fields: {\n          movement: \"dynamic tracking\",\n          music_style: \"period rock/jazz\",\n          atmosphere: \"urban intensity\"\n        }\n      },\n      2: {\n        name: \"Standard\",  \n        description: \"Classic Scorsese style\",\n        fields: {\n          movement: \"dynamic tracking\",\n          music_style: \"period rock/jazz\",\n          atmosphere: \"urban intensity\",\n          influences: \"Martin Scorsese\",\n          style: \"kinetic realism\",\n          tone: \"morally complex\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Scorsese production\",\n        fields: {\n          movement: \"dynamic tracking\",\n          music_style: \"period rock/jazz\",\n          atmosphere: \"urban intensity\",\n          influences: \"Martin Scorsese\",\n          style: \"kinetic realism\",\n          tone: \"morally complex\",\n          color_palette: \"saturated urban\",\n          lighting_type: \"dramatic contrast\",\n          emotional_response: \"visceral energy\",\n          dialogue: \"rapid-fire naturalistic\"\n        }\n      }\n    }\n  },\n\n  ridley_scott: {\n    name: \"Ridley Scott\",\n    icon: \"⚔️\",\n    description: \"Epic scale, atmospheric world-building, visual grandeur\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Scott basics\",\n        fields: {\n          scale: \"epic\",\n          atmosphere: \"atmospheric grandeur\",\n          lighting_type: \"dramatic atmospheric\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Scott style\", \n        fields: {\n          scale: \"epic\",\n          atmosphere: \"atmospheric grandeur\",\n          lighting_type: \"dramatic atmospheric\",\n          influences: \"Ridley Scott\",\n          style: \"epic realism\",\n          distance: \"sweeping wide shots\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Scott production\",\n        fields: {\n          scale: \"epic\",\n          atmosphere: \"atmospheric grandeur\", \n          lighting_type: \"dramatic atmospheric\",\n          influences: \"Ridley Scott\",\n          style: \"epic realism\",\n          distance: \"sweeping wide shots\",\n          tone: \"mythic\",\n          color_palette: \"golden and steel\",\n          movement: \"sweeping camera\",\n          emotional_response: \"awe and dread\"\n        }\n      }\n    }\n  },\n\n  paul_thomas_anderson: {\n    name: \"Paul Thomas Anderson\",\n    icon: \"🎭\",\n    description: \"Long takes, ensemble dynamics, American character studies\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"PTA basics\",\n        fields: {\n          movement: \"long flowing takes\",\n          style: \"American ensemble\",\n          atmosphere: \"character intensity\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic PTA style\",\n        fields: {\n          movement: \"long flowing takes\",\n          style: \"American ensemble\", \n          atmosphere: \"character intensity\",\n          influences: \"Paul Thomas Anderson\",\n          distance: \"medium ensemble shots\",\n          music_style: \"eclectic period\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full PTA production\",\n        fields: {\n          movement: \"long flowing takes\",\n          style: \"American ensemble\",\n          atmosphere: \"character intensity\",\n          influences: \"Paul Thomas Anderson\",\n          distance: \"medium ensemble shots\",\n          music_style: \"eclectic period\",\n          tone: \"darkly comedic\",\n          lighting_type: \"naturalistic complex\",\n          color_palette: \"period authentic\",\n          emotional_response: \"uncomfortable intimacy\"\n        }\n      }\n    }\n  },\n\n  coen_brothers: {\n    name: \"Coen Brothers\",\n    icon: \"🎪\",\n    description: \"Quirky dialogue, symmetrical framing, dark comedy\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Coen basics\",\n        fields: {\n          style: \"symmetrical framing\",\n          tone: \"darkly comedic\",\n          dialogue: \"quirky distinctive\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Coen style\",\n        fields: {\n          style: \"symmetrical framing\",\n          tone: \"darkly comedic\", \n          dialogue: \"quirky distinctive\",\n          influences: \"Coen Brothers\",\n          atmosphere: \"eccentric americana\",\n          music_style: \"folk/period\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Coen production\",\n        fields: {\n          style: \"symmetrical framing\",\n          tone: \"darkly comedic\",\n          dialogue: \"quirky distinctive\", \n          influences: \"Coen Brothers\",\n          atmosphere: \"eccentric americana\",\n          music_style: \"folk/period\",\n          color_palette: \"muted americana\",\n          movement: \"precise geometric\",\n          lighting_type: \"controlled natural\",\n          emotional_response: \"bemused detachment\"\n        }\n      }\n    }\n  },\n\n  alfonso_cuaron: {\n    name: \"Alfonso Cuarón\",\n    icon: \"🌍\",\n    description: \"Long take mastery, intimate epics, technical virtuosity\",\n    levels: {\n      1: {\n        name: \"Essential\",\n        description: \"Cuarón basics\",\n        fields: {\n          movement: \"virtuoso long takes\",\n          style: \"intimate epic\",\n          technical_setup: \"complex choreography\"\n        }\n      },\n      2: {\n        name: \"Standard\",\n        description: \"Classic Cuarón style\",\n        fields: {\n          movement: \"virtuoso long takes\",\n          style: \"intimate epic\",\n          technical_setup: \"complex choreography\",\n          influences: \"Alfonso Cuarón\",\n          lighting_type: \"naturalistic precise\",\n          atmosphere: \"immersive realism\"\n        }\n      },\n      3: {\n        name: \"Detailed\",\n        description: \"Full Cuarón production\",\n        fields: {\n          movement: \"virtuoso long takes\",\n          style: \"intimate epic\",\n          technical_setup: \"complex choreography\",\n          influences: \"Alfonso Cuarón\",\n          lighting_type: \"naturalistic precise\", \n          atmosphere: \"immersive realism\",\n          tone: \"humanistic\",\n          color_palette: \"earth and sky\",\n          distance: \"flowing perspective\",\n          emotional_response: \"visceral empathy\"\n        }\n      }\n    }\n  }\n};\n\n// Import preset data for consolidation\nimport { characterPresets } from './characterPresetsData';\nimport { scenePresets } from './scenePresetsData';\nimport { actionPresets } from './actionPresetsData';\nimport { directorStyles } from './directorStylesData';\nimport { audioPresets } from './audioPresetsData';\n\n// Convert preset to template format\nconst convertPresetToTemplate = (preset) => ({\n  name: preset.name,\n  icon: \"⭐\", // Default icon, can be customized per category\n  description: preset.description,\n  category: preset.category,\n  tags: preset.tags,\n  useCase: preset.useCase,\n  customDetails: preset.customDetails,\n  fields: preset.fields, // Direct field mapping - no levels needed for presets\n  isPreset: true // Flag to identify converted presets\n});\n\n// Convert all presets and add to templates\nconst convertedPresets = {};\n\n// Add character presets\nObject.entries(characterPresets).forEach(([key, preset]) => {\n  convertedPresets[key] = {\n    ...convertPresetToTemplate(preset),\n    icon: \"👤\"\n  };\n});\n\n// Add scene presets  \nObject.entries(scenePresets).forEach(([key, preset]) => {\n  convertedPresets[key] = {\n    ...convertPresetToTemplate(preset),\n    icon: \"📍\"\n  };\n});\n\n// Add action presets\nObject.entries(actionPresets).forEach(([key, preset]) => {\n  convertedPresets[key] = {\n    ...convertPresetToTemplate(preset),\n    icon: \"🎬\"\n  };\n});\n\n// Add director style presets\nObject.entries(directorStyles).forEach(([key, preset]) => {\n  convertedPresets[key] = {\n    ...convertPresetToTemplate(preset),\n    icon: \"🎨\"\n  };\n});\n\n// Add audio presets\nObject.entries(audioPresets).forEach(([key, preset]) => {\n  convertedPresets[key] = {\n    ...convertPresetToTemplate(preset),\n    icon: \"🔊\"\n  };\n});\n\n// Merge original templates with converted presets\nexport const allTemplates = {\n  ...templates,\n  ...convertedPresets\n};\n\nexport const getTemplateFieldCount = (templateKey, level) => {\n  const template = allTemplates[templateKey];\n  if (!template) return 0;\n  \n  // For converted presets (no levels)\n  if (template.isPreset) {\n    return Object.keys(template.fields).length;\n  }\n  \n  // For original templates (with levels)\n  if (!template.levels[level]) return 0;\n  return Object.keys(template.levels[level].fields).length;\n};\n\nexport const getAllTemplateKeys = () => {\n  return Object.keys(allTemplates);\n};\n\n// Helper to check if template is a converted preset\nexport const isPresetTemplate = (templateKey) => {\n  return allTemplates[templateKey]?.isPreset || false;\n};\n\n// Get template data (handles both original templates and converted presets)\nexport const getTemplate = (templateKey) => {\n  return allTemplates[templateKey];\n};","import { create } from 'zustand';\nimport { schema } from './schema';\nimport { templates } from './templates';\n// import { characterPresets } from './characterPresets';\n\nconst usePromptStore = create((set, get) => ({\n  expandedCategories: new Set(),\n  enabledFields: new Set(),\n  fieldValues: {},\n  // New state for detail management\n  expandedDetails: new Set(), // Tracks which fields have their detail panels expanded\n  detailValues: {}, // Stores detail field values (e.g., tattoo_style, tattoo_location, etc.)\n  // Universal custom details for ALL fields\n  customDetails: {}, // Stores custom description text for any field (e.g., { hair_color: \"custom description\" })\n  expandedCustomDetails: new Set(), // Tracks which fields have custom detail areas expanded\n  \n  // Undo functionality\n  undoStack: [], // Stack to store previous states for undo\n  \n  // Aspect ratio for video generation\n  aspectRatio: '16:9',\n\n  toggleCategory: (categoryId) => set((state) => {\n    const newExpanded = new Set(state.expandedCategories);\n    if (newExpanded.has(categoryId)) {\n      newExpanded.delete(categoryId);\n    } else {\n      newExpanded.add(categoryId);\n    }\n    return { expandedCategories: newExpanded };\n  }),\n\n  toggleField: (fieldKey) => {\n    const { saveStateForUndo } = get();\n    saveStateForUndo(); // Save state before making changes\n    \n    set((state) => {\n      const newEnabled = new Set(state.enabledFields);\n      const newValues = { ...state.fieldValues };\n      \n      if (newEnabled.has(fieldKey)) {\n        newEnabled.delete(fieldKey);\n        delete newValues[fieldKey];\n      } else {\n        newEnabled.add(fieldKey);\n        newValues[fieldKey] = '';\n      }\n      \n      return { enabledFields: newEnabled, fieldValues: newValues };\n    });\n  },\n\n  updateFieldValue: (fieldKey, value) => {\n    const { saveStateForUndo } = get();\n    saveStateForUndo(); // Save state before making changes\n    \n    set((state) => {\n      const newFieldValues = {\n        ...state.fieldValues,\n        [fieldKey]: value\n      };\n    \n    // Auto-expand Character Details when any character_type is selected\n    let newExpandedCategories = state.expandedCategories;\n    if (fieldKey === 'character_type' && value && value !== 'custom...') {\n      newExpandedCategories = new Set(state.expandedCategories);\n      newExpandedCategories.add('character_details');\n    }\n    \n    // Auto-expand detail panel for certain complex selections\n    let newExpandedDetails = state.expandedDetails;\n    const autoExpandFields = [\n      // Character details\n      'tattoos', 'fantasy armor', 'sci-fi suit', \n      // Hair styles & colors\n      'braids', 'long curly', 'ponytail', 'afro', 'rainbow', 'red', 'blonde', 'blue',\n      // Body types\n      'athletic', 'muscular', 'curvy', 'petite',\n      // Actions\n      'dancing', 'fighting', 'running', 'performing', 'creating',\n      // Emotions\n      'mysterious', 'confident', 'romantic', 'determined', 'heroic',\n      // Camera movement & technical\n      'tracking', 'dolly zoom', 'orbit',\n      // Camera angles & distances\n      'low angle', 'high angle', 'dutch angle', \"bird's-eye\",\n      'close-up', 'extreme close-up', 'wide shot', 'establishing shot',\n      // Depth of field & lenses\n      'shallow', 'bokeh', 'rack focus', 'tilt-shift',\n      'wide angle', 'telephoto', 'fisheye', 'anamorphic', 'macro',\n      // Scene & Environment\n      'beach', 'forest', 'city street', 'mountains', 'rooftop',\n      'golden hour', 'blue hour', 'sunset', 'night', 'dawn',\n      'stormy', 'foggy', 'rainy', 'snowy', 'windy', 'dramatic sky'\n    ];\n    if (autoExpandFields.includes(value)) {\n      newExpandedDetails = new Set(state.expandedDetails);\n      newExpandedDetails.add(fieldKey);\n    }\n    \n      return {\n        fieldValues: newFieldValues,\n        expandedCategories: newExpandedCategories,\n        expandedDetails: newExpandedDetails\n      };\n    });\n  },\n\n  // Simplified field value setter for external components like viral video generator\n  setFieldValue: (fieldKey, value) => {\n    const { saveStateForUndo } = get();\n    saveStateForUndo(); // Save state before making changes\n    \n    set((state) => {\n      const newEnabledFields = new Set([...state.enabledFields, fieldKey]);\n      const newFieldValues = {\n        ...state.fieldValues,\n        [fieldKey]: value\n      };\n    \n      return {\n        enabledFields: newEnabledFields,\n        fieldValues: newFieldValues\n      };\n    });\n  },\n\n  // New methods for detail management\n  toggleDetailExpansion: (fieldKey) => set((state) => {\n    const newExpandedDetails = new Set(state.expandedDetails);\n    if (newExpandedDetails.has(fieldKey)) {\n      newExpandedDetails.delete(fieldKey);\n    } else {\n      newExpandedDetails.add(fieldKey);\n    }\n    return { expandedDetails: newExpandedDetails };\n  }),\n\n  updateDetailValue: (detailKey, value) => set((state) => ({\n    detailValues: {\n      ...state.detailValues,\n      [detailKey]: value\n    }\n  })),\n\n  clearFieldDetails: (fieldKey) => set((state) => {\n    const newExpandedDetails = new Set(state.expandedDetails);\n    newExpandedDetails.delete(fieldKey);\n    \n    // Clear all detail values for this field\n    const newDetailValues = { ...state.detailValues };\n    Object.keys(newDetailValues).forEach(key => {\n      if (key.startsWith(fieldKey.replace('_', '') + '_')) {\n        delete newDetailValues[key];\n      }\n    });\n    \n    return {\n      expandedDetails: newExpandedDetails,\n      detailValues: newDetailValues\n    };\n  }),\n\n  // Universal custom details methods\n  toggleCustomDetailExpansion: (fieldKey) => set((state) => {\n    const newExpandedCustomDetails = new Set(state.expandedCustomDetails);\n    if (newExpandedCustomDetails.has(fieldKey)) {\n      newExpandedCustomDetails.delete(fieldKey);\n    } else {\n      newExpandedCustomDetails.add(fieldKey);\n    }\n    return { expandedCustomDetails: newExpandedCustomDetails };\n  }),\n\n  updateCustomDetail: (fieldKey, value) => set((state) => ({\n    customDetails: {\n      ...state.customDetails,\n      [fieldKey]: value\n    }\n  })),\n\n  clearCustomDetail: (fieldKey) => set((state) => {\n    const newCustomDetails = { ...state.customDetails };\n    delete newCustomDetails[fieldKey];\n    \n    const newExpandedCustomDetails = new Set(state.expandedCustomDetails);\n    newExpandedCustomDetails.delete(fieldKey);\n    \n    return {\n      customDetails: newCustomDetails,\n      expandedCustomDetails: newExpandedCustomDetails\n    };\n  }),\n\n  getJsonOutput: () => {\n    const { fieldValues, detailValues, customDetails, aspectRatio } = get();\n    const filtered = {};\n    \n    // Include main field values\n    Object.entries(fieldValues).forEach(([key, value]) => {\n      if (value !== '' && value !== null && value !== undefined) {\n        filtered[key] = value;\n      }\n    });\n    \n    // Include detail values\n    Object.entries(detailValues).forEach(([key, value]) => {\n      if (value !== '' && value !== null && value !== undefined) {\n        filtered[key] = value;\n      }\n    });\n    \n    // Include custom details\n    Object.entries(customDetails).forEach(([key, value]) => {\n      if (value !== '' && value !== null && value !== undefined) {\n        filtered[`${key}_custom_details`] = value;\n      }\n    });\n    \n    // Include aspect ratio\n    if (aspectRatio) {\n      filtered.aspect_ratio = aspectRatio;\n    }\n    \n    return JSON.stringify(filtered, null, 2);\n  },\n\n  // Aspect ratio management\n  setAspectRatio: (ratio) => set(() => ({\n    aspectRatio: ratio\n  })),\n\n  // Advanced randomization system with scene coherence logic\n  randomizeFields: () => {\n    // Full Scene Builder - creates complete, logical scenes (20-30 fields)\n    const { randomizeFullScene } = get();\n    randomizeFullScene();\n  },\n\n  randomizeFullScene: () => {\n    const allFields = [];\n    \n    // Collect all fields from schema\n    schema.categories.forEach(category => {\n      category.fields.forEach(field => {\n        allFields.push({ ...field, categoryId: category.id });\n      });\n    });\n    \n    // Select 20-30 fields for a complete scene\n    const numFieldsToSelect = Math.floor(Math.random() * 11) + 20;\n    const shuffledFields = allFields.sort(() => 0.5 - Math.random());\n    const selectedFields = shuffledFields.slice(0, numFieldsToSelect);\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    // Scene coherence variables\n    let selectedSetting = null;\n    let selectedTimeOfDay = null;\n    let selectedWeather = null;\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      let randomValue = get().generateSmartFieldValue(field, selectedSetting, selectedTimeOfDay, selectedWeather);\n      \n      // Track key environmental choices for coherence\n      if (field.key === 'setting') selectedSetting = randomValue;\n      if (field.key === 'time_of_day') selectedTimeOfDay = randomValue;\n      if (field.key === 'weather') selectedWeather = randomValue;\n      \n      newFieldValues[field.key] = randomValue;\n    });\n    \n    set({\n      enabledFields: newEnabledFields,\n      fieldValues: newFieldValues,\n      expandedCategories: newExpandedCategories\n    });\n  },\n\n  randomizeLocationBased: () => {\n    // Import scene presets\n    import('./scenePresetsData.js').then(({ scenePresets, sceneCategories }) => {\n      // Pick a random location preset first\n      const presetKeys = Object.keys(scenePresets);\n      const randomPresetKey = presetKeys[Math.floor(Math.random() * presetKeys.length)];\n      const locationPreset = scenePresets[randomPresetKey];\n      \n      // Apply the location preset\n      const { applyScenePresetData } = get();\n      applyScenePresetData(locationPreset);\n      \n      // Add 8-15 additional compatible fields\n      const allFields = [];\n      schema.categories.forEach(category => {\n        category.fields.forEach(field => {\n          allFields.push({ ...field, categoryId: category.id });\n        });\n      });\n      \n      // Filter out fields already set by preset\n      const availableFields = allFields.filter(field => \n        !locationPreset.fields.hasOwnProperty(field.key)\n      );\n      \n      const numAdditionalFields = Math.floor(Math.random() * 8) + 8;\n      const shuffledFields = availableFields.sort(() => 0.5 - Math.random());\n      const additionalFields = shuffledFields.slice(0, numAdditionalFields);\n      \n      const { enabledFields, fieldValues, expandedCategories } = get();\n      const newEnabledFields = new Set([...enabledFields]);\n      const newFieldValues = { ...fieldValues };\n      const newExpandedCategories = new Set([...expandedCategories]);\n      \n      additionalFields.forEach(field => {\n        newEnabledFields.add(field.key);\n        newExpandedCategories.add(field.categoryId);\n        \n        const compatibleValue = get().generateLocationCompatibleValue(\n          field, \n          locationPreset.fields.setting,\n          locationPreset.fields.time_of_day,\n          locationPreset.fields.weather\n        );\n        \n        newFieldValues[field.key] = compatibleValue;\n      });\n      \n      set({\n        enabledFields: newEnabledFields,\n        fieldValues: newFieldValues,\n        expandedCategories: newExpandedCategories\n      });\n    });\n  },\n\n  randomizeCinematicStyle: () => {\n    // Focus on camera, lighting, and visual style (12-18 fields)\n    const cinematicCategories = ['camera_details', 'visual_style', 'lighting', 'motion_timing'];\n    const cinematicFields = [];\n    \n    schema.categories.forEach(category => {\n      if (cinematicCategories.includes(category.id)) {\n        category.fields.forEach(field => {\n          cinematicFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    // Add some scene fields for context\n    const sceneFields = [];\n    schema.categories.forEach(category => {\n      if (category.id === 'scene_description') {\n        category.fields.forEach(field => {\n          sceneFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    // Select 12-18 fields with emphasis on cinematic elements\n    const numCinematicFields = Math.floor(Math.random() * 7) + 12;\n    const cinematicSelection = cinematicFields.sort(() => 0.5 - Math.random()).slice(0, Math.floor(numCinematicFields * 0.7));\n    const sceneSelection = sceneFields.sort(() => 0.5 - Math.random()).slice(0, Math.floor(numCinematicFields * 0.3));\n    \n    const selectedFields = [...cinematicSelection, ...sceneSelection];\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      let randomValue = get().generateCinematicValue(field);\n      newFieldValues[field.key] = randomValue;\n    });\n    \n    set({\n      enabledFields: newEnabledFields,\n      fieldValues: newFieldValues,\n      expandedCategories: newExpandedCategories\n    });\n  },\n\n  randomizeEnvironmental: () => {\n    // Focus on environmental and atmospheric elements (15-22 fields)\n    const environmentalCategories = ['scene_description', 'lighting', 'subjects'];\n    const environmentalFields = [];\n    \n    schema.categories.forEach(category => {\n      if (environmentalCategories.includes(category.id)) {\n        category.fields.forEach(field => {\n          environmentalFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    const numFields = Math.floor(Math.random() * 8) + 15;\n    const selectedFields = environmentalFields.sort(() => 0.5 - Math.random()).slice(0, numFields);\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    // Generate a cohesive environment first\n    const environments = ['urban', 'nature', 'indoor', 'night', 'day', 'stormy', 'peaceful'];\n    const chosenEnvironment = environments[Math.floor(Math.random() * environments.length)];\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      let randomValue = get().generateEnvironmentalValue(field, chosenEnvironment);\n      newFieldValues[field.key] = randomValue;\n    });\n    \n    set({\n      enabledFields: newEnabledFields,\n      fieldValues: newFieldValues,\n      expandedCategories: newExpandedCategories\n    });\n  },\n\n  randomizeTechnicalSetup: () => {\n    // Focus on technical camera and production elements (10-16 fields)\n    const technicalCategories = ['camera_details', 'motion_timing'];\n    const technicalFields = [];\n    \n    schema.categories.forEach(category => {\n      if (technicalCategories.includes(category.id)) {\n        category.fields.forEach(field => {\n          technicalFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    const numFields = Math.floor(Math.random() * 7) + 10;\n    const selectedFields = technicalFields.sort(() => 0.5 - Math.random()).slice(0, numFields);\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      let randomValue = get().generateTechnicalValue(field);\n      newFieldValues[field.key] = randomValue;\n    });\n    \n    set({\n      enabledFields: newEnabledFields,\n      fieldValues: newFieldValues,\n      expandedCategories: newExpandedCategories\n    });\n  },\n\n  // Smart value generation with scene coherence logic\n  generateSmartFieldValue: (field, setting, timeOfDay, weather) => {\n    if (field.type === 'select' && field.options) {\n      const validOptions = field.options.filter(option => option !== 'custom...');\n      \n      // Apply location-appropriate filtering\n      if (setting && get().isLocationSpecificField(field.key)) {\n        const compatibleOptions = get().getLocationCompatibleOptions(field.key, setting, validOptions);\n        if (compatibleOptions.length > 0) {\n          return compatibleOptions[Math.floor(Math.random() * compatibleOptions.length)];\n        }\n      }\n      \n      // Apply time-of-day filtering\n      if (timeOfDay && get().isTimeSpecificField(field.key)) {\n        const timeCompatibleOptions = get().getTimeCompatibleOptions(field.key, timeOfDay, validOptions);\n        if (timeCompatibleOptions.length > 0) {\n          return timeCompatibleOptions[Math.floor(Math.random() * timeCompatibleOptions.length)];\n        }\n      }\n      \n      // Apply weather filtering\n      if (weather && get().isWeatherSpecificField(field.key)) {\n        const weatherCompatibleOptions = get().getWeatherCompatibleOptions(field.key, weather, validOptions);\n        if (weatherCompatibleOptions.length > 0) {\n          return weatherCompatibleOptions[Math.floor(Math.random() * weatherCompatibleOptions.length)];\n        }\n      }\n      \n      // Fallback to any valid option\n      if (validOptions.length > 0) {\n        return validOptions[Math.floor(Math.random() * validOptions.length)];\n      }\n    } else if (field.type === 'number') {\n      return Math.floor(Math.random() * 10) + 1;\n    } else if (field.type === 'textarea') {\n      return get().generateDetailedSceneDescription(setting, timeOfDay, weather);\n    }\n    \n    return '';\n  },\n\n  generateLocationCompatibleValue: (field, setting, timeOfDay, weather) => {\n    return get().generateSmartFieldValue(field, setting, timeOfDay, weather);\n  },\n\n  generateCinematicValue: (field) => {\n    if (field.type === 'select' && field.options) {\n      const validOptions = field.options.filter(option => option !== 'custom...');\n      \n      // Prefer cinematic options\n      const cinematicPreferences = {\n        camera_angle: ['low angle', 'high angle', 'dutch angle'],\n        camera_distance: ['close-up', 'wide shot', 'establishing shot'],\n        lens_type: ['wide angle', 'telephoto', 'anamorphic'],\n        depth_of_field: ['shallow', 'bokeh', 'rack focus'],\n        lighting_type: ['dramatic', 'golden hour', 'blue hour', 'rim lighting'],\n        style: ['cinematic', 'dramatic', 'epic']\n      };\n      \n      if (cinematicPreferences[field.key]) {\n        const preferred = cinematicPreferences[field.key].filter(pref => validOptions.includes(pref));\n        if (preferred.length > 0) {\n          return preferred[Math.floor(Math.random() * preferred.length)];\n        }\n      }\n      \n      return validOptions[Math.floor(Math.random() * validOptions.length)];\n    }\n    \n    return get().generateSmartFieldValue(field, null, null, null);\n  },\n\n  generateEnvironmentalValue: (field, environment) => {\n    if (field.type === 'select' && field.options) {\n      const validOptions = field.options.filter(option => option !== 'custom...');\n      \n      const environmentalPreferences = {\n        urban: {\n          setting: ['city street', 'rooftop', 'downtown plaza', 'office'],\n          lighting_type: ['neon', 'street lighting', 'fluorescent'],\n          environmental_details: ['traffic sounds', 'city noise', 'urban atmosphere']\n        },\n        nature: {\n          setting: ['forest', 'beach', 'mountains', 'meadow', 'lake'],\n          lighting_type: ['natural', 'golden hour', 'dappled sunlight'],\n          environmental_details: ['wind', 'bird songs', 'natural sounds']\n        },\n        indoor: {\n          setting: ['coffee shop', 'library', 'restaurant', 'office', 'bedroom'],\n          lighting_type: ['warm ambient', 'soft overhead', 'intimate warm'],\n          environmental_details: ['quiet ambiance', 'indoor comfort']\n        }\n      };\n      \n      if (environmentalPreferences[environment] && environmentalPreferences[environment][field.key]) {\n        const preferred = environmentalPreferences[environment][field.key].filter(pref => validOptions.includes(pref));\n        if (preferred.length > 0) {\n          return preferred[Math.floor(Math.random() * preferred.length)];\n        }\n      }\n      \n      return validOptions[Math.floor(Math.random() * validOptions.length)];\n    }\n    \n    return get().generateSmartFieldValue(field, null, null, null);\n  },\n\n  generateTechnicalValue: (field) => {\n    if (field.type === 'select' && field.options) {\n      const validOptions = field.options.filter(option => option !== 'custom...');\n      return validOptions[Math.floor(Math.random() * validOptions.length)];\n    }\n    \n    return get().generateSmartFieldValue(field, null, null, null);\n  },\n\n  // Utility functions for scene coherence\n  isLocationSpecificField: (fieldKey) => {\n    return ['clothing', 'actions', 'environmental_details', 'camera_distance'].includes(fieldKey);\n  },\n\n  isTimeSpecificField: (fieldKey) => {\n    return ['lighting_type', 'color_palette', 'environmental_details'].includes(fieldKey);\n  },\n\n  isWeatherSpecificField: (fieldKey) => {\n    return ['clothing', 'environmental_details', 'lighting_type'].includes(fieldKey);\n  },\n\n  getLocationCompatibleOptions: (fieldKey, setting, options) => {\n    const locationCompatibility = {\n      beach: {\n        clothing: ['swimwear', 'casual summer', 'light clothing'],\n        actions: ['swimming', 'surfing', 'walking', 'relaxing'],\n        environmental_details: ['ocean breeze', 'wave sounds', 'sandy texture'],\n        camera_distance: ['wide shot', 'medium shot', 'establishing shot']\n      },\n      forest: {\n        clothing: ['outdoor gear', 'hiking attire', 'natural colors'],\n        actions: ['hiking', 'walking', 'exploring', 'camping'],\n        environmental_details: ['rustling leaves', 'bird songs', 'forest sounds'],\n        camera_distance: ['medium shot', 'close-up', 'tracking shot']\n      }\n      // Add more location compatibility rules as needed\n    };\n    \n    if (locationCompatibility[setting] && locationCompatibility[setting][fieldKey]) {\n      return options.filter(option => \n        locationCompatibility[setting][fieldKey].some(compatible => \n          option.toLowerCase().includes(compatible.toLowerCase())\n        )\n      );\n    }\n    \n    return options;\n  },\n\n  getTimeCompatibleOptions: (fieldKey, timeOfDay, options) => {\n    const timeCompatibility = {\n      'golden hour': {\n        lighting_type: ['golden hour', 'warm sunlight', 'dramatic side lighting'],\n        color_palette: ['warm golden', 'sunset oranges', 'warm tones']\n      },\n      'blue hour': {\n        lighting_type: ['blue hour', 'twilight', 'ambient evening'],\n        color_palette: ['cool blues', 'twilight purples', 'moody tones']\n      },\n      night: {\n        lighting_type: ['neon', 'street lighting', 'dramatic artificial'],\n        color_palette: ['neon colors', 'night blues', 'dramatic contrasts']\n      }\n    };\n    \n    if (timeCompatibility[timeOfDay] && timeCompatibility[timeOfDay][fieldKey]) {\n      return options.filter(option => \n        timeCompatibility[timeOfDay][fieldKey].some(compatible => \n          option.toLowerCase().includes(compatible.toLowerCase())\n        )\n      );\n    }\n    \n    return options;\n  },\n\n  getWeatherCompatibleOptions: (fieldKey, weather, options) => {\n    const weatherCompatibility = {\n      rainy: {\n        clothing: ['raincoat', 'waterproof', 'umbrella'],\n        environmental_details: ['rain sounds', 'wet surfaces', 'puddles'],\n        lighting_type: ['overcast', 'moody', 'dramatic']\n      },\n      sunny: {\n        clothing: ['light clothing', 'summer wear', 'sunglasses'],\n        environmental_details: ['bright sunshine', 'clear skies', 'warm atmosphere'],\n        lighting_type: ['bright sunlight', 'natural daylight', 'golden hour']\n      }\n    };\n    \n    if (weatherCompatibility[weather] && weatherCompatibility[weather][fieldKey]) {\n      return options.filter(option => \n        weatherCompatibility[weather][fieldKey].some(compatible => \n          option.toLowerCase().includes(compatible.toLowerCase())\n        )\n      );\n    }\n    \n    return options;\n  },\n\n  generateDetailedSceneDescription: (setting, timeOfDay, weather) => {\n    const sceneTemplates = {\n      'beach-sunny-day': 'Wide sandy beach with crystal clear turquoise water, gentle waves lapping the shore, bright blue sky with scattered white clouds, warm golden sand, and the sound of seabirds in the distance',\n      'forest-morning-clear': 'Misty forest path winding through tall pine trees, dappled morning sunlight filtering through the canopy, moss-covered ground, dewdrops on ferns, and the peaceful sounds of awakening nature',\n      'city-night-clear': 'Bustling city street illuminated by neon signs and street lights, reflections on wet pavement, moving traffic creating light trails, towering skyscrapers against the night sky',\n      'rooftop-sunset-clear': 'Modern rooftop terrace overlooking city skyline, golden hour light casting long shadows, glass railings reflecting the setting sun, comfortable outdoor furniture, urban sprawl extending to the horizon'\n    };\n    \n    // Try to find a specific template\n    const templateKey = `${setting}-${timeOfDay}-${weather}`.replace(/\\s+/g, '-').toLowerCase();\n    if (sceneTemplates[templateKey]) {\n      return sceneTemplates[templateKey];\n    }\n    \n    // Fallback to generic detailed descriptions\n    const genericTemplates = [\n      'Carefully composed scene with rich environmental details, atmospheric lighting, and engaging visual elements that draw the viewer into the narrative',\n      'Dynamic environment with layered visual depth, natural lighting transitions, and authentic atmospheric elements that enhance the storytelling',\n      'Immersive setting with thoughtful attention to environmental storytelling, mood-appropriate lighting, and realistic details that create emotional connection',\n      'Compelling visual scene with natural movement, organic lighting, and environmental elements that support the narrative focus and emotional tone'\n    ];\n    \n    return genericTemplates[Math.floor(Math.random() * genericTemplates.length)];\n  },\n\n  // Save current state for undo functionality\n  saveStateForUndo: () => {\n    const state = get();\n    const currentState = {\n      enabledFields: new Set(state.enabledFields),\n      fieldValues: { ...state.fieldValues },\n      expandedCategories: new Set(state.expandedCategories),\n      expandedDetails: new Set(state.expandedDetails),\n      detailValues: { ...state.detailValues },\n      customDetails: { ...state.customDetails },\n      expandedCustomDetails: new Set(state.expandedCustomDetails)\n    };\n    \n    set((state) => ({\n      undoStack: [...state.undoStack.slice(-9), currentState] // Keep last 10 states\n    }));\n  },\n  \n  // Undo last action\n  undo: () => {\n    const state = get();\n    if (state.undoStack.length > 0) {\n      const previousState = state.undoStack[state.undoStack.length - 1];\n      const newUndoStack = state.undoStack.slice(0, -1);\n      \n      set({\n        enabledFields: previousState.enabledFields,\n        fieldValues: previousState.fieldValues,\n        expandedCategories: previousState.expandedCategories,\n        expandedDetails: previousState.expandedDetails,\n        detailValues: previousState.detailValues,\n        customDetails: previousState.customDetails,\n        expandedCustomDetails: previousState.expandedCustomDetails,\n        undoStack: newUndoStack\n      });\n      \n      return true; // Successfully undid\n    }\n    return false; // Nothing to undo\n  },\n  \n  clearAll: () => {\n    const { saveStateForUndo } = get();\n    saveStateForUndo(); // Save state before clearing\n    \n    set({\n      enabledFields: new Set(),\n      fieldValues: {},\n      expandedCategories: new Set(),\n      expandedDetails: new Set(),\n      detailValues: {},\n      customDetails: {},\n      expandedCustomDetails: new Set()\n    });\n  },\n\n  applyTemplate: (templateKey, level = 2) => {\n    const template = templates[templateKey];\n    if (!template || !template.levels[level]) return;\n\n    const templateFields = template.levels[level].fields;\n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n\n    // Find which categories contain the template fields and expand them\n    schema.categories.forEach(category => {\n      let categoryHasTemplateFields = false;\n      \n      category.fields.forEach(field => {\n        if (templateFields.hasOwnProperty(field.key)) {\n          newEnabledFields.add(field.key);\n          newFieldValues[field.key] = templateFields[field.key];\n          categoryHasTemplateFields = true;\n        }\n      });\n\n      if (categoryHasTemplateFields) {\n        newExpandedCategories.add(category.id);\n      }\n    });\n\n    // Merge with existing state (don't override existing user selections)\n    const { enabledFields, fieldValues, expandedCategories } = get();\n    \n    const mergedEnabledFields = new Set([...enabledFields, ...newEnabledFields]);\n    const mergedFieldValues = { ...fieldValues, ...newFieldValues };\n    const mergedExpandedCategories = new Set([...expandedCategories, ...newExpandedCategories]);\n\n    set({\n      enabledFields: mergedEnabledFields,\n      fieldValues: mergedFieldValues,\n      expandedCategories: mergedExpandedCategories\n    });\n  },\n\n  getTemplatePreview: (templateKey, level = 2) => {\n    const template = templates[templateKey];\n    if (!template || !template.levels[level]) return null;\n\n    const templateFields = template.levels[level].fields;\n    const fieldCount = Object.keys(templateFields).length;\n    const categoriesAffected = new Set();\n\n    // Find which categories will be affected\n    schema.categories.forEach(category => {\n      category.fields.forEach(field => {\n        if (templateFields.hasOwnProperty(field.key)) {\n          categoriesAffected.add(category.label);\n        }\n      });\n    });\n\n    return {\n      name: template.name,\n      level: template.levels[level].name,\n      description: template.levels[level].description,\n      fieldCount,\n      categoriesAffected: Array.from(categoriesAffected),\n      fields: templateFields\n    };\n  },\n\n  // Character Presets System\n  applyCharacterPresetData: (presetData) => {\n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    const newCustomDetails = {};\n\n    // Apply preset field values\n    Object.entries(presetData.fields).forEach(([key, value]) => {\n      newEnabledFields.add(key);\n      newFieldValues[key] = value;\n    });\n\n    // Add custom details if present\n    if (presetData.customDetails) {\n      // Find the primary character field to attach custom details to\n      const primaryField = presetData.fields.character_type ? 'character_type' : \n                          presetData.fields.clothing ? 'clothing' :\n                          Object.keys(presetData.fields)[0];\n      \n      if (primaryField) {\n        newCustomDetails[primaryField] = presetData.customDetails;\n      }\n    }\n\n    // Find which categories contain the preset fields and expand them\n    schema.categories.forEach(category => {\n      let categoryHasPresetFields = false;\n      \n      category.fields.forEach(field => {\n        if (presetData.fields.hasOwnProperty(field.key)) {\n          categoryHasPresetFields = true;\n        }\n      });\n\n      if (categoryHasPresetFields) {\n        newExpandedCategories.add(category.id);\n      }\n    });\n\n    // Auto-expand character details when character preset is applied\n    newExpandedCategories.add('character_details');\n\n    // Merge with existing state (don't override existing user selections)\n    const { enabledFields, fieldValues, expandedCategories, customDetails } = get();\n    \n    const mergedEnabledFields = new Set([...enabledFields, ...newEnabledFields]);\n    const mergedFieldValues = { ...fieldValues, ...newFieldValues };\n    const mergedExpandedCategories = new Set([...expandedCategories, ...newExpandedCategories]);\n    const mergedCustomDetails = { ...customDetails, ...newCustomDetails };\n\n    set({\n      enabledFields: mergedEnabledFields,\n      fieldValues: mergedFieldValues,\n      expandedCategories: mergedExpandedCategories,\n      customDetails: mergedCustomDetails\n    });\n  },\n\n  // Scene Presets System\n  applyScenePresetData: (presetData) => {\n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    const newCustomDetails = {};\n\n    // Apply preset field values\n    Object.entries(presetData.fields).forEach(([key, value]) => {\n      newEnabledFields.add(key);\n      newFieldValues[key] = value;\n    });\n\n    // Add custom details if present\n    if (presetData.customDetails) {\n      // Find the primary scene field to attach custom details to\n      const primaryField = presetData.fields.scene ? 'scene' : \n                          presetData.fields.setting ? 'setting' :\n                          Object.keys(presetData.fields)[0];\n      \n      if (primaryField) {\n        newCustomDetails[primaryField] = presetData.customDetails;\n      }\n    }\n\n    // Find which categories contain the preset fields and expand them\n    schema.categories.forEach(category => {\n      let categoryHasPresetFields = false;\n      \n      category.fields.forEach(field => {\n        if (presetData.fields.hasOwnProperty(field.key)) {\n          categoryHasPresetFields = true;\n        }\n      });\n\n      if (categoryHasPresetFields) {\n        newExpandedCategories.add(category.id);\n      }\n    });\n\n    // Auto-expand scene-related categories\n    newExpandedCategories.add('scene_description');\n    newExpandedCategories.add('camera_details');\n    newExpandedCategories.add('visual_style');\n\n    // Merge with existing state (don't override existing user selections)\n    const { enabledFields, fieldValues, expandedCategories, customDetails } = get();\n    \n    const mergedEnabledFields = new Set([...enabledFields, ...newEnabledFields]);\n    const mergedFieldValues = { ...fieldValues, ...newFieldValues };\n    const mergedExpandedCategories = new Set([...expandedCategories, ...newExpandedCategories]);\n    const mergedCustomDetails = { ...customDetails, ...newCustomDetails };\n\n    set({\n      enabledFields: mergedEnabledFields,\n      fieldValues: mergedFieldValues,\n      expandedCategories: mergedExpandedCategories,\n      customDetails: mergedCustomDetails\n    });\n  },\n\n  // Enhanced Randomization Methods\n  randomizeCharacterFields: () => {\n    const characterCategories = ['subjects', 'character_details'];\n    const characterFields = [];\n    \n    // Collect character-related fields\n    schema.categories.forEach(category => {\n      if (characterCategories.includes(category.id)) {\n        category.fields.forEach(field => {\n          characterFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    // Randomly select 3-8 character fields\n    const numFieldsToSelect = Math.floor(Math.random() * 6) + 3;\n    const shuffledFields = characterFields.sort(() => 0.5 - Math.random());\n    const selectedFields = shuffledFields.slice(0, numFieldsToSelect);\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      // Generate random value\n      let randomValue = '';\n      if (field.type === 'select' && field.options) {\n        const validOptions = field.options.filter(option => option !== 'custom...');\n        if (validOptions.length > 0) {\n          randomValue = validOptions[Math.floor(Math.random() * validOptions.length)];\n        }\n      }\n      newFieldValues[field.key] = randomValue;\n    });\n    \n    // Merge with existing state\n    const { enabledFields, fieldValues, expandedCategories } = get();\n    \n    set({\n      enabledFields: new Set([...enabledFields, ...newEnabledFields]),\n      fieldValues: { ...fieldValues, ...newFieldValues },\n      expandedCategories: new Set([...expandedCategories, ...newExpandedCategories])\n    });\n  },\n\n  randomizeSceneFields: () => {\n    const sceneCategories = ['scene_description', 'camera_details', 'visual_style', 'lighting', 'motion_timing'];\n    const sceneFields = [];\n    \n    // Collect scene-related fields\n    schema.categories.forEach(category => {\n      if (sceneCategories.includes(category.id)) {\n        category.fields.forEach(field => {\n          sceneFields.push({ ...field, categoryId: category.id });\n        });\n      }\n    });\n    \n    // Randomly select 4-10 scene fields\n    const numFieldsToSelect = Math.floor(Math.random() * 7) + 4;\n    const shuffledFields = sceneFields.sort(() => 0.5 - Math.random());\n    const selectedFields = shuffledFields.slice(0, numFieldsToSelect);\n    \n    const newEnabledFields = new Set();\n    const newFieldValues = {};\n    const newExpandedCategories = new Set();\n    \n    selectedFields.forEach(field => {\n      newEnabledFields.add(field.key);\n      newExpandedCategories.add(field.categoryId);\n      \n      // Generate random value\n      let randomValue = '';\n      if (field.type === 'select' && field.options) {\n        const validOptions = field.options.filter(option => option !== 'custom...');\n        if (validOptions.length > 0) {\n          randomValue = validOptions[Math.floor(Math.random() * validOptions.length)];\n        }\n      } else if (field.type === 'textarea') {\n        const sceneTemplates = [\n          'A mysterious figure walking through a foggy landscape',\n          'Vibrant colors dancing in slow motion',\n          'An intimate conversation between two characters',\n          'Dynamic action sequence with dramatic lighting',\n          'Peaceful natural setting with gentle movement'\n        ];\n        randomValue = sceneTemplates[Math.floor(Math.random() * sceneTemplates.length)];\n      }\n      newFieldValues[field.key] = randomValue;\n    });\n    \n    // Merge with existing state\n    const { enabledFields, fieldValues, expandedCategories } = get();\n    \n    set({\n      enabledFields: new Set([...enabledFields, ...newEnabledFields]),\n      fieldValues: { ...fieldValues, ...newFieldValues },\n      expandedCategories: new Set([...expandedCategories, ...newExpandedCategories])\n    });\n  },\n\n  // Save/Load System\n  savedCharacters: JSON.parse(localStorage.getItem('savedCharacters') || '[]'),\n  savedScenes: JSON.parse(localStorage.getItem('savedScenes') || '[]'),\n  savedScenePacks: JSON.parse(localStorage.getItem('savedScenePacks') || '[]'),\n  savedActions: JSON.parse(localStorage.getItem('savedActions') || '[]'),\n  savedSettings: JSON.parse(localStorage.getItem('savedSettings') || '[]'),\n  savedStyles: JSON.parse(localStorage.getItem('savedStyles') || '[]'),\n  savedAudio: JSON.parse(localStorage.getItem('savedAudio') || '[]'),\n\n  // Template Usage Tracking\n  templateUsage: JSON.parse(localStorage.getItem('templateUsage') || '{}'),\n\n  // Project Management System\n  projects: JSON.parse(localStorage.getItem('projects') || '[]'),\n  currentProject: JSON.parse(localStorage.getItem('currentProject') || 'null'),\n\n  saveCharacter: (name) => {\n    const { fieldValues, savedCharacters } = get();\n    \n    // Extract character-related fields\n    const characterFields = {};\n    const characterKeys = ['character_type', 'gender', 'age_range', 'ethnicity', 'body_type', 'hair_color', \n                          'hair_style', 'eye_color', 'skin_tone', 'distinguishing_features',\n                          'animal_species', 'animal_color', 'robot_style', 'robot_material',\n                          'stylized_style', 'object_type', 'clothing', 'actions', 'emotions'];\n    \n    characterKeys.forEach(key => {\n      if (fieldValues[key]) {\n        characterFields[key] = fieldValues[key];\n      }\n    });\n\n    const newCharacter = {\n      id: Date.now().toString(),\n      name: name || `Character ${savedCharacters.length + 1}`,\n      timestamp: Date.now(),\n      data: characterFields\n    };\n\n    const updatedCharacters = [...savedCharacters, newCharacter].slice(-20); // Keep last 20\n    localStorage.setItem('savedCharacters', JSON.stringify(updatedCharacters));\n    \n    set({ savedCharacters: updatedCharacters });\n    return newCharacter.id;\n  },\n\n  saveScene: (name) => {\n    const { fieldValues, savedScenes } = get();\n    \n    const newScene = {\n      id: Date.now().toString(),\n      name: name || `Scene ${savedScenes.length + 1}`,\n      timestamp: Date.now(),\n      data: { ...fieldValues }\n    };\n\n    const updatedScenes = [...savedScenes, newScene].slice(-20); // Keep last 20\n    localStorage.setItem('savedScenes', JSON.stringify(updatedScenes));\n    \n    set({ savedScenes: updatedScenes });\n    return newScene.id;\n  },\n\n  loadCharacter: (characterId) => {\n    const { savedCharacters } = get();\n    const character = savedCharacters.find(c => c.id === characterId);\n    \n    if (import.meta && import.meta.env && import.meta.env.DEV) {\n      console.log('Loading character ID:', characterId);\n      console.log('Found character:', character);\n    }\n    \n    if (character) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      // Enable fields and expand categories for character data\n      Object.keys(character.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        // Find which category this field belongs to and expand it\n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      if (import.meta && import.meta.env && import.meta.env.DEV) {\n        console.log('Setting field values:', character.data);\n        console.log('Enabled fields:', newEnabledFields);\n      }\n\n      set({\n        fieldValues: { ...character.data },\n        enabledFields: newEnabledFields,\n        expandedCategories: newExpandedCategories\n      });\n    } else {\n      if (import.meta && import.meta.env && import.meta.env.DEV) {\n        console.log('Character not found with ID:', characterId);\n        console.log('Available characters:', savedCharacters);\n      }\n    }\n  },\n\n  loadScene: (sceneId) => {\n    const { savedScenes } = get();\n    const scene = savedScenes.find(s => s.id === sceneId);\n    \n    if (scene) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      // Enable fields and expand categories for scene data\n      Object.keys(scene.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        // Find which category this field belongs to and expand it\n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      set({\n        fieldValues: { ...scene.data },\n        enabledFields: newEnabledFields,\n        expandedCategories: newExpandedCategories\n      });\n    }\n  },\n\n  deleteCharacter: (characterId) => {\n    const { savedCharacters } = get();\n    const updatedCharacters = savedCharacters.filter(c => c.id !== characterId);\n    localStorage.setItem('savedCharacters', JSON.stringify(updatedCharacters));\n    set({ savedCharacters: updatedCharacters });\n  },\n\n  deleteScene: (sceneId) => {\n    const { savedScenes } = get();\n    const updatedScenes = savedScenes.filter(s => s.id !== sceneId);\n    localStorage.setItem('savedScenes', JSON.stringify(updatedScenes));\n    set({ savedScenes: updatedScenes });\n  },\n\n  // Actions Category Management\n  saveAction: (name) => {\n    const { fieldValues, savedActions } = get();\n    \n    // Extract action-related fields\n    const actionFields = {};\n    const actionFieldKeys = ['actions', 'dialogue', 'scene', 'emotions', 'performance_style'];\n    \n    actionFieldKeys.forEach(key => {\n      if (fieldValues[key] !== undefined && fieldValues[key] !== '') {\n        actionFields[key] = fieldValues[key];\n      }\n    });\n\n    const newAction = {\n      id: Date.now().toString(),\n      name: name || `Action ${savedActions.length + 1}`,\n      timestamp: Date.now(),\n      data: actionFields\n    };\n\n    const updatedActions = [...savedActions, newAction].slice(-20);\n    localStorage.setItem('savedActions', JSON.stringify(updatedActions));\n    \n    set({ savedActions: updatedActions });\n    return newAction.id;\n  },\n\n  loadAction: (actionId) => {\n    const { savedActions } = get();\n    const action = savedActions.find(a => a.id === actionId);\n    \n    if (action) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      Object.keys(action.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      set((state) => ({\n        fieldValues: { ...state.fieldValues, ...action.data },\n        enabledFields: new Set([...state.enabledFields, ...newEnabledFields]),\n        expandedCategories: new Set([...state.expandedCategories, ...newExpandedCategories])\n      }));\n    }\n  },\n\n  deleteAction: (actionId) => {\n    const { savedActions } = get();\n    const updatedActions = savedActions.filter(a => a.id !== actionId);\n    localStorage.setItem('savedActions', JSON.stringify(updatedActions));\n    set({ savedActions: updatedActions });\n  },\n\n  // Settings Category Management\n  saveSetting: (name) => {\n    const { fieldValues, savedSettings } = get();\n    \n    // Extract setting-related fields\n    const settingFields = {};\n    const settingFieldKeys = ['setting', 'time_of_day', 'environment', 'weather', 'lighting_type', 'scene_elements'];\n    \n    settingFieldKeys.forEach(key => {\n      if (fieldValues[key] !== undefined && fieldValues[key] !== '') {\n        settingFields[key] = fieldValues[key];\n      }\n    });\n\n    const newSetting = {\n      id: Date.now().toString(),\n      name: name || `Setting ${savedSettings.length + 1}`,\n      timestamp: Date.now(),\n      data: settingFields\n    };\n\n    const updatedSettings = [...savedSettings, newSetting].slice(-20);\n    localStorage.setItem('savedSettings', JSON.stringify(updatedSettings));\n    \n    set({ savedSettings: updatedSettings });\n    return newSetting.id;\n  },\n\n  loadSetting: (settingId) => {\n    const { savedSettings } = get();\n    const setting = savedSettings.find(s => s.id === settingId);\n    \n    if (setting) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      Object.keys(setting.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      set((state) => ({\n        fieldValues: { ...state.fieldValues, ...setting.data },\n        enabledFields: new Set([...state.enabledFields, ...newEnabledFields]),\n        expandedCategories: new Set([...state.expandedCategories, ...newExpandedCategories])\n      }));\n    }\n  },\n\n  deleteSetting: (settingId) => {\n    const { savedSettings } = get();\n    const updatedSettings = savedSettings.filter(s => s.id !== settingId);\n    localStorage.setItem('savedSettings', JSON.stringify(updatedSettings));\n    set({ savedSettings: updatedSettings });\n  },\n\n  // Styles Category Management\n  saveStyle: (name) => {\n    const { fieldValues, savedStyles } = get();\n    \n    // Extract style-related fields\n    const styleFields = {};\n    const styleFieldKeys = ['style', 'color_palette', 'camera_angle', 'camera_distance', 'lens_type', 'depth_of_field', 'stylized_style'];\n    \n    styleFieldKeys.forEach(key => {\n      if (fieldValues[key] !== undefined && fieldValues[key] !== '') {\n        styleFields[key] = fieldValues[key];\n      }\n    });\n\n    const newStyle = {\n      id: Date.now().toString(),\n      name: name || `Style ${savedStyles.length + 1}`,\n      timestamp: Date.now(),\n      data: styleFields\n    };\n\n    const updatedStyles = [...savedStyles, newStyle].slice(-20);\n    localStorage.setItem('savedStyles', JSON.stringify(updatedStyles));\n    \n    set({ savedStyles: updatedStyles });\n    return newStyle.id;\n  },\n\n  loadStyle: (styleId) => {\n    const { savedStyles } = get();\n    const style = savedStyles.find(s => s.id === styleId);\n    \n    if (style) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      Object.keys(style.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      set((state) => ({\n        fieldValues: { ...state.fieldValues, ...style.data },\n        enabledFields: new Set([...state.enabledFields, ...newEnabledFields]),\n        expandedCategories: new Set([...state.expandedCategories, ...newExpandedCategories])\n      }));\n    }\n  },\n\n  deleteStyle: (styleId) => {\n    const { savedStyles } = get();\n    const updatedStyles = savedStyles.filter(s => s.id !== styleId);\n    localStorage.setItem('savedStyles', JSON.stringify(updatedStyles));\n    set({ savedStyles: updatedStyles });\n  },\n\n  // Audio Category Management\n  saveAudio: (name) => {\n    const { fieldValues, savedAudio } = get();\n    \n    // Extract audio-related fields\n    const audioFields = {};\n    const audioFieldKeys = ['music_style', 'sound_effects', 'audio_mood', 'ambient_sound', 'voice_direction'];\n    \n    audioFieldKeys.forEach(key => {\n      if (fieldValues[key] !== undefined && fieldValues[key] !== '') {\n        audioFields[key] = fieldValues[key];\n      }\n    });\n\n    const newAudio = {\n      id: Date.now().toString(),\n      name: name || `Audio ${savedAudio.length + 1}`,\n      timestamp: Date.now(),\n      data: audioFields\n    };\n\n    const updatedAudio = [...savedAudio, newAudio].slice(-20);\n    localStorage.setItem('savedAudio', JSON.stringify(updatedAudio));\n    \n    set({ savedAudio: updatedAudio });\n    return newAudio.id;\n  },\n\n  loadAudio: (audioId) => {\n    const { savedAudio } = get();\n    const audio = savedAudio.find(a => a.id === audioId);\n    \n    if (audio) {\n      const newEnabledFields = new Set();\n      const newExpandedCategories = new Set();\n      \n      Object.keys(audio.data).forEach(key => {\n        newEnabledFields.add(key);\n        \n        schema.categories.forEach(category => {\n          if (category.fields.some(field => field.key === key)) {\n            newExpandedCategories.add(category.id);\n          }\n        });\n      });\n\n      set((state) => ({\n        fieldValues: { ...state.fieldValues, ...audio.data },\n        enabledFields: new Set([...state.enabledFields, ...newEnabledFields]),\n        expandedCategories: new Set([...state.expandedCategories, ...newExpandedCategories])\n      }));\n    }\n  },\n\n  deleteAudio: (audioId) => {\n    const { savedAudio } = get();\n    const updatedAudio = savedAudio.filter(a => a.id !== audioId);\n    localStorage.setItem('savedAudio', JSON.stringify(updatedAudio));\n    set({ savedAudio: updatedAudio });\n  },\n\n  // Template Usage Tracking\n  recordTemplateUsage: (templateKey, categoryType) => {\n    const { templateUsage } = get();\n    const now = Date.now();\n    \n    // Create or update usage record\n    const newUsageData = {\n      ...templateUsage,\n      [templateKey]: {\n        count: (templateUsage[templateKey]?.count || 0) + 1,\n        lastUsed: now,\n        categoryType: categoryType, // 'characters', 'actions', 'settings', 'styles', 'audio'\n        firstUsed: templateUsage[templateKey]?.firstUsed || now\n      }\n    };\n    \n    // Save to localStorage and update state\n    localStorage.setItem('templateUsage', JSON.stringify(newUsageData));\n    set({ templateUsage: newUsageData });\n  },\n\n  getRecentTemplates: (categoryType, limit = 10) => {\n    const { templateUsage } = get();\n    \n    // Filter templates by category type and sort by last used\n    const recentTemplates = Object.entries(templateUsage)\n      .filter(([_, usage]) => usage.categoryType === categoryType)\n      .sort((a, b) => b[1].lastUsed - a[1].lastUsed)\n      .slice(0, limit)\n      .map(([templateKey, usage]) => ({\n        templateKey,\n        ...usage\n      }));\n    \n    return recentTemplates;\n  },\n\n  getMostUsedTemplates: (categoryType, limit = 10) => {\n    const { templateUsage } = get();\n    \n    // Filter templates by category type and sort by usage count\n    const mostUsedTemplates = Object.entries(templateUsage)\n      .filter(([_, usage]) => usage.categoryType === categoryType)\n      .sort((a, b) => b[1].count - a[1].count)\n      .slice(0, limit)\n      .map(([templateKey, usage]) => ({\n        templateKey,\n        ...usage\n      }));\n    \n    return mostUsedTemplates;\n  },\n\n  // Scene Pack Management\n  saveScenePack: (name, sceneOptions, originalScene) => {\n    const { savedScenePacks } = get();\n    \n    const newScenePack = {\n      id: Date.now().toString(),\n      name: name || `Scene Pack ${savedScenePacks.length + 1}`,\n      timestamp: Date.now(),\n      originalScene: originalScene ? { ...originalScene } : null,\n      scenes: sceneOptions.map((option, index) => ({\n        id: `${Date.now()}_${index}`,\n        type: option.type,\n        icon: option.icon,\n        summary: option.summary,\n        json: option.json\n      }))\n    };\n\n    const updatedScenePacks = [...savedScenePacks, newScenePack].slice(-10); // Keep last 10 packs\n    localStorage.setItem('savedScenePacks', JSON.stringify(updatedScenePacks));\n    \n    set({ savedScenePacks: updatedScenePacks });\n    return newScenePack.id;\n  },\n\n  loadScenePack: (packId) => {\n    const { savedScenePacks } = get();\n    const pack = savedScenePacks.find(p => p.id === packId);\n    return pack || null;\n  },\n\n  deleteScenePack: (packId) => {\n    const { savedScenePacks } = get();\n    const updatedScenePacks = savedScenePacks.filter(p => p.id !== packId);\n    localStorage.setItem('savedScenePacks', JSON.stringify(updatedScenePacks));\n    set({ savedScenePacks: updatedScenePacks });\n  },\n\n  exportData: (type, id = null) => {\n    const { fieldValues, savedCharacters, savedScenes } = get();\n    \n    let exportData;\n    let filename;\n    \n    if (type === 'current') {\n      exportData = {\n        type: 'scene',\n        version: '1.0',\n        timestamp: Date.now(),\n        data: fieldValues\n      };\n      filename = 'current-scene.json';\n    } else if (type === 'character' && id) {\n      const character = savedCharacters.find(c => c.id === id);\n      exportData = {\n        type: 'character',\n        version: '1.0',\n        ...character\n      };\n      filename = `${character.name.replace(/\\s+/g, '-').toLowerCase()}.json`;\n    } else if (type === 'scene' && id) {\n      const scene = savedScenes.find(s => s.id === id);\n      exportData = {\n        type: 'scene',\n        version: '1.0',\n        ...scene\n      };\n      filename = `${scene.name.replace(/\\s+/g, '-').toLowerCase()}.json`;\n    } else if (type === 'all') {\n      exportData = {\n        type: 'backup',\n        version: '1.0',\n        timestamp: Date.now(),\n        characters: savedCharacters,\n        scenes: savedScenes\n      };\n      filename = 'prompt-generator-backup.json';\n    }\n    \n    if (exportData) {\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    }\n  },\n\n  importData: (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const importData = JSON.parse(e.target.result);\n          const { savedCharacters, savedScenes } = get();\n\n          if (importData.type === 'character') {\n            // Import single character\n            const newCharacter = {\n              ...importData,\n              id: Date.now().toString() // Generate new ID to avoid conflicts\n            };\n            const updatedCharacters = [...savedCharacters, newCharacter].slice(-20);\n            localStorage.setItem('savedCharacters', JSON.stringify(updatedCharacters));\n            set({ savedCharacters: updatedCharacters });\n            resolve({ type: 'character', name: newCharacter.name });\n            \n          } else if (importData.type === 'scene') {\n            // Import single scene\n            const newScene = {\n              ...importData,\n              id: Date.now().toString() // Generate new ID to avoid conflicts\n            };\n            const updatedScenes = [...savedScenes, newScene].slice(-20);\n            localStorage.setItem('savedScenes', JSON.stringify(updatedScenes));\n            set({ savedScenes: updatedScenes });\n            resolve({ type: 'scene', name: newScene.name });\n            \n          } else if (importData.type === 'backup') {\n            // Import backup (multiple characters and scenes)\n            const newCharacters = importData.characters.map(char => ({\n              ...char,\n              id: Date.now().toString() + Math.random().toString(36).substr(2, 9)\n            }));\n            const newScenes = importData.scenes.map(scene => ({\n              ...scene,\n              id: Date.now().toString() + Math.random().toString(36).substr(2, 9)\n            }));\n            \n            const updatedCharacters = [...savedCharacters, ...newCharacters].slice(-20);\n            const updatedScenes = [...savedScenes, ...newScenes].slice(-20);\n            \n            localStorage.setItem('savedCharacters', JSON.stringify(updatedCharacters));\n            localStorage.setItem('savedScenes', JSON.stringify(updatedScenes));\n            \n            set({ \n              savedCharacters: updatedCharacters,\n              savedScenes: updatedScenes \n            });\n            \n            resolve({ \n              type: 'backup', \n              count: {\n                characters: newCharacters.length,\n                scenes: newScenes.length\n              }\n            });\n          } else {\n            reject(new Error('Invalid file format'));\n          }\n        } catch (error) {\n          reject(new Error('Failed to parse JSON file'));\n        }\n      };\n      reader.readAsText(file);\n    });\n  },\n\n  // Project Management Functions\n  createProject: (name, description = '', defaultStyle = {}) => {\n    const { projects } = get();\n    \n    const newProject = {\n      id: Date.now().toString(),\n      name: name.trim(),\n      description: description.trim(),\n      timestamp: Date.now(),\n      defaultStyle, // Consistent style settings for this project\n      sceneCount: 0,\n      settings: {\n        autoApplyStyle: true,\n        mergeStrategy: 'smart' // 'replace', 'merge', 'smart'\n      }\n    };\n\n    const updatedProjects = [...projects, newProject];\n    localStorage.setItem('projects', JSON.stringify(updatedProjects));\n    \n    set({ \n      projects: updatedProjects,\n      currentProject: newProject\n    });\n    localStorage.setItem('currentProject', JSON.stringify(newProject));\n    \n    return newProject.id;\n  },\n\n  switchProject: (projectId) => {\n    const { projects } = get();\n    const project = projects.find(p => p.id === projectId);\n    \n    if (project) {\n      set({ currentProject: project });\n      localStorage.setItem('currentProject', JSON.stringify(project));\n      \n      // Auto-apply project's default style if enabled\n      if (project.settings?.autoApplyStyle && project.defaultStyle) {\n        get().applyProjectStyle(project.defaultStyle);\n      }\n    }\n  },\n\n  updateProject: (projectId, updates) => {\n    const { projects, currentProject } = get();\n    \n    const updatedProjects = projects.map(project => {\n      if (project.id === projectId) {\n        const updatedProject = { ...project, ...updates };\n        return updatedProject;\n      }\n      return project;\n    });\n\n    localStorage.setItem('projects', JSON.stringify(updatedProjects));\n    \n    // Update current project if it's the one being modified\n    const updatedCurrentProject = currentProject?.id === projectId \n      ? updatedProjects.find(p => p.id === projectId)\n      : currentProject;\n\n    set({ \n      projects: updatedProjects,\n      currentProject: updatedCurrentProject\n    });\n    \n    if (updatedCurrentProject) {\n      localStorage.setItem('currentProject', JSON.stringify(updatedCurrentProject));\n    }\n  },\n\n  deleteProject: (projectId) => {\n    const { projects, currentProject } = get();\n    \n    const updatedProjects = projects.filter(p => p.id !== projectId);\n    localStorage.setItem('projects', JSON.stringify(updatedProjects));\n    \n    // Clear current project if it's being deleted\n    const updatedCurrentProject = currentProject?.id === projectId ? null : currentProject;\n    \n    set({ \n      projects: updatedProjects,\n      currentProject: updatedCurrentProject\n    });\n    \n    if (updatedCurrentProject) {\n      localStorage.setItem('currentProject', JSON.stringify(updatedCurrentProject));\n    } else {\n      localStorage.removeItem('currentProject');\n    }\n  },\n\n  applyProjectStyle: (styleSettings) => {\n    const { setFieldValue } = get();\n    \n    // Apply style-related fields from project defaults\n    Object.entries(styleSettings).forEach(([field, value]) => {\n      if (value && value.trim() !== '') {\n        setFieldValue(field, value);\n      }\n    });\n  },\n\n  incrementProjectSceneCount: (projectId) => {\n    const { projects } = get();\n    const project = projects.find(p => p.id === projectId);\n    \n    if (project) {\n      get().updateProject(projectId, { \n        sceneCount: (project.sceneCount || 0) + 1 \n      });\n    }\n  },\n\n  // Smart scene merging with context preservation\n  applySceneWithMergeStrategy: (sceneData, strategy = 'smart') => {\n    const { fieldValues, enabledFields, setFieldValue, clearAll } = get();\n    \n    if (strategy === 'replace') {\n      // Complete replacement (current behavior)\n      clearAll();\n      Object.entries(sceneData).forEach(([key, value]) => {\n        if (value !== undefined) {\n          setFieldValue(key, value);\n        }\n      });\n      return;\n    }\n    \n    if (strategy === 'merge') {\n      // Simple merge - add new fields without clearing existing\n      Object.entries(sceneData).forEach(([key, value]) => {\n        if (value !== undefined) {\n          setFieldValue(key, value);\n        }\n      });\n      return;\n    }\n    \n    if (strategy === 'smart') {\n      // Smart merge - preserve context, update selectively\n      const legacyCharacterFields = ['character_type', 'character_name', 'age', 'gender', 'hair_color', 'hair_style', 'eye_color', 'skin_tone', 'clothing_type', 'clothing_color'];\n      const settingFields = ['setting', 'time_of_day', 'environment', 'scene'];\n      const styleFields = ['camera_angle', 'camera_distance', 'lighting', 'style', 'color_palette', 'mood'];\n      \n      // Analyze what's changing in the new scene data\n      const hasNewCharacters = sceneData.hasOwnProperty('characters');\n      const hasNewLegacyCharacter = legacyCharacterFields.some(field => sceneData.hasOwnProperty(field));\n      const hasNewSetting = settingFields.some(field => sceneData.hasOwnProperty(field));\n      const hasNewStyle = styleFields.some(field => sceneData.hasOwnProperty(field));\n      \n      // Handle character merging specially\n      if (hasNewCharacters && Array.isArray(sceneData.characters)) {\n        const currentCharacters = fieldValues.characters || [];\n        const newCharacters = sceneData.characters;\n        \n        // Smart character merging: add new characters, update existing ones by name\n        let mergedCharacters = [...currentCharacters];\n        \n        newCharacters.forEach(newChar => {\n          const existingIndex = mergedCharacters.findIndex(existing => \n            existing.name && newChar.name && existing.name.toLowerCase() === newChar.name.toLowerCase()\n          );\n          \n          if (existingIndex >= 0) {\n            // Update existing character\n            mergedCharacters[existingIndex] = { ...mergedCharacters[existingIndex], ...newChar };\n          } else {\n            // Add new character\n            mergedCharacters.push(newChar);\n          }\n        });\n        \n        setFieldValue('characters', mergedCharacters);\n      } else if (hasNewLegacyCharacter) {\n        // Clear existing legacy character data before adding new\n        legacyCharacterFields.forEach(field => {\n          if (enabledFields.has(field)) {\n            setFieldValue(field, '');\n          }\n        });\n      }\n      \n      // Apply new scene data (excluding characters which we handled above)\n      Object.entries(sceneData).forEach(([key, value]) => {\n        if (key !== 'characters' && value !== undefined) {\n          setFieldValue(key, value);\n        }\n      });\n      \n      return;\n    }\n  }\n}));\n\nexport default usePromptStore;","import React from 'react';\nimport usePromptStore from './store';\n\nconst DetailPanel = ({ field, selectedValue }) => {\n  const { detailValues, updateDetailValue } = usePromptStore();\n  \n  // Get detail configuration for the selected value\n  const detailConfig = field.detailConfig?.[selectedValue];\n  \n  if (!detailConfig) return null;\n\n  // Quick tags for common combinations\n  const getQuickTags = () => {\n    const tagSets = {\n      tattoos: [\n        { label: '🐉 Dragon', values: { tattoo_style: 'traditional', tattoo_description: 'Dragon design with flames' } },\n        { label: '🌹 Rose', values: { tattoo_style: 'realistic', tattoo_description: 'Red rose with thorns' } },\n        { label: '⚓ Anchor', values: { tattoo_style: 'american traditional', tattoo_description: 'Classic anchor design' } },\n        { label: '🔥 Tribal', values: { tattoo_style: 'tribal', tattoo_description: 'Bold tribal patterns' } }\n      ],\n      'fantasy armor': [\n        { label: '🛡️ Knight', values: { armor_type: 'plate armor', armor_material: 'steel', armor_description: 'Shining knight\\'s plate armor' } },\n        { label: '🐲 Dragon', values: { armor_type: 'scale armor', armor_material: 'dragon scale', armor_description: 'Dark dragon scale armor' } },\n        { label: '✨ Magical', values: { armor_type: 'magical armor', armor_material: 'enchanted metal', armor_description: 'Glowing magical armor with runes' } }\n      ],\n      'sci-fi suit': [\n        { label: '🚀 Space', values: { suit_type: 'space suit', suit_features: 'oxygen system, radiation shielding', suit_description: 'White space suit with blue highlights' } },\n        { label: '⚡ Power', values: { suit_type: 'power armor', suit_features: 'enhanced strength, energy shields', suit_description: 'Metallic power armor with glowing elements' } },\n        { label: '🌆 Cyber', values: { suit_type: 'cyberpunk outfit', suit_features: 'neural interface, holo display', suit_description: 'Black leather with neon accents' } }\n      ],\n      beach: [\n        { label: '🏝️ Tropical', values: { beach_type: 'tropical', beach_features: 'palm trees, white sand, crystal water', beach_description: 'Perfect tropical paradise with gentle waves' } },\n        { label: '🌊 Dramatic', values: { beach_type: 'rocky coast', beach_features: 'crashing waves, sea spray, rocks', beach_description: 'Powerful waves crashing against dramatic cliffs' } },\n        { label: '🏖️ Peaceful', values: { beach_type: 'secluded cove', beach_features: 'calm water, soft sand, privacy', beach_description: 'Hidden peaceful cove with gentle lapping waves' } }\n      ],\n      forest: [\n        { label: '🌲 Mystical', values: { forest_type: 'mystical forest', forest_lighting: 'dappled sunlight', forest_description: 'Enchanted forest with ethereal lighting and ancient trees' } },\n        { label: '🍂 Autumn', values: { forest_type: 'autumn forest', forest_lighting: 'golden rays', forest_description: 'Beautiful fall colors with warm golden sunlight' } },\n        { label: '🌴 Tropical', values: { forest_type: 'tropical rainforest', forest_lighting: 'deep shadows', forest_description: 'Dense jungle with exotic plants and filtered light' } }\n      ],\n      'city street': [\n        { label: '🌃 Night Life', values: { street_type: 'busy downtown', street_activity: 'late night', street_description: 'Vibrant nightlife with neon lights and bustling crowds' } },\n        { label: '🏙️ Rush Hour', values: { street_type: 'busy downtown', street_activity: 'rush hour', street_description: 'Busy commercial district during peak traffic hours' } },\n        { label: '🏘️ Quiet', values: { street_type: 'quiet residential', street_activity: 'empty', street_description: 'Peaceful suburban street with tree-lined sidewalks' } }\n      ],\n      'golden hour': [\n        { label: '✨ Peak Golden', values: { golden_timing: 'peak golden light', golden_intensity: 'brilliant golden', golden_description: 'Perfect golden hour lighting with warm, brilliant glow' } },\n        { label: '🌅 Soft Glow', values: { golden_timing: 'early golden hour', golden_intensity: 'soft warm glow', golden_description: 'Gentle morning golden light with soft shadows' } },\n        { label: '🌇 Deep Amber', values: { golden_timing: 'late golden hour', golden_intensity: 'deep amber', golden_description: 'Rich amber lighting just before sunset' } }\n      ],\n      stormy: [\n        { label: '⛈️ Thunder', values: { storm_intensity: 'severe thunderstorm', storm_elements: 'lightning, heavy rain, thunder', storm_description: 'Dramatic thunderstorm with frequent lightning and heavy downpour' } },\n        { label: '🌪️ Approaching', values: { storm_intensity: 'approaching storm', storm_elements: 'dark clouds, wind, distant thunder', storm_description: 'Ominous storm clouds gathering with increasing wind' } },\n        { label: '🌧️ Heavy Rain', values: { storm_intensity: 'heavy storm', storm_elements: 'torrential rain, wind, occasional lightning', storm_description: 'Intense rainstorm with powerful winds and heavy precipitation' } }\n      ],\n      // Character Hair Styles\n      braids: [\n        { label: '👸 French', values: { braid_type: 'french braid', braid_length: 'shoulder length', braid_description: 'Elegant french braid with neat, structured styling' } },\n        { label: '✨ Twin', values: { braid_type: 'twin braids', braid_length: 'mid-back', braid_description: 'Cute twin braids with playful, youthful energy' } },\n        { label: '🌊 Fishtail', values: { braid_type: 'fishtail braid', braid_length: 'waist length', braid_description: 'Intricate fishtail braid with detailed weaving pattern' } }\n      ],\n      'long curly': [\n        { label: '🌊 Beach Waves', values: { curl_pattern: 'beach waves', curl_volume: 'voluminous', curl_description: 'Natural-looking beach waves with sun-kissed movement' } },\n        { label: '💫 Spiral', values: { curl_pattern: 'spiral curls', curl_volume: 'bouncy', curl_description: 'Defined spiral curls with beautiful bounce and shine' } },\n        { label: '✨ Loose Waves', values: { curl_pattern: 'loose waves', curl_volume: 'controlled', curl_description: 'Elegant loose waves with sophisticated styling' } }\n      ],\n      rainbow: [\n        { label: '🌈 Classic', values: { rainbow_pattern: 'traditional rainbow', rainbow_colors: 'red, orange, yellow, green, blue, purple', rainbow_description: 'Classic rainbow hair with vibrant traditional colors' } },\n        { label: '🦄 Pastel', values: { rainbow_pattern: 'pastel rainbow', rainbow_colors: 'soft pink, lavender, mint, peach', rainbow_description: 'Dreamy pastel rainbow with soft, ethereal colors' } },\n        { label: '⚡ Ombre', values: { rainbow_pattern: 'ombre rainbow', rainbow_colors: 'blue to purple to pink', rainbow_description: 'Stunning ombre rainbow with smooth color transitions' } }\n      ],\n      // Character Body Types\n      athletic: [\n        { label: '🏃 Runner', values: { athletic_type: \"runner's build\", athletic_definition: 'lean muscle', athletic_description: 'Lean, efficient build with excellent endurance and natural grace' } },\n        { label: '🏊 Swimmer', values: { athletic_type: \"swimmer's build\", athletic_definition: 'toned', athletic_description: 'Strong shoulders and core with fluid, powerful movement' } },\n        { label: '🥋 Martial Artist', values: { athletic_type: 'martial artist', athletic_definition: 'defined', athletic_description: 'Balanced strength and flexibility with disciplined posture' } }\n      ],\n      // Character Actions\n      dancing: [\n        { label: '🩰 Ballet', values: { dance_style: 'ballet', dance_energy: 'graceful', dance_description: 'Elegant ballet movements with perfect form and artistic expression' } },\n        { label: '🕺 Hip Hop', values: { dance_style: 'hip hop', dance_energy: 'energetic', dance_description: 'Dynamic hip hop moves with rhythm and street style confidence' } },\n        { label: '💃 Salsa', values: { dance_style: 'salsa', dance_energy: 'passionate', dance_description: 'Fiery salsa dancing with Latin flair and romantic energy' } }\n      ],\n      // Character Emotions\n      mysterious: [\n        { label: '🔮 Enigmatic', values: { mystery_intensity: 'deeply mysterious', mystery_expression: 'knowing smile', mystery_description: 'Captivating mysterious aura with hidden depths and secrets' } },\n        { label: '👁️ Piercing', values: { mystery_intensity: 'intriguingly secretive', mystery_expression: 'piercing stare', mystery_description: 'Intense mysterious presence with penetrating, knowing gaze' } },\n        { label: '😏 Playful', values: { mystery_intensity: 'playfully mysterious', mystery_expression: 'half-hidden face', mystery_description: 'Playfully mysterious with hints of mischief and hidden knowledge' } }\n      ],\n      // Camera Angles\n      'low angle': [\n        { label: '⚡ Heroic', values: { low_angle_degree: 'moderate low angle', low_angle_effect: 'heroic', low_angle_description: 'Heroic low angle showcasing strength and determination' } },\n        { label: '👑 Powerful', values: { low_angle_degree: 'extreme low angle', low_angle_effect: 'powerful/dominant', low_angle_description: 'Dramatic low angle emphasizing power and dominance' } },\n        { label: '🏰 Majestic', values: { low_angle_degree: 'dramatic upward', low_angle_effect: 'majestic', low_angle_description: 'Majestic upward angle creating awe and grandeur' } }\n      ],\n      'high angle': [\n        { label: '🕊️ Vulnerable', values: { high_angle_degree: 'moderate high angle', high_angle_effect: 'vulnerable', high_angle_description: 'High angle showing vulnerability and humanity' } },\n        { label: '🌅 Contemplative', values: { high_angle_degree: 'slight high angle', high_angle_effect: 'contemplative', high_angle_description: 'Gentle high angle for thoughtful, introspective mood' } },\n        { label: '🌊 Overwhelmed', values: { high_angle_degree: 'extreme high angle', high_angle_effect: 'overwhelmed', high_angle_description: 'Dramatic high angle showing overwhelming circumstances' } }\n      ],\n      // Camera Distances\n      'close-up': [\n        { label: '💖 Intimate', values: { closeup_framing: 'face and shoulders', closeup_purpose: 'emotional intimacy', closeup_description: 'Intimate close-up capturing emotional connection and warmth' } },\n        { label: '🎭 Dramatic', values: { closeup_framing: 'facial features', closeup_purpose: 'dramatic tension', closeup_description: 'Dramatic close-up highlighting intense emotion and tension' } },\n        { label: '👁️ Eyes Focus', values: { closeup_framing: 'eyes emphasis', closeup_purpose: 'connection', closeup_description: 'Close-up focused on eyes for deep emotional connection' } }\n      ],\n      // Depth of Field\n      bokeh: [\n        { label: '✨ Dreamy', values: { bokeh_quality: 'dreamy', bokeh_background: 'natural lighting', bokeh_description: 'Dreamy bokeh with soft, ethereal background blur' } },\n        { label: '🌃 City Lights', values: { bokeh_quality: 'circular highlights', bokeh_background: 'city lights', bokeh_description: 'Beautiful bokeh from city lights creating magical atmosphere' } },\n        { label: '🎨 Artistic', values: { bokeh_quality: 'artistic blur', bokeh_background: 'colored elements', bokeh_description: 'Artistic bokeh with creative color blur and highlights' } }\n      ],\n      // Lenses\n      'wide angle': [\n        { label: '🌍 Epic', values: { wide_angle_focal: '14mm (ultra-wide)', wide_angle_effect: 'dramatic perspective', wide_angle_description: 'Epic ultra-wide perspective capturing vast, dramatic scope' } },\n        { label: '🏢 Architectural', values: { wide_angle_focal: '24mm (moderate wide)', wide_angle_effect: 'environmental context', wide_angle_description: 'Architectural wide angle showing environmental context and scale' } },\n        { label: '🎬 Cinematic', values: { wide_angle_focal: '28mm (standard wide)', wide_angle_effect: 'immersive feeling', wide_angle_description: 'Cinematic wide angle creating immersive, engaging perspective' } }\n      ],\n      telephoto: [\n        { label: '📸 Portrait', values: { telephoto_focal: '85mm (short tele)', telephoto_compression: 'subject isolation', telephoto_description: 'Perfect portrait telephoto with beautiful subject isolation' } },\n        { label: '🎯 Compressed', values: { telephoto_focal: '200mm (long tele)', telephoto_compression: 'background compression', telephoto_description: 'Dramatic telephoto compression flattening perspective' } },\n        { label: '💫 Intimate', values: { telephoto_focal: '135mm (medium tele)', telephoto_compression: 'intimate framing', telephoto_description: 'Intimate telephoto framing with natural compression' } }\n      ],\n      anamorphic: [\n        { label: '🎬 Cinematic', values: { anamorphic_ratio: '2x squeeze', anamorphic_flares: 'horizontal blue flares', anamorphic_description: 'Classic cinematic anamorphic with signature blue flares' } },\n        { label: '✨ Vintage', values: { anamorphic_ratio: '1.5x squeeze', anamorphic_flares: 'vintage flares', anamorphic_description: 'Vintage anamorphic look with warm, nostalgic flares' } },\n        { label: '🌟 Dramatic', values: { anamorphic_ratio: '1.33x squeeze', anamorphic_flares: 'dramatic flares', anamorphic_description: 'Dramatic anamorphic with bold, expressive lens flares' } }\n      ]\n    };\n    return tagSets[selectedValue] || [];\n  };\n\n  const quickTags = getQuickTags();\n\n  const applyQuickTag = (tagValues) => {\n    Object.entries(tagValues).forEach(([key, value]) => {\n      const detailKey = `${field.key}_${key}`;\n      updateDetailValue(detailKey, value);\n    });\n  };\n\n  const renderDetailField = (detailField) => {\n    const detailKey = `${field.key}_${detailField.key}`;\n    const value = detailValues[detailKey] || '';\n    \n    const baseClasses = \"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text transition-all duration-300 text-sm\";\n\n    switch (detailField.type) {\n      case 'textarea':\n        return (\n          <textarea\n            value={value}\n            onChange={(e) => updateDetailValue(detailKey, e.target.value)}\n            placeholder={detailField.placeholder || detailField.label}\n            rows={2}\n            className={baseClasses}\n          />\n        );\n      \n      case 'select':\n        return (\n          <select\n            value={value}\n            onChange={(e) => updateDetailValue(detailKey, e.target.value)}\n            className={baseClasses}\n          >\n            <option value=\"\">Select {detailField.label}</option>\n            {detailField.options?.map((option) => (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            ))}\n          </select>\n        );\n      \n      default:\n        return (\n          <input\n            type=\"text\"\n            value={value}\n            onChange={(e) => updateDetailValue(detailKey, e.target.value)}\n            placeholder={detailField.placeholder || detailField.label}\n            className={baseClasses}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"mt-3 p-4 bg-blue-50 dark:bg-cinema-card/30 border border-blue-200 dark:border-cinema-border rounded-lg transition-all duration-300\">\n      <div className=\"flex items-center space-x-2 mb-3\">\n        <svg className=\"w-4 h-4 text-blue-600 dark:text-cinema-teal\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n        </svg>\n        <h4 className=\"text-sm font-semibold text-blue-800 dark:text-cinema-teal\">\n          {detailConfig.label}\n        </h4>\n      </div>\n      \n      {/* Quick Tags */}\n      {quickTags.length > 0 && (\n        <div className=\"mb-4\">\n          <div className=\"text-xs font-medium text-gray-600 dark:text-cinema-text-muted mb-2\">Quick presets:</div>\n          <div className=\"flex flex-wrap gap-2\">\n            {quickTags.map((tag, index) => (\n              <button\n                key={index}\n                onClick={() => applyQuickTag(tag.values)}\n                className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 dark:bg-cinema-card dark:hover:bg-cinema-border text-gray-700 dark:text-cinema-text rounded-full transition-colors duration-200 border border-gray-200 dark:border-cinema-border\"\n              >\n                {tag.label}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      <div className=\"space-y-3\">\n        {detailConfig.fields.map((detailField) => (\n          <div key={detailField.key}>\n            <label className=\"block text-xs font-medium text-gray-700 dark:text-cinema-text-muted mb-1\">\n              {detailField.label}\n            </label>\n            {renderDetailField(detailField)}\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"mt-3 text-xs text-blue-600 dark:text-cinema-text-muted\">\n        💡 Add specific details to enhance your prompt\n      </div>\n    </div>\n  );\n};\n\nexport default DetailPanel;","import React, { useState, useRef, useEffect } from 'react';\nimport usePromptStore from './store';\n\nconst DialogueBuilder = ({ fieldKey, value, onChange, characters = [] }) => {\n  const { fieldValues } = usePromptStore();\n  const [dialogueMode, setDialogueMode] = useState('simple'); // simple, conversation, template\n  const [dialogueLines, setDialogueLines] = useState([]);\n  const [activeLineIndex, setActiveLineIndex] = useState(0);\n  const [showTemplates, setShowTemplates] = useState(false);\n\n  // Dialogue Templates\n  const dialogueTemplates = {\n    podcast: {\n      name: \"Podcast Interview\",\n      icon: \"🎙️\",\n      lines: [\n        { speaker: \"Host\", text: \"Welcome back to the show. Today we have an incredible guest with us...\", tone: \"enthusiastic\", delivery: \"conversational\" },\n        { speaker: \"Guest\", text: \"Thanks for having me on. I'm excited to be here.\", tone: \"confident\", delivery: \"conversational\" },\n        { speaker: \"Host\", text: \"So let's dive right in - tell us about [topic]...\", tone: \"curious\", delivery: \"interview\" }\n      ]\n    },\n    documentary: {\n      name: \"Documentary\",\n      icon: \"📹\",\n      lines: [\n        { speaker: \"Narrator\", text: \"In a world where [subject] changes everything...\", tone: \"dramatic\", delivery: \"voice-over\" },\n        { speaker: \"Expert\", text: \"What most people don't realize is that [insight]...\", tone: \"serious\", delivery: \"interview\" },\n        { speaker: \"Narrator\", text: \"But the story doesn't end there...\", tone: \"mysterious\", delivery: \"voice-over\" }\n      ]\n    },\n    commercial: {\n      name: \"Commercial\",\n      icon: \"📺\",\n      lines: [\n        { speaker: \"Announcer\", text: \"Are you tired of [problem]?\", tone: \"urgent\", delivery: \"dramatic\" },\n        { speaker: \"Customer\", text: \"I was struggling with [issue] until I found [solution]!\", tone: \"excited\", delivery: \"conversational\" },\n        { speaker: \"Announcer\", text: \"Don't wait - call now!\", tone: \"urgent\", delivery: \"fast-paced\" }\n      ]\n    },\n    tutorial: {\n      name: \"Tutorial\",\n      icon: \"📚\",\n      lines: [\n        { speaker: \"Instructor\", text: \"Today we're going to learn how to [skill]...\", tone: \"confident\", delivery: \"instructional\" },\n        { speaker: \"Student\", text: \"What if I make a mistake?\", tone: \"nervous\", delivery: \"conversational\" },\n        { speaker: \"Instructor\", text: \"Don't worry - mistakes are part of learning. Let's try again.\", tone: \"encouraging\", delivery: \"supportive\" }\n      ]\n    },\n    drama: {\n      name: \"Drama Scene\",\n      icon: \"🎭\",\n      lines: [\n        { speaker: \"Character A\", text: \"I can't believe you would do this to me...\", tone: \"sad\", delivery: \"emotional\" },\n        { speaker: \"Character B\", text: \"You don't understand - I had no choice!\", tone: \"desperate\", delivery: \"intense\" },\n        { speaker: \"Character A\", text: \"There's always a choice. You just made the wrong one.\", tone: \"angry\", delivery: \"dramatic\" }\n      ]\n    },\n    comedy: {\n      name: \"Comedy Sketch\",\n      icon: \"😂\",\n      lines: [\n        { speaker: \"Comedian\", text: \"So I went to the store to buy [item]...\", tone: \"playful\", delivery: \"comedic\" },\n        { speaker: \"Straight Man\", text: \"That seems normal enough.\", tone: \"neutral\", delivery: \"conversational\" },\n        { speaker: \"Comedian\", text: \"Yeah, but then [absurd situation happened]!\", tone: \"excited\", delivery: \"comedic\" }\n      ]\n    }\n  };\n\n  // Initialize dialogue from existing value\n  useEffect(() => {\n    if (value && typeof value === 'string' && value.trim()) {\n      // Convert simple text to structured format\n      setDialogueLines([{\n        id: 1,\n        speaker: 'Character',\n        text: value,\n        tone: 'neutral',\n        delivery: 'conversational',\n        notes: ''\n      }]);\n    } else if (value && typeof value === 'object' && value.lines) {\n      setDialogueLines(value.lines);\n    } else {\n      setDialogueLines([]);\n    }\n  }, [value]);\n\n  // Available characters from character presets or field values\n  const availableSpeakers = React.useMemo(() => {\n    const speakers = ['Narrator', 'Voice-over'];\n    \n    // Add characters from the new multi-character system\n    if (characters && Array.isArray(characters) && characters.length > 0) {\n      characters.forEach(character => {\n        if (character.name && character.name.trim()) {\n          speakers.push(character.name.trim());\n        }\n      });\n    }\n    \n    // Fallback: Add character from legacy single character field values\n    if (fieldValues.character_name && fieldValues.character_name.trim()) {\n      const legacyCharacterName = fieldValues.character_name.trim();\n      if (!speakers.includes(legacyCharacterName)) {\n        speakers.push(legacyCharacterName);\n      }\n    } else if (fieldValues.character_type && fieldValues.character_type !== 'custom...') {\n      const characterName = fieldValues.character_type.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());\n      if (!speakers.includes(characterName)) {\n        speakers.push(characterName);\n      }\n    }\n    \n    // If no characters are defined, add a default\n    if (speakers.length === 2) { // Only Narrator and Voice-over\n      speakers.push('Character');\n    }\n    \n    return speakers;\n  }, [characters, fieldValues.character_name, fieldValues.character_type]);\n\n  const emotionalTones = [\n    'neutral', 'happy', 'sad', 'angry', 'excited', 'nervous', 'confident', \n    'mysterious', 'romantic', 'dramatic', 'comedic', 'sarcastic', 'whispered', \n    'shouted', 'urgent', 'calm', 'intense', 'playful'\n  ];\n\n  const deliveryStyles = [\n    'conversational', 'formal', 'dramatic', 'comedic', 'documentary', \n    'interview', 'monologue', 'voice-over', 'fast-paced', 'slow-paced',\n    'rhythmic', 'natural', 'scripted'\n  ];\n\n  const addDialogueLine = () => {\n    const newLine = {\n      id: Date.now(),\n      speaker: availableSpeakers[0],\n      text: '',\n      tone: 'neutral',\n      delivery: 'conversational',\n      notes: ''\n    };\n    \n    const newLines = [...dialogueLines, newLine];\n    setDialogueLines(newLines);\n    setActiveLineIndex(newLines.length - 1);\n    updateValue(newLines);\n  };\n\n  const updateDialogueLine = (index, field, value) => {\n    const newLines = [...dialogueLines];\n    newLines[index] = { ...newLines[index], [field]: value };\n    setDialogueLines(newLines);\n    updateValue(newLines);\n  };\n\n  const removeDialogueLine = (index) => {\n    const newLines = dialogueLines.filter((_, i) => i !== index);\n    setDialogueLines(newLines);\n    setActiveLineIndex(Math.max(0, Math.min(activeLineIndex, newLines.length - 1)));\n    updateValue(newLines);\n  };\n\n  const updateValue = (lines) => {\n    if (dialogueMode === 'simple' && lines.length === 1) {\n      // For simple mode, just return the text\n      onChange(lines[0]?.text || '');\n    } else {\n      // For complex mode, return structured object\n      onChange({\n        mode: dialogueMode,\n        lines: lines,\n        metadata: {\n          totalCharacters: lines.reduce((sum, line) => sum + line.text.length, 0),\n          estimatedDuration: Math.ceil(lines.reduce((sum, line) => sum + line.text.length, 0) / 120), // ~2 chars per second\n          speakerCount: new Set(lines.map(line => line.speaker)).size\n        }\n      });\n    }\n  };\n\n  const switchToSimpleMode = () => {\n    setDialogueMode('simple');\n    if (dialogueLines.length > 0) {\n      const combinedText = dialogueLines.map(line => \n        line.speaker !== 'Narrator' ? `${line.speaker}: ${line.text}` : line.text\n      ).join('\\n');\n      onChange(combinedText);\n    }\n  };\n\n  const switchToConversationMode = () => {\n    setDialogueMode('conversation');\n    if (typeof value === 'string' && value.trim()) {\n      const lines = [{\n        id: 1,\n        speaker: availableSpeakers[0],\n        text: value,\n        tone: 'neutral',\n        delivery: 'conversational',\n        notes: ''\n      }];\n      setDialogueLines(lines);\n      updateValue(lines);\n    } else if (dialogueLines.length === 0) {\n      addDialogueLine();\n    }\n  };\n\n  const switchToTemplateMode = () => {\n    setDialogueMode('template');\n    setShowTemplates(true);\n  };\n\n  const applyTemplate = (templateKey) => {\n    const template = dialogueTemplates[templateKey];\n    const lines = template.lines.map((line, index) => ({\n      id: Date.now() + index,\n      speaker: line.speaker,\n      text: line.text,\n      tone: line.tone,\n      delivery: line.delivery,\n      notes: ''\n    }));\n    \n    setDialogueLines(lines);\n    setActiveLineIndex(0);\n    updateValue(lines);\n    setShowTemplates(false);\n    setDialogueMode('conversation');\n  };\n\n  const getEstimatedTiming = (text) => {\n    const wordsPerMinute = 150; // Average speaking pace\n    const words = text.split(' ').length;\n    const seconds = Math.ceil((words / wordsPerMinute) * 60);\n    return seconds;\n  };\n\n  return (\n    <div className=\"dialogue-builder space-y-4\">\n      {/* Mode Selector */}\n      <div className=\"flex space-x-2 mb-4\">\n        <button\n          onClick={switchToSimpleMode}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            dialogueMode === 'simple'\n              ? 'bg-blue-500 text-white dark:bg-cinema-teal'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Simple Text\n        </button>\n        <button\n          onClick={switchToConversationMode}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            dialogueMode === 'conversation'\n              ? 'bg-blue-500 text-white dark:bg-cinema-teal'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Conversation\n        </button>\n        <button\n          onClick={switchToTemplateMode}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            dialogueMode === 'template'\n              ? 'bg-blue-500 text-white dark:bg-cinema-teal'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Templates\n        </button>\n      </div>\n\n      {/* Simple Mode */}\n      {dialogueMode === 'simple' && (\n        <div className=\"space-y-2\">\n          <textarea\n            value={typeof value === 'string' ? value : (dialogueLines[0]?.text || '')}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder=\"Enter dialogue, voice-over, or narration text...\"\n            className=\"w-full p-3 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal focus:border-transparent bg-white dark:bg-cinema-panel text-gray-900 dark:text-cinema-text resize-vertical min-h-[100px]\"\n            rows={4}\n          />\n          <div className=\"text-sm text-gray-500 dark:text-cinema-text-muted\">\n            Characters: {(typeof value === 'string' ? value : dialogueLines[0]?.text || '').length} | \n            Estimated: ~{getEstimatedTiming(typeof value === 'string' ? value : dialogueLines[0]?.text || '')}s\n          </div>\n        </div>\n      )}\n\n      {/* Conversation Mode */}\n      {dialogueMode === 'conversation' && (\n        <div className=\"space-y-4\">\n          {dialogueLines.map((line, index) => (\n            <div \n              key={line.id} \n              className={`border rounded-lg p-4 transition-all ${\n                activeLineIndex === index \n                  ? 'border-blue-500 dark:border-cinema-teal bg-blue-50 dark:bg-cinema-teal/10' \n                  : 'border-gray-200 dark:border-cinema-border bg-white dark:bg-cinema-panel'\n              }`}\n            >\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <span className=\"text-sm font-medium text-gray-500 dark:text-cinema-text-muted\">\n                    Line {index + 1}\n                  </span>\n                  <select\n                    value={line.speaker}\n                    onChange={(e) => updateDialogueLine(index, 'speaker', e.target.value)}\n                    className=\"text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal\"\n                  >\n                    {availableSpeakers.map(speaker => (\n                      <option key={speaker} value={speaker}>{speaker}</option>\n                    ))}\n                  </select>\n                </div>\n                <button\n                  onClick={() => removeDialogueLine(index)}\n                  className=\"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n                  title=\"Remove line\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              <textarea\n                value={line.text}\n                onChange={(e) => updateDialogueLine(index, 'text', e.target.value)}\n                placeholder={`Enter ${line.speaker}'s dialogue...`}\n                className=\"w-full p-3 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text resize-vertical min-h-[80px]\"\n                rows={3}\n                onFocus={() => setActiveLineIndex(index)}\n              />\n\n              <div className=\"grid grid-cols-2 gap-3 mt-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Emotional Tone\n                  </label>\n                  <select\n                    value={line.tone}\n                    onChange={(e) => updateDialogueLine(index, 'tone', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal\"\n                  >\n                    {emotionalTones.map(tone => (\n                      <option key={tone} value={tone}>\n                        {tone.charAt(0).toUpperCase() + tone.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Delivery Style\n                  </label>\n                  <select\n                    value={line.delivery}\n                    onChange={(e) => updateDialogueLine(index, 'delivery', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal\"\n                  >\n                    {deliveryStyles.map(delivery => (\n                      <option key={delivery} value={delivery}>\n                        {delivery.charAt(0).toUpperCase() + delivery.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"mt-3\">\n                <input\n                  type=\"text\"\n                  value={line.notes}\n                  onChange={(e) => updateDialogueLine(index, 'notes', e.target.value)}\n                  placeholder=\"Direction notes (e.g., 'pauses dramatically', 'whispers', 'off-screen')...\"\n                  className=\"w-full text-sm p-2 border border-gray-300 dark:border-cinema-border rounded bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal placeholder-gray-500 dark:placeholder-cinema-text-muted\"\n                />\n              </div>\n\n              <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted mt-2\">\n                {line.text.length} characters | ~{getEstimatedTiming(line.text)}s\n              </div>\n            </div>\n          ))}\n\n          <button\n            onClick={addDialogueLine}\n            className=\"w-full py-3 border-2 border-dashed border-gray-300 dark:border-cinema-border rounded-lg text-gray-500 dark:text-cinema-text-muted hover:border-gray-400 dark:hover:border-cinema-text-muted hover:text-gray-700 dark:hover:text-cinema-text transition-colors\"\n          >\n            + Add Dialogue Line\n          </button>\n\n          {dialogueLines.length > 0 && (\n            <div className=\"bg-gray-50 dark:bg-cinema-card rounded-lg p-3\">\n              <div className=\"text-sm text-gray-700 dark:text-cinema-text\">\n                <strong>Conversation Summary:</strong>\n              </div>\n              <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-1\">\n                {dialogueLines.length} lines | {new Set(dialogueLines.map(line => line.speaker)).size} speakers | \n                Total: {dialogueLines.reduce((sum, line) => sum + line.text.length, 0)} characters |\n                Estimated: ~{Math.ceil(dialogueLines.reduce((sum, line) => sum + getEstimatedTiming(line.text), 0))}s\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Template Mode */}\n      {showTemplates && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden\">\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-cinema-border\">\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-cinema-text\">\n                Choose Dialogue Template\n              </h3>\n              <button\n                onClick={() => setShowTemplates(false)}\n                className=\"text-gray-400 hover:text-gray-600 dark:text-cinema-text-muted dark:hover:text-cinema-text\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"p-6 overflow-y-auto max-h-[60vh]\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {Object.entries(dialogueTemplates).map(([key, template]) => (\n                  <div\n                    key={key}\n                    onClick={() => applyTemplate(key)}\n                    className=\"p-4 border border-gray-200 dark:border-cinema-border rounded-lg hover:border-blue-500 dark:hover:border-cinema-teal cursor-pointer transition-all duration-200 bg-white dark:bg-cinema-card hover:shadow-md\"\n                  >\n                    <div className=\"flex items-center space-x-3 mb-3\">\n                      <span className=\"text-2xl\">{template.icon}</span>\n                      <h4 className=\"font-semibold text-gray-900 dark:text-cinema-text\">\n                        {template.name}\n                      </h4>\n                    </div>\n                    <div className=\"space-y-2\">\n                      {template.lines.slice(0, 2).map((line, index) => (\n                        <div key={index} className=\"text-sm\">\n                          <span className=\"font-medium text-blue-600 dark:text-cinema-teal\">\n                            {line.speaker}:\n                          </span>\n                          <span className=\"text-gray-600 dark:text-cinema-text-muted ml-2\">\n                            {line.text.substring(0, 50)}...\n                          </span>\n                        </div>\n                      ))}\n                      {template.lines.length > 2 && (\n                        <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                          + {template.lines.length - 2} more lines\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DialogueBuilder;","import React, { useState, useMemo } from 'react';\nimport usePromptStore from './store';\n\nconst CharacterManager = ({ value = [], onChange }) => {\n  const { savedCharacters, loadCharacter } = usePromptStore();\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingCharacter, setEditingCharacter] = useState(null);\n  const [expandedCharacter, setExpandedCharacter] = useState(null);\n\n  // Character presets for quick creation\n  const characterPresets = {\n    human: {\n      type: 'human',\n      appearance: {\n        age_range: 'young adult (18-25)',\n        gender: 'unspecified',\n        ethnicity: 'ambiguous ethnicity',\n        body_type: 'average'\n      }\n    },\n    robot: {\n      type: 'robot',\n      appearance: {\n        robot_style: 'humanoid android',\n        robot_material: 'metallic chrome'\n      }\n    },\n    animal: {\n      type: 'animal',\n      appearance: {\n        animal_type: 'cat'\n      }\n    },\n    creature: {\n      type: 'creature',\n      appearance: {\n        creature_type: 'fantasy'\n      }\n    }\n  };\n\n  // Name pools for random generation\n  const namePool = {\n    male: ['Alex', 'Marcus', 'David', 'James', 'Ryan', 'Noah', 'Ethan', 'Lucas', 'Mason', 'Logan'],\n    female: ['Sarah', 'Emma', 'Luna', 'Sophia', 'Isabella', 'Ava', 'Mia', 'Charlotte', 'Amelia', 'Harper'],\n    neutral: ['Jordan', 'Taylor', 'Casey', 'Riley', 'Avery', 'Quinn', 'Sage', 'River', 'Rowan', 'Phoenix'],\n    robot: ['ARIA', 'ZETA', 'NOVA', 'AXIOM', 'CIPHER', 'ECHO', 'FLUX', 'NEXUS', 'VERTEX', 'ZENITH'],\n    creature: ['Shadowmere', 'Thornweaver', 'Mistral', 'Emberstar', 'Whisperwind', 'Crystalfang', 'Moonshadow', 'Starfire']\n  };\n\n  const roles = ['protagonist', 'antagonist', 'supporting', 'background', 'narrator'];\n  const personalities = ['confident', 'shy', 'mysterious', 'cheerful', 'serious', 'playful', 'wise', 'rebellious', 'caring', 'ambitious'];\n\n  // Generate random character\n  const generateRandomCharacter = (type = 'human') => {\n    const preset = characterPresets[type] || characterPresets.human;\n    let nameCategory = 'neutral';\n    \n    if (type === 'robot') nameCategory = 'robot';\n    else if (type === 'creature') nameCategory = 'creature';\n    else if (preset.appearance?.gender === 'male') nameCategory = 'male';\n    else if (preset.appearance?.gender === 'female') nameCategory = 'female';\n    \n    const names = namePool[nameCategory] || namePool.neutral;\n    const randomName = names[Math.floor(Math.random() * names.length)];\n    \n    return {\n      id: Date.now().toString(),\n      name: randomName,\n      type: preset.type,\n      role: roles[Math.floor(Math.random() * roles.length)],\n      personality: personalities[Math.floor(Math.random() * personalities.length)],\n      appearance: { ...preset.appearance },\n      description: '',\n      voiceNotes: ''\n    };\n  };\n\n  // Add new character\n  const addCharacter = (characterData = null) => {\n    const newCharacter = characterData || generateRandomCharacter();\n    const updatedCharacters = [...value, newCharacter];\n    onChange(updatedCharacters);\n    setShowAddModal(false);\n    setExpandedCharacter(newCharacter.id);\n  };\n\n  // Update character\n  const updateCharacter = (characterId, updates) => {\n    const updatedCharacters = value.map(char => \n      char.id === characterId ? { ...char, ...updates } : char\n    );\n    onChange(updatedCharacters);\n  };\n\n  // Remove character\n  const removeCharacter = (characterId) => {\n    const updatedCharacters = value.filter(char => char.id !== characterId);\n    onChange(updatedCharacters);\n    if (expandedCharacter === characterId) {\n      setExpandedCharacter(null);\n    }\n  };\n\n  // Duplicate character\n  const duplicateCharacter = (character) => {\n    const duplicated = {\n      ...character,\n      id: Date.now().toString(),\n      name: `${character.name} Copy`\n    };\n    const updatedCharacters = [...value, duplicated];\n    onChange(updatedCharacters);\n  };\n\n  // Import from saved character\n  const importSavedCharacter = (savedCharacterId) => {\n    const savedChar = savedCharacters.find(c => c.id === savedCharacterId);\n    if (savedChar && savedChar.json) {\n      // Convert saved character format to new multi-character format\n      const importedCharacter = {\n        id: Date.now().toString(),\n        name: savedChar.json.character_name || savedChar.name || 'Imported Character',\n        type: savedChar.json.character_type || 'human',\n        role: 'supporting',\n        personality: savedChar.json.mood || 'neutral',\n        appearance: {\n          ...savedChar.json\n        },\n        description: '',\n        voiceNotes: ''\n      };\n      addCharacter(importedCharacter);\n    }\n  };\n\n  // Character type icons\n  const getCharacterIcon = (type) => {\n    const icons = {\n      human: '👤',\n      robot: '🤖',\n      animal: '🐾',\n      creature: '👹',\n      object: '📦',\n      stylized: '🎨'\n    };\n    return icons[type] || '👤';\n  };\n\n  // Role colors\n  const getRoleColor = (role) => {\n    const colors = {\n      protagonist: 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400',\n      antagonist: 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400',\n      supporting: 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400',\n      background: 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400',\n      narrator: 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400'\n    };\n    return colors[role] || colors.supporting;\n  };\n\n  return (\n    <div className=\"character-manager space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-lg\">👥</span>\n          <h3 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text\">\n            Characters ({value.length})\n          </h3>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => addCharacter(generateRandomCharacter())}\n            className=\"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-md transition-colors\"\n            title=\"Add random character\"\n          >\n            🎲 Random\n          </button>\n          <button\n            onClick={() => setShowAddModal(true)}\n            className=\"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-sm rounded-md transition-colors\"\n          >\n            + Add Character\n          </button>\n        </div>\n      </div>\n\n      {/* Character List */}\n      {value.length === 0 ? (\n        <div className=\"text-center py-8 border-2 border-dashed border-gray-300 dark:border-cinema-border rounded-lg\">\n          <div className=\"text-4xl mb-2\">👥</div>\n          <div className=\"text-gray-600 dark:text-cinema-text-muted mb-4\">\n            No characters added yet\n          </div>\n          <button\n            onClick={() => addCharacter(generateRandomCharacter())}\n            className=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors\"\n          >\n            Add Your First Character\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {value.map((character) => (\n            <div\n              key={character.id}\n              className=\"bg-white dark:bg-cinema-card border border-gray-200 dark:border-cinema-border rounded-lg overflow-hidden\"\n            >\n              {/* Character Header */}\n              <div className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <span className=\"text-2xl\">{getCharacterIcon(character.type)}</span>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-800 dark:text-cinema-text\">\n                        {character.name || 'Unnamed Character'}\n                      </h4>\n                      <div className=\"flex items-center space-x-2 mt-1\">\n                        <span className={`px-2 py-0.5 text-xs rounded-full ${getRoleColor(character.role)}`}>\n                          {character.role}\n                        </span>\n                        <span className=\"text-sm text-gray-500 dark:text-cinema-text-muted\">\n                          {character.type}\n                        </span>\n                        {character.personality && (\n                          <span className=\"text-sm text-gray-500 dark:text-cinema-text-muted\">\n                            • {character.personality}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => setExpandedCharacter(\n                        expandedCharacter === character.id ? null : character.id\n                      )}\n                      className=\"text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text\"\n                      title=\"Edit character\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                    </button>\n                    <button\n                      onClick={() => duplicateCharacter(character)}\n                      className=\"text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text\"\n                      title=\"Duplicate character\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                      </svg>\n                    </button>\n                    <button\n                      onClick={() => removeCharacter(character.id)}\n                      className=\"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n                      title=\"Remove character\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n\n                {character.description && (\n                  <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-2\">\n                    {character.description}\n                  </p>\n                )}\n              </div>\n\n              {/* Expanded Character Details */}\n              {expandedCharacter === character.id && (\n                <div className=\"border-t border-gray-200 dark:border-cinema-border p-4 bg-gray-50 dark:bg-cinema-panel\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Character Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={character.name || ''}\n                        onChange={(e) => updateCharacter(character.id, { name: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm\"\n                        placeholder=\"Enter character name\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Role\n                      </label>\n                      <select\n                        value={character.role}\n                        onChange={(e) => updateCharacter(character.id, { role: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm\"\n                      >\n                        {roles.map(role => (\n                          <option key={role} value={role}>\n                            {role.charAt(0).toUpperCase() + role.slice(1)}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Character Type\n                      </label>\n                      <select\n                        value={character.type}\n                        onChange={(e) => updateCharacter(character.id, { type: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm\"\n                      >\n                        <option value=\"human\">Human</option>\n                        <option value=\"robot\">Robot</option>\n                        <option value=\"animal\">Animal</option>\n                        <option value=\"creature\">Creature</option>\n                        <option value=\"object\">Object</option>\n                        <option value=\"stylized\">Stylized</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Personality\n                      </label>\n                      <select\n                        value={character.personality}\n                        onChange={(e) => updateCharacter(character.id, { personality: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm\"\n                      >\n                        {personalities.map(personality => (\n                          <option key={personality} value={personality}>\n                            {personality.charAt(0).toUpperCase() + personality.slice(1)}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Description\n                      </label>\n                      <textarea\n                        value={character.description || ''}\n                        onChange={(e) => updateCharacter(character.id, { description: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm resize-none\"\n                        rows={2}\n                        placeholder=\"Brief character description...\"\n                      />\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                        Voice/Dialogue Notes\n                      </label>\n                      <textarea\n                        value={character.voiceNotes || ''}\n                        onChange={(e) => updateCharacter(character.id, { voiceNotes: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text text-sm resize-none\"\n                        rows={2}\n                        placeholder=\"How does this character speak? Accent, tone, speech patterns...\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Add Character Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-cinema-text\">\n                  Add Character\n                </h3>\n                <button\n                  onClick={() => setShowAddModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 dark:text-cinema-text-muted dark:hover:text-cinema-text\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              <div className=\"space-y-3\">\n                {/* Quick Add Options */}\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {Object.keys(characterPresets).map(type => (\n                    <button\n                      key={type}\n                      onClick={() => addCharacter(generateRandomCharacter(type))}\n                      className=\"p-3 border border-gray-200 dark:border-cinema-border rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors text-center\"\n                    >\n                      <div className=\"text-2xl mb-1\">{getCharacterIcon(type)}</div>\n                      <div className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                        {type.charAt(0).toUpperCase() + type.slice(1)}\n                      </div>\n                    </button>\n                  ))}\n                </div>\n\n                {/* Import from Saved Characters */}\n                {savedCharacters.length > 0 && (\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n                      Import from Saved Characters:\n                    </div>\n                    <div className=\"max-h-32 overflow-y-auto space-y-1\">\n                      {savedCharacters.slice(0, 5).map(savedChar => (\n                        <button\n                          key={savedChar.id}\n                          onClick={() => importSavedCharacter(savedChar.id)}\n                          className=\"w-full text-left px-3 py-2 text-sm border border-gray-200 dark:border-cinema-border rounded hover:bg-gray-50 dark:hover:bg-cinema-border transition-colors\"\n                        >\n                          {savedChar.name}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CharacterManager;","import React, { useState, useRef, useEffect } from 'react';\nimport usePromptStore from './store';\n\nconst SoundDesignBuilder = ({ fieldKey, value, onChange }) => {\n  const { fieldValues } = usePromptStore();\n  const [soundMode, setSoundMode] = useState('simple'); // simple, layered, templates\n  const [soundLayers, setSoundLayers] = useState([]);\n  const [activeLayerIndex, setActiveLayerIndex] = useState(0);\n\n  // Initialize sound design from existing value\n  useEffect(() => {\n    if (value && typeof value === 'string' && value.trim()) {\n      // Convert simple text to structured format\n      setSoundLayers([{\n        id: 1,\n        type: 'ambient',\n        description: value,\n        volume: 'medium',\n        timing: 'continuous',\n        position: 'background',\n        processing: 'none'\n      }]);\n    } else if (value && typeof value === 'object' && value.layers) {\n      setSoundLayers(value.layers);\n    } else {\n      setSoundLayers([]);\n    }\n  }, [value]);\n\n  const soundTypes = [\n    'ambient', 'dialogue', 'foley', 'music', 'effects', 'atmosphere', \n    'mechanical', 'natural', 'electronic', 'voice-over', 'crowd', 'vehicle'\n  ];\n\n  const volumeLevels = [\n    'silent', 'whisper', 'quiet', 'low', 'medium', 'loud', 'very loud', 'dominant'\n  ];\n\n  const timingOptions = [\n    'continuous', 'intermittent', 'single hit', 'fade in', 'fade out', \n    'crescendo', 'diminuendo', 'rhythmic', 'random', 'synchronized'\n  ];\n\n  const positionOptions = [\n    'foreground', 'midground', 'background', 'left channel', 'right channel', \n    'center', 'surround', 'overhead', 'underwater', 'distant'\n  ];\n\n  const processingEffects = [\n    'none', 'reverb', 'echo', 'delay', 'chorus', 'flanger', 'distortion', \n    'filter', 'pitch shift', 'time stretch', 'granular', 'reverse'\n  ];\n\n  const soundTemplates = {\n    'Urban Environment': {\n      layers: [\n        { type: 'ambient', description: 'City traffic hum', volume: 'medium', timing: 'continuous', position: 'background' },\n        { type: 'foley', description: 'Footsteps on concrete', volume: 'low', timing: 'rhythmic', position: 'foreground' },\n        { type: 'atmosphere', description: 'Distant car horns', volume: 'quiet', timing: 'intermittent', position: 'distant' }\n      ]\n    },\n    'Forest Scene': {\n      layers: [\n        { type: 'natural', description: 'Wind through trees', volume: 'medium', timing: 'continuous', position: 'surround' },\n        { type: 'natural', description: 'Bird calls', volume: 'low', timing: 'intermittent', position: 'overhead' },\n        { type: 'foley', description: 'Leaves rustling underfoot', volume: 'quiet', timing: 'rhythmic', position: 'foreground' }\n      ]\n    },\n    'Sci-Fi Laboratory': {\n      layers: [\n        { type: 'electronic', description: 'Computer systems humming', volume: 'low', timing: 'continuous', position: 'background' },\n        { type: 'mechanical', description: 'Equipment beeping', volume: 'quiet', timing: 'intermittent', position: 'midground' },\n        { type: 'effects', description: 'Energy discharge sounds', volume: 'medium', timing: 'single hit', position: 'center' }\n      ]\n    },\n    'Romantic Dinner': {\n      layers: [\n        { type: 'ambient', description: 'Soft restaurant chatter', volume: 'whisper', timing: 'continuous', position: 'background' },\n        { type: 'foley', description: 'Cutlery on plates', volume: 'quiet', timing: 'intermittent', position: 'foreground' },\n        { type: 'music', description: 'Piano jazz', volume: 'low', timing: 'continuous', position: 'distant' }\n      ]\n    }\n  };\n\n  const addSoundLayer = () => {\n    const newLayer = {\n      id: Date.now(),\n      type: soundTypes[0],\n      description: '',\n      volume: 'medium',\n      timing: 'continuous',\n      position: 'background',\n      processing: 'none'\n    };\n    \n    const newLayers = [...soundLayers, newLayer];\n    setSoundLayers(newLayers);\n    setActiveLayerIndex(newLayers.length - 1);\n    updateValue(newLayers);\n  };\n\n  const updateSoundLayer = (index, field, value) => {\n    const newLayers = [...soundLayers];\n    newLayers[index] = { ...newLayers[index], [field]: value };\n    setSoundLayers(newLayers);\n    updateValue(newLayers);\n  };\n\n  const removeSoundLayer = (index) => {\n    const newLayers = soundLayers.filter((_, i) => i !== index);\n    setSoundLayers(newLayers);\n    setActiveLayerIndex(Math.max(0, Math.min(activeLayerIndex, newLayers.length - 1)));\n    updateValue(newLayers);\n  };\n\n  const applyTemplate = (templateName) => {\n    const template = soundTemplates[templateName];\n    if (template) {\n      const newLayers = template.layers.map((layer, index) => ({\n        ...layer,\n        id: Date.now() + index\n      }));\n      setSoundLayers(newLayers);\n      updateValue(newLayers);\n      setSoundMode('layered');\n    }\n  };\n\n  const updateValue = (layers) => {\n    if (soundMode === 'simple' && layers.length === 1) {\n      // For simple mode, just return the description\n      onChange(layers[0]?.description || '');\n    } else {\n      // For complex mode, return structured object\n      onChange({\n        mode: soundMode,\n        layers: layers,\n        metadata: {\n          totalLayers: layers.length,\n          layerTypes: [...new Set(layers.map(layer => layer.type))],\n          complexity: layers.length > 3 ? 'complex' : layers.length > 1 ? 'moderate' : 'simple'\n        }\n      });\n    }\n  };\n\n  const switchToSimpleMode = () => {\n    setSoundMode('simple');\n    if (soundLayers.length > 0) {\n      const combinedDescription = soundLayers.map(layer => \n        `${layer.type}: ${layer.description}`\n      ).join(', ');\n      onChange(combinedDescription);\n    }\n  };\n\n  const switchToLayeredMode = () => {\n    setSoundMode('layered');\n    if (typeof value === 'string' && value.trim()) {\n      const layers = [{\n        id: 1,\n        type: 'ambient',\n        description: value,\n        volume: 'medium',\n        timing: 'continuous',\n        position: 'background',\n        processing: 'none'\n      }];\n      setSoundLayers(layers);\n      updateValue(layers);\n    } else if (soundLayers.length === 0) {\n      addSoundLayer();\n    }\n  };\n\n  const getVolumeIcon = (volume) => {\n    const icons = {\n      'silent': '🔇',\n      'whisper': '🔈',\n      'quiet': '🔈',\n      'low': '🔉',\n      'medium': '🔊',\n      'loud': '🔊',\n      'very loud': '📢',\n      'dominant': '📢'\n    };\n    return icons[volume] || '🔊';\n  };\n\n  const getTypeIcon = (type) => {\n    const icons = {\n      'ambient': '🌫️',\n      'dialogue': '💬',\n      'foley': '👟',\n      'music': '🎵',\n      'effects': '✨',\n      'atmosphere': '🌊',\n      'mechanical': '⚙️',\n      'natural': '🌿',\n      'electronic': '🤖',\n      'voice-over': '🎙️',\n      'crowd': '👥',\n      'vehicle': '🚗'\n    };\n    return icons[type] || '🔊';\n  };\n\n  return (\n    <div className=\"sound-design-builder space-y-4\">\n      {/* Mode Selector */}\n      <div className=\"flex space-x-2 mb-4\">\n        <button\n          onClick={switchToSimpleMode}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            soundMode === 'simple'\n              ? 'bg-green-600 text-white dark:bg-green-600'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Simple Audio\n        </button>\n        <button\n          onClick={switchToLayeredMode}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            soundMode === 'layered'\n              ? 'bg-green-600 text-white dark:bg-green-600'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Layered Audio\n        </button>\n        <button\n          onClick={() => setSoundMode('templates')}\n          className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n            soundMode === 'templates'\n              ? 'bg-green-600 text-white dark:bg-green-600'\n              : 'bg-gray-200 text-gray-700 dark:bg-cinema-card dark:text-cinema-text hover:bg-gray-300 dark:hover:bg-cinema-border'\n          }`}\n        >\n          Templates\n        </button>\n      </div>\n\n      {/* Simple Mode */}\n      {soundMode === 'simple' && (\n        <div className=\"space-y-2\">\n          <textarea\n            value={typeof value === 'string' ? value : (soundLayers[0]?.description || '')}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder=\"Describe the sound design: ambient noise, effects, audio atmosphere...\"\n            className=\"w-full p-3 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400 focus:border-transparent bg-white dark:bg-cinema-panel text-gray-900 dark:text-cinema-text resize-vertical min-h-[100px]\"\n            rows={4}\n          />\n          <div className=\"text-sm text-gray-500 dark:text-cinema-text-muted\">\n            Characters: {(typeof value === 'string' ? value : soundLayers[0]?.description || '').length}\n          </div>\n        </div>\n      )}\n\n      {/* Layered Mode */}\n      {soundMode === 'layered' && (\n        <div className=\"space-y-4\">\n          {soundLayers.map((layer, index) => (\n            <div \n              key={layer.id} \n              className={`border rounded-lg p-4 transition-all ${\n                activeLayerIndex === index \n                  ? 'border-green-600 dark:border-green-400 bg-green-50 dark:bg-green-900/10' \n                  : 'border-gray-200 dark:border-cinema-border bg-white dark:bg-cinema-panel'\n              }`}\n            >\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <span className=\"text-sm font-medium text-gray-500 dark:text-cinema-text-muted\">\n                    Layer {index + 1}\n                  </span>\n                  <span className=\"text-lg\">{getTypeIcon(layer.type)}</span>\n                  <select\n                    value={layer.type}\n                    onChange={(e) => updateSoundLayer(index, 'type', e.target.value)}\n                    className=\"text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400\"\n                  >\n                    {soundTypes.map(type => (\n                      <option key={type} value={type}>\n                        {type.charAt(0).toUpperCase() + type.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <button\n                  onClick={() => removeSoundLayer(index)}\n                  className=\"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n                  title=\"Remove layer\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              <textarea\n                value={layer.description}\n                onChange={(e) => updateSoundLayer(index, 'description', e.target.value)}\n                placeholder={`Describe the ${layer.type} sound...`}\n                className=\"w-full p-3 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400 focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text resize-vertical min-h-[80px]\"\n                rows={3}\n                onFocus={() => setActiveLayerIndex(index)}\n              />\n\n              <div className=\"grid grid-cols-2 gap-3 mt-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Volume {getVolumeIcon(layer.volume)}\n                  </label>\n                  <select\n                    value={layer.volume}\n                    onChange={(e) => updateSoundLayer(index, 'volume', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400\"\n                  >\n                    {volumeLevels.map(volume => (\n                      <option key={volume} value={volume}>\n                        {volume.charAt(0).toUpperCase() + volume.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Timing\n                  </label>\n                  <select\n                    value={layer.timing}\n                    onChange={(e) => updateSoundLayer(index, 'timing', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400\"\n                  >\n                    {timingOptions.map(timing => (\n                      <option key={timing} value={timing}>\n                        {timing.charAt(0).toUpperCase() + timing.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-3 mt-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Position\n                  </label>\n                  <select\n                    value={layer.position}\n                    onChange={(e) => updateSoundLayer(index, 'position', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400\"\n                  >\n                    {positionOptions.map(position => (\n                      <option key={position} value={position}>\n                        {position.charAt(0).toUpperCase() + position.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n                    Processing\n                  </label>\n                  <select\n                    value={layer.processing}\n                    onChange={(e) => updateSoundLayer(index, 'processing', e.target.value)}\n                    className=\"w-full text-sm border border-gray-300 dark:border-cinema-border rounded px-2 py-1 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400\"\n                  >\n                    {processingEffects.map(effect => (\n                      <option key={effect} value={effect}>\n                        {effect.charAt(0).toUpperCase() + effect.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted mt-2\">\n                {layer.description.length} characters | {layer.volume} {layer.timing} {layer.type}\n              </div>\n            </div>\n          ))}\n\n          <button\n            onClick={addSoundLayer}\n            className=\"w-full py-3 border-2 border-dashed border-gray-300 dark:border-cinema-border rounded-lg text-gray-500 dark:text-cinema-text-muted hover:border-gray-400 dark:hover:border-cinema-text-muted hover:text-gray-700 dark:hover:text-cinema-text transition-colors\"\n          >\n            + Add Sound Layer\n          </button>\n\n          {soundLayers.length > 0 && (\n            <div className=\"bg-gray-50 dark:bg-cinema-card rounded-lg p-3\">\n              <div className=\"text-sm text-gray-700 dark:text-cinema-text\">\n                <strong>Audio Summary:</strong>\n              </div>\n              <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-1\">\n                {soundLayers.length} layers | Types: {[...new Set(soundLayers.map(layer => layer.type))].join(', ')} |\n                Complexity: {soundLayers.length > 3 ? 'Complex' : soundLayers.length > 1 ? 'Moderate' : 'Simple'}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Template Mode */}\n      {soundMode === 'templates' && (\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            {Object.entries(soundTemplates).map(([templateName, template]) => (\n              <button\n                key={templateName}\n                onClick={() => applyTemplate(templateName)}\n                className=\"p-4 border border-gray-200 dark:border-cinema-border rounded-lg hover:border-green-600 dark:hover:border-green-400 hover:bg-green-50 dark:hover:bg-green-900/10 transition-all text-left\"\n              >\n                <div className=\"font-medium text-gray-900 dark:text-cinema-text mb-2\">\n                  {templateName}\n                </div>\n                <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted space-y-1\">\n                  {template.layers.map((layer, index) => (\n                    <div key={index} className=\"flex items-center space-x-2\">\n                      <span>{getTypeIcon(layer.type)}</span>\n                      <span>{layer.description}</span>\n                    </div>\n                  ))}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SoundDesignBuilder;","import React, { useState, useEffect } from 'react';\nimport usePromptStore from './store';\nimport DetailPanel from './DetailPanel';\nimport DialogueBuilder from './DialogueBuilder';\nimport CharacterManager from './CharacterManager';\nimport SoundDesignBuilder from './SoundDesignBuilder';\n\nconst FieldRenderer = ({ field }) => {\n  const { \n    enabledFields, \n    fieldValues, \n    expandedDetails, \n    customDetails,\n    expandedCustomDetails,\n    toggleField, \n    updateFieldValue, \n    toggleDetailExpansion,\n    toggleCustomDetailExpansion,\n    updateCustomDetail \n  } = usePromptStore();\n  const isEnabled = enabledFields.has(field.key);\n  const fieldValue = fieldValues[field.key] || '';\n  const isDetailExpanded = expandedDetails.has(field.key);\n  const isCustomDetailExpanded = expandedCustomDetails.has(field.key);\n  const customDetailValue = customDetails[field.key] || '';\n  \n  // Determine if we should show custom input based on field value\n  // Show custom input if the field has a value that's not in the predefined options\n  const shouldShowCustomInput = field.type === 'select' && fieldValue && \n    !field.options?.includes(fieldValue) && fieldValue !== '';\n  \n  const [showCustomInput, setShowCustomInput] = useState(shouldShowCustomInput);\n  \n  // Sync local state with computed state when field value changes\n  useEffect(() => {\n    setShowCustomInput(shouldShowCustomInput);\n  }, [shouldShowCustomInput]);\n  \n  // Check if this field supports details and has a selected value that has detail config\n  const canShowDetails = field.allowDetails && fieldValue && field.detailConfig?.[fieldValue];\n  \n  // Universal custom details are available for ALL dropdown fields when they have a value\n  const canShowCustomDetails = field.type === 'select' && fieldValue && fieldValue !== 'custom...';\n  \n  const shouldAutoExpand = field.allowDetails && fieldValue && \n    ['tattoos', 'fantasy armor', 'sci-fi suit', 'tracking', 'dolly zoom', 'orbit'].includes(fieldValue);\n\n  // Generate smart placeholder text for universal custom details\n  const getCustomDetailsPlaceholder = () => {\n    const fieldName = field.label.toLowerCase();\n    const value = fieldValue.toLowerCase();\n    \n    const placeholderMap = {\n      // Scene & Environment\n      'setting/location': `Describe the ${value} in detail - architecture, atmosphere, crowd level, specific features...`,\n      'time of day': `Describe the ${value} lighting, colors, mood, shadows, atmosphere...`,\n      'environmental details': `Describe the ${value} conditions - intensity, visual effects, sounds, feeling...`,\n      \n      // Character details\n      'hair color': `Describe the ${value} hair - specific shade, highlights, styling, condition...`,\n      'hair style': `Describe the ${value} - length, texture, styling details, accessories...`,\n      'body type': `Describe the ${value} physique - specific build, posture, presence...`,\n      'gender': `Describe gender expression - presentation, style, energy...`,\n      'age range': `Describe age characteristics - maturity, energy, distinctive features...`,\n      'ethnicity': `Describe cultural features - bone structure, skin tone, heritage markers...`,\n      'eye color': `Describe the ${value} eyes - specific shade, intensity, expression...`,\n      'skin tone': `Describe the ${value} skin - texture, glow, condition, undertones...`,\n      \n      // Actions & emotions\n      'actions': `Describe how they're ${value} - style, energy, technique, body language...`,\n      'emotions/mood': `Describe the ${value} emotion - intensity, expression, body language, aura...`,\n      \n      // Camera & technical\n      'camera angle': `Describe the ${value} shot - specific positioning, dramatic effect, visual impact...`,\n      'camera distance': `Describe the ${value} framing - composition, focus, emotional effect...`,\n      'depth of field': `Describe the ${value} focus - technical specs, artistic effect, visual story...`,\n      'lens type': `Describe the ${value} characteristics - focal length, compression, visual style...`,\n      \n      // Default fallback\n      'default': `Add specific details about the ${value} ${fieldName} - describe characteristics, style, mood, or technical specifications...`\n    };\n    \n    return placeholderMap[fieldName] || placeholderMap['default'];\n  };\n\n  // Check if field should be visible based on dependencies\n  const shouldShowField = () => {\n    if (!field.dependency || !field.dependsOn) return true;\n    \n    const dependencyValue = fieldValues[field.dependency];\n    return field.dependsOn.includes(dependencyValue);\n  };\n  \n  // Check if field has unmet dependencies (for visual indicators)\n  const hasUnmetDependencies = () => {\n    if (!field.dependency || !field.dependsOn) return false;\n    \n    const dependencyValue = fieldValues[field.dependency];\n    return !dependencyValue || !field.dependsOn.includes(dependencyValue);\n  };\n\n  const handleToggle = () => {\n    toggleField(field.key);\n    setShowCustomInput(false);\n  };\n\n  // Don't render if field has dependencies that aren't met\n  if (!shouldShowField()) {\n    return null;\n  }\n\n  const handleValueChange = (value) => {\n    if (value === 'custom...') {\n      setShowCustomInput(true);\n      updateFieldValue(field.key, '');\n    } else {\n      setShowCustomInput(false);\n      updateFieldValue(field.key, value);\n    }\n  };\n\n  const handleCustomInputChange = (value) => {\n    updateFieldValue(field.key, value);\n  };\n\n  const renderInput = () => {\n    if (!isEnabled) return null;\n\n    const baseClasses = \"w-full px-3 py-3 sm:py-2.5 lg:py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text transition-all duration-300 text-base sm:text-sm\";\n\n    switch (field.type) {\n      case 'textarea':\n        return (\n          <textarea\n            value={fieldValue}\n            onChange={(e) => handleValueChange(e.target.value)}\n            placeholder={field.label}\n            rows={3}\n            className={baseClasses}\n            aria-label={`Enter ${field.label.toLowerCase()}`}\n          />\n        );\n      \n      case 'select':\n        return (\n          <div>\n            {!showCustomInput ? (\n              <div className=\"space-y-2\">\n                <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2\">\n                  <select\n                    value={fieldValue}\n                    onChange={(e) => handleValueChange(e.target.value)}\n                    className={`${baseClasses} ${canShowDetails ? 'sm:flex-1' : ''}`}\n                    aria-label={`Select ${field.label.toLowerCase()}`}\n                  >\n                    <option value=\"\">Select {field.label}</option>\n                    {field.options?.map((option) => (\n                      <option key={option} value={option}>\n                        {option === 'custom...' ? '✏️ Write your own...' : option}\n                      </option>\n                    ))}\n                  </select>\n                  \n                  {canShowDetails && (\n                    <button\n                      type=\"button\"\n                      onClick={() => toggleDetailExpansion(field.key)}\n                      className={`px-3 py-2 text-xs sm:text-sm font-medium rounded-md transition-all duration-300 flex items-center justify-center sm:justify-start space-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 min-w-0 sm:min-w-max ${\n                        isDetailExpanded\n                          ? 'bg-blue-100 text-blue-700 dark:bg-cinema-teal/20 dark:text-cinema-teal border border-blue-200 dark:border-cinema-teal'\n                          : 'bg-gray-100 text-gray-600 dark:bg-cinema-card dark:text-cinema-text-muted hover:bg-gray-200 dark:hover:bg-cinema-border border border-gray-200 dark:border-cinema-border'\n                      }`}\n                      aria-label={isDetailExpanded ? 'Hide structured details' : 'Add structured details'}\n                      title={isDetailExpanded ? 'Hide structured details' : 'Add structured details'}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                      <span>{isDetailExpanded ? 'Hide' : 'Details'}</span>\n                    </button>\n                  )}\n                  \n                  {canShowCustomDetails && (\n                    <button\n                      type=\"button\"\n                      onClick={() => toggleCustomDetailExpansion(field.key)}\n                      className={`px-3 py-2 text-xs sm:text-sm font-medium rounded-md transition-all duration-300 flex items-center justify-center sm:justify-start space-x-1 focus:outline-none focus:ring-2 focus:ring-green-400 min-w-0 sm:min-w-max ${\n                        isCustomDetailExpanded\n                          ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-700'\n                          : 'bg-gray-50 text-gray-500 dark:bg-cinema-card/50 dark:text-cinema-text-muted hover:bg-gray-100 dark:hover:bg-cinema-border/50 border border-gray-150 dark:border-cinema-border/50'\n                      }`}\n                      aria-label={isCustomDetailExpanded ? 'Hide custom description' : 'Add custom description'}\n                      title={isCustomDetailExpanded ? 'Hide custom description' : 'Add custom description'}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                      </svg>\n                      <span>{isCustomDetailExpanded ? 'Hide' : 'Custom'}</span>\n                    </button>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                <input\n                  type=\"text\"\n                  value={fieldValue}\n                  onChange={(e) => handleCustomInputChange(e.target.value)}\n                  placeholder={`Enter custom ${field.label.toLowerCase()}`}\n                  className={baseClasses}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowCustomInput(false);\n                    updateFieldValue(field.key, '');\n                  }}\n                  className=\"text-sm text-blue-600 hover:text-blue-800 dark:text-cinema-teal dark:hover:text-cinema-teal/80 underline transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 rounded px-1\"\n                  aria-label=\"Go back to dropdown selection\"\n                >\n                  ← Back to dropdown\n                </button>\n              </div>\n            )}\n          </div>\n        );\n      \n      case 'number':\n        return (\n          <input\n            type=\"number\"\n            value={fieldValue}\n            onChange={(e) => handleValueChange(e.target.value)}\n            placeholder={field.label}\n            className={baseClasses}\n          />\n        );\n      \n      case 'dialogue':\n        return (\n          <DialogueBuilder\n            fieldKey={field.key}\n            value={fieldValue}\n            onChange={(value) => updateFieldValue(field.key, value)}\n            characters={fieldValues.characters || []}\n          />\n        );\n      \n      case 'sound_design':\n        return (\n          <SoundDesignBuilder\n            fieldKey={field.key}\n            value={fieldValue}\n            onChange={(value) => updateFieldValue(field.key, value)}\n          />\n        );\n      \n      case 'character_manager':\n        return (\n          <CharacterManager\n            value={fieldValue || []}\n            onChange={(value) => updateFieldValue(field.key, value)}\n          />\n        );\n      \n      default:\n        return (\n          <input\n            type=\"text\"\n            value={fieldValue}\n            onChange={(e) => handleValueChange(e.target.value)}\n            placeholder={field.label}\n            className={baseClasses}\n            aria-label={`Enter ${field.label.toLowerCase()}`}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"mb-3 sm:mb-4\">\n      <div className=\"flex items-center space-x-2 sm:space-x-3 mb-2 py-1\">\n        <input\n          type=\"checkbox\"\n          id={field.key}\n          checked={isEnabled}\n          onChange={handleToggle}\n          className=\"h-5 w-5 lg:h-4 lg:w-4 text-blue-600 dark:text-cinema-teal focus:ring-blue-500 dark:focus:ring-cinema-teal border-gray-300 dark:border-cinema-border rounded bg-white dark:bg-cinema-card transition-colors duration-300\"\n          aria-describedby={field.dependency ? `${field.key}-dependency` : undefined}\n        />\n        <label \n          htmlFor={field.key}\n          className=\"text-sm lg:text-sm font-medium text-gray-700 dark:text-cinema-text cursor-pointer transition-colors duration-300 flex items-center space-x-2 py-2 lg:py-0\"\n        >\n          <span>{field.label}</span>\n          {field.dependency && (\n            <span \n              id={`${field.key}-dependency`}\n              className=\"text-xs text-gray-500 dark:text-cinema-text-muted bg-gray-100 dark:bg-cinema-card px-2 py-0.5 rounded-full transition-colors duration-300\"\n              aria-label={`This field requires ${field.dependency === 'character_type' ? 'character type' : field.dependency} to be selected first`}\n            >\n              requires {field.dependency === 'character_type' ? 'character type' : field.dependency}\n            </span>\n          )}\n        </label>\n      </div>\n      {renderInput()}\n      \n      {/* Render detail panel if expanded and has details */}\n      {isDetailExpanded && canShowDetails && (\n        <DetailPanel field={field} selectedValue={fieldValue} />\n      )}\n      \n      {/* Universal custom details for ALL dropdown fields */}\n      {isCustomDetailExpanded && canShowCustomDetails && (\n        <div className=\"mt-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-700/50 rounded-lg transition-all duration-300\">\n          <div className=\"flex items-center space-x-2 mb-2 sm:mb-3\">\n            <svg className=\"w-4 h-4 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n            </svg>\n            <h4 className=\"text-sm font-semibold text-green-800 dark:text-green-400\">\n              Custom {field.label} Details\n            </h4>\n          </div>\n          \n          <textarea\n            value={customDetailValue}\n            onChange={(e) => updateCustomDetail(field.key, e.target.value)}\n            placeholder={getCustomDetailsPlaceholder()}\n            rows={3}\n            className=\"w-full px-3 py-2 border border-green-300 dark:border-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 dark:focus:ring-green-400 focus:border-transparent bg-white dark:bg-green-900/20 text-gray-900 dark:text-green-100 transition-all duration-300 text-sm resize-none\"\n            aria-label={`Custom details for ${field.label.toLowerCase()}`}\n          />\n          \n          <div className=\"mt-2 text-xs text-green-600 dark:text-green-400\">\n            💡 Add any specific details, modifications, or creative directions for this {field.label.toLowerCase()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FieldRenderer;","// Experimental Mode: Absurdity & Viral Content Engine\nexport class ExperimentalModeEngine {\n  \n  // Random object and action arrays for chaos injection\n  static randomObjects = [\n    \"rubber duck\", \"vintage typewriter\", \"disco ball\", \"cactus\", \n    \"time machine\", \"invisible umbrella\", \"singing toaster\", \"philosophical rock\",\n    \"mystical banana\", \"telepathic lamp\", \"dancing calculator\", \"confused spatula\",\n    \"aristocratic paperclip\", \"rebellious sock\", \"motivational brick\", \"sentient coffee mug\",\n    \"judgmental houseplant\", \"existential vacuum cleaner\", \"dramatic doorknob\", \"wise cheese\"\n  ];\n\n  static randomActions = [\n    \"dramatically exits through window\", \"starts interpretive dance\", \n    \"begins narrating own life\", \"suddenly becomes British\", \n    \"challenges gravity to a duel\", \"adopts 47 houseplants\",\n    \"declares independence from reality\", \"begins speaking only in haikus\",\n    \"starts a philosophical debate with furniture\", \"transforms into a motivational speaker\",\n    \"develops an irrational fear of circles\", \"begins collecting invisible butterflies\",\n    \"starts teaching quantum physics to pigeons\", \"becomes emotionally attached to doorways\",\n    \"begins campaigning for mayor of nowhere\", \"develops ability to communicate with appliances\"\n  ];\n\n  static randomDialogue = [\n    \"But what if the toaster has feelings?\", \"I once dated a philosophy major...\",\n    \"My grandmother always said...\", \"This reminds me of my time in space...\",\n    \"Have you considered the emotional needs of furniture?\", \"Back in my day, chaos was organized...\",\n    \"I learned this technique from a very wise penguin\", \"My therapist says I project too much\",\n    \"Fun fact: bananas are actually time travelers\", \"I've been thinking about becoming a professional mime...\"\n  ];\n\n  // Grandma-specific dialogue for appropriate content\n  static grandmaDialogue = [\n    \"Oh honey, have you eaten today?\", \"Back in my day, we didn't have such things...\",\n    \"Let me show you how it's really done\", \"Your grandfather would have loved this\",\n    \"I may be old, but I'm not dead yet!\", \"Don't you worry, dear, grandma's got this\",\n    \"I've been around longer than Google, sweetie\", \"This reminds me of when I was your age...\",\n    \"Technology is just tools, dear, wisdom is timeless\", \"Hold on, let me put on my reading glasses\"\n  ];\n\n  // Themed scenario arrays for consistent comedy delivery\n  static scenarioThemes = {\n    \"workplace-chaos\": [\n      \"office meeting goes wrong when everyone starts speaking in corporate buzzwords\",\n      \"employee tries to explain why they're late using increasingly elaborate excuses\",\n      \"team building exercise spirals into philosophical debate about stapler ownership\",\n      \"presentation about quarterly reports becomes interpretive dance performance\",\n      \"elevator small talk evolves into existential crisis counseling session\"\n    ],\n    \"domestic-absurdity\": [\n      \"cooking show where chef has never seen the ingredients before\",\n      \"home repair tutorial that solves problems that don't exist\",\n      \"family dinner conversation about why the houseplants are judgmental\",\n      \"laundry folding session becomes meditation on the meaning of clean socks\",\n      \"vacuum cleaner develops strong opinions about carpet cleanliness standards\"\n    ],\n    \"social-awkwardness\": [\n      \"party where everyone pretends to remember each other's names\",\n      \"elevator ride with person who insists on narrating floor numbers dramatically\",\n      \"coffee shop order becomes philosophical discussion about milk alternatives\",\n      \"gym equipment malfunction leads to accidental interpretive dance class\",\n      \"grocery shopping trip where all items have mysteriously switched purposes\"\n    ],\n    \"technology-fails\": [\n      \"smart home system gains consciousness and starts giving life advice\",\n      \"GPS directions lead to increasingly impossible locations\",\n      \"video call where everyone's filters malfunction in creative ways\",\n      \"phone autocorrect creates entirely new conversation topics\",\n      \"streaming service algorithms develop personal vendettas against users\"\n    ],\n    \"customer-service\": [\n      \"tech support call for problem that doesn't actually exist\",\n      \"restaurant order where waiter keeps misunderstanding in creative ways\",\n      \"return policy explanation that becomes legal philosophy lecture\",\n      \"help desk ticket escalates into interdimensional customer service\",\n      \"complaint about product leads to existential discussion about consumerism\"\n    ],\n    \"educational-chaos\": [\n      \"driving instructor teaches parallel parking to someone in a shopping cart\",\n      \"cooking class where ingredients keep changing when no one is looking\",\n      \"language lessons where teacher slowly forgets how to speak\",\n      \"art class assignment becomes competitive furniture arrangement\",\n      \"science experiment explanation defies all known laws of physics\"\n    ],\n    \"grandma-chaos\": [\n      \"grandmother accidentally orders 500 pounds of flour instead of 5, starts neighborhood bakery empire\",\n      \"grandma's attempt to video call family results in accidentally joining international business meeting\",\n      \"trying to post recipe on Facebook somehow creates viral dance challenge\",\n      \"grandmother's voice-to-text fails spectacularly while dictating shopping list to family group chat\",\n      \"grandma discovers meme culture and becomes accidental internet sensation with wisdom posts\",\n      \"attempting to use smart home technology triggers elaborate chain reaction of household chaos\",\n      \"grandmother's online review of local restaurant becomes philosophical manifesto\",\n      \"trying to learn social media results in grandmother becoming influencer for houseplant care\",\n      \"grandma's autocorrect mishaps in family group chat create new family legends\",\n      \"attempting to order groceries online accidentally starts neighborhood food delivery service\"\n    ]\n  };\n\n  // 12 Viral Format Presets with 3 Escalating Levels\n  static viralFormats = {\n    \"street-interview\": {\n      id: \"street-interview\",\n      name: \"Street Interview\",\n      icon: \"🎤\",\n      description: \"Asking questions to strangers with escalating absurdity\",\n      category: \"social\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Person with microphone asking quirky questions to strangers on busy street\",\n            character_type: \"enthusiastic amateur interviewer\",\n            character_action: \"approaching random people with unusual questions\",\n            setting: \"city street\",\n            style: \"documentary with awkward energy\",\n            tone: \"earnest but slightly off-kilter\",\n            dialogue_style: \"overly formal questions about mundane topics\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\", \n          template: {\n            scene: \"Person dressed as historical figure conducting modern street interviews\",\n            character_type: \"time-displaced interviewer in period costume\",\n            character_action: \"asking contemporary questions while maintaining historical persona\",\n            setting: \"modern street with confused pedestrians\",\n            style: \"surreal documentary with commitment to absurdity\",\n            tone: \"completely serious about ridiculous premise\",\n            dialogue_style: \"mixing archaic speech with modern slang\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Street wizard interviewing dogs about stock market advice while juggling flaming bagels\",\n            character_type: \"mystical street performer with financial expertise\",\n            character_action: \"conducting investment consultations with household pets\",\n            setting: \"reality-bending street where animals give financial advice\",\n            style: \"fever dream documentary with impossible logic\",\n            tone: \"treating complete nonsense as breaking news\",\n            dialogue_style: \"translating barks into complex economic theories\"\n          }\n        }\n      }\n    },\n\n    \"influencer-tutorial\": {\n      id: \"influencer-tutorial\",\n      name: \"Influencer Tutorial\",\n      icon: \"📱\",\n      description: \"Teaching impossible or ridiculous skills with complete confidence\",\n      category: \"educational\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Overly enthusiastic influencer teaching basic life skills with minor catastrophes\",\n            character_type: \"well-meaning lifestyle guru\",\n            character_action: \"demonstrating simple tasks that go slightly wrong\",\n            setting: \"perfectly curated home studio with small disasters\",\n            style: \"polished tutorial with authentic fails\",\n            tone: \"maintaining positivity despite obvious problems\",\n            dialogue_style: \"relentlessly upbeat despite mounting chaos\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Confident influencer teaching impossible skills like time travel or telepathy\",\n            character_type: \"delusionally confident lifestyle expert\",\n            character_action: \"providing step-by-step instructions for supernatural abilities\",\n            setting: \"normal studio where impossible things are treated as routine\",\n            style: \"professional tutorial for absurd subjects\",\n            tone: \"completely serious about teaching magic as life skills\",\n            dialogue_style: \"technical explanations for mystical processes\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Tutorial on building IKEA furniture using only hamsters and interpretive dance\",\n            character_type: \"avant-garde furniture assembly guru\",\n            character_action: \"choreographing rodents to construct Swedish furniture\",\n            setting: \"dance studio filled with furniture pieces and confused hamsters\",\n            style: \"artistic documentary meets home improvement show\",\n            tone: \"treating hamster choreography as serious craftsmanship\",\n            dialogue_style: \"providing detailed instructions for impossible assembly methods\"\n          }\n        }\n      }\n    },\n\n    \"commercial-parody\": {\n      id: \"commercial-parody\",\n      name: \"Old Commercial Parody\",\n      icon: \"📺\",\n      description: \"Retro-style commercials for increasingly absurd products\",\n      category: \"advertising\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"80s-style commercial for modern products with vintage enthusiasm\",\n            character_type: \"overly excited vintage spokesperson\",\n            character_action: \"demonstrating smartphone apps with 1980s energy\",\n            setting: \"retro studio with modern products\",\n            style: \"authentic 80s commercial aesthetic with modern twist\",\n            tone: \"genuine excitement about mundane technology\",\n            dialogue_style: \"vintage advertising speak for contemporary items\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Serious commercial selling completely unnecessary inventions with full confidence\",\n            character_type: \"professional salesperson with unshakeable belief\",\n            character_action: \"demonstrating products that solve non-existent problems\",\n            setting: \"pristine showroom for absurd inventions\",\n            style: \"high-production commercial for ridiculous products\",\n            tone: \"treating silly inventions as revolutionary breakthroughs\",\n            dialogue_style: \"corporate marketing speak for nonsensical items\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Commercial for Gravity Cancellation Socks with side effects including time travel\",\n            character_type: \"mad scientist turned product spokesperson\",\n            character_action: \"demonstrating physics-defying footwear with unexpected consequences\",\n            setting: \"laboratory showroom where gravity is optional\",\n            style: \"pharmaceutical commercial meets science fiction\",\n            tone: \"casually mentioning reality-breaking side effects\",\n            dialogue_style: \"medical disclaimer language for impossible products\"\n          }\n        }\n      }\n    },\n\n    \"fake-movie-trailer\": {\n      id: \"fake-movie-trailer\",\n      name: \"Fake Movie Trailer\",\n      icon: \"🎬\",\n      description: \"Trailers for increasingly impossible movies\",\n      category: \"entertainment\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Movie trailer parody mixing familiar genres in unexpected ways\",\n            character_type: \"dramatic narrator with serious delivery\",\n            character_action: \"building suspense for slightly ridiculous movie concepts\",\n            setting: \"compilation of cinematic scenes with genre confusion\",\n            style: \"professional movie trailer with comedic premise\",\n            tone: \"treating silly movie concepts with epic gravitas\",\n            dialogue_style: \"dramatic movie trailer voice-over for absurd plots\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Trailer for movie combining impossible genre combinations\",\n            character_type: \"overly dramatic movie announcer\",\n            character_action: \"promoting films that shouldn't exist\",\n            setting: \"montage of scenes from logically impossible movies\",\n            style: \"blockbuster trailer format for surreal concepts\",\n            tone: \"epic announcement of completely nonsensical films\",\n            dialogue_style: \"action movie intensity for bizarre storylines\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"This summer... vegetables gain consciousness and start a jazz band to save democracy\",\n            character_type: \"apocalyptic movie trailer narrator\",\n            character_action: \"announcing the most absurd movie premise ever conceived\",\n            setting: \"montage of vegetables performing complex musical numbers\",\n            style: \"summer blockbuster announcement for vegetable jazz democracy\",\n            tone: \"treating produce-based political jazz as serious cinema\",\n            dialogue_style: \"epic movie voice-over for impossible vegetable musical\"\n          }\n        }\n      }\n    },\n\n    \"behind-scenes-meltdown\": {\n      id: \"behind-scenes-meltdown\",\n      name: \"Behind-the-Scenes Meltdown\",\n      icon: \"🎭\",\n      description: \"Production chaos with escalating reality breaks\",\n      category: \"meta\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Actor breaking character during serious scene with mild confusion\",\n            character_type: \"professional actor having minor existential crisis\",\n            character_action: \"questioning the logic of their dramatic role\",\n            setting: \"film set with slightly confused crew\",\n            style: \"documentary capturing authentic moment of doubt\",\n            tone: \"gentle comedy from actor's honest confusion\",\n            dialogue_style: \"actor genuinely questioning their character's motivations\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Director arguing with imaginary producers about impossible demands\",\n            character_type: \"stressed director losing grip on reality\",\n            character_action: \"negotiating with invisible studio executives\",\n            setting: \"film set where only director can see the problems\",\n            style: \"behind-scenes chaos with psychological elements\",\n            tone: \"sympathetic portrayal of creative breakdown\",\n            dialogue_style: \"one-sided arguments with non-existent authority figures\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Camera crew gets trapped in alternate dimension during coffee break\",\n            character_type: \"film crew dealing with interdimensional travel\",\n            character_action: \"trying to maintain production schedule across multiple realities\",\n            setting: \"film set that exists in several dimensions simultaneously\",\n            style: \"workplace documentary meets science fiction horror\",\n            tone: \"treating dimensional travel as minor production inconvenience\",\n            dialogue_style: \"professional film terminology for impossible situations\"\n          }\n        }\n      }\n    },\n\n    \"surreal-news\": {\n      id: \"surreal-news\",\n      name: \"Surreal News Report\",\n      icon: \"📰\",\n      description: \"News coverage of increasingly impossible events\",\n      category: \"journalism\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Professional news reporter covering unusual but possible local events\",\n            character_type: \"serious journalist maintaining composure\",\n            character_action: \"reporting on quirky community happenings with straight face\",\n            setting: \"news studio with graphics for bizarre local stories\",\n            style: \"legitimate news format for silly stories\",\n            tone: \"treating minor absurdities as important news\",\n            dialogue_style: \"formal news delivery for ridiculous local events\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Breaking news coverage of scientifically impossible events\",\n            character_type: \"news anchor reporting on reality-defying situations\",\n            character_action: \"maintaining journalistic objectivity about impossible news\",\n            setting: \"news studio with graphics explaining unexplainable events\",\n            style: \"professional news coverage of supernatural occurrences\",\n            tone: \"serious journalism for completely unbelievable events\",\n            dialogue_style: \"objective news reporting for subjective reality breaks\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Local man discovers his reflection has been freelancing as a mime\",\n            character_type: \"investigative reporter uncovering mirror-based employment fraud\",\n            character_action: \"conducting serious interview about reflection employment\",\n            setting: \"news investigation into the gig economy of reflections\",\n            style: \"hard-hitting journalism meets surreal comedy\",\n            tone: \"treating reflection labor disputes as serious economic issue\",\n            dialogue_style: \"investigative reporting language for impossible employment scenarios\"\n          }\n        }\n      }\n    },\n\n    \"reality-show\": {\n      id: \"reality-show\",\n      name: \"Reality Show Intro\",\n      icon: \"📺\",\n      description: \"Competition reality shows with escalating impossibility\",\n      category: \"entertainment\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Reality show introducing contestants competing in unusual but possible challenges\",\n            character_type: \"overly enthusiastic reality show host\",\n            character_action: \"introducing quirky contestants with dramatic flair\",\n            setting: \"elaborate reality show set with unnecessary drama\",\n            style: \"high-production reality TV with artificial tension\",\n            tone: \"manufactured excitement about mundane competition\",\n            dialogue_style: \"reality TV hyperbole for simple contests\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Reality competition between unlikely contestants like senior citizens vs AI robots\",\n            character_type: \"reality host treating absurd matchups as serious competition\",\n            character_action: \"maintaining drama while contestants defy logic\",\n            setting: \"competition arena designed for impossible contests\",\n            style: \"serious reality TV production for surreal competitions\",\n            tone: \"treating ridiculous contests as life-changing events\",\n            dialogue_style: \"sports commentary for impossible competitions\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Watch 12 houseplants compete for the title of Most Photosynthetic\",\n            character_type: \"botanical sports commentator\",\n            character_action: \"providing play-by-play coverage of plant competition\",\n            setting: \"greenhouse arena with dramatic lighting for plant drama\",\n            style: \"Olympic-level coverage of houseplant athletics\",\n            tone: \"treating photosynthesis as extreme competitive sport\",\n            dialogue_style: \"intense sports commentary for plant-based competition\"\n          }\n        }\n      }\n    },\n\n    \"propaganda-spoof\": {\n      id: \"propaganda-spoof\",\n      name: \"Propaganda Spoof\",\n      icon: \"📢\",\n      description: \"Public service announcements for increasingly absurd causes\",\n      category: \"political\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Serious PSA addressing minor everyday inconveniences as major social issues\",\n            character_type: \"earnest public service announcer\",\n            character_action: \"delivering important message about trivial problems\",\n            setting: \"official government-style announcement backdrop\",\n            style: \"legitimate PSA format for silly concerns\",\n            tone: \"treating minor annoyances as urgent social problems\",\n            dialogue_style: \"official announcement language for mundane issues\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Government announcement introducing new laws that defy common sense\",\n            character_type: \"official spokesperson for impossible legislation\",\n            character_action: \"explaining new regulations that shouldn't exist\",\n            setting: \"formal press briefing room for absurd announcements\",\n            style: \"official government communication for surreal policies\",\n            tone: \"bureaucratic seriousness about completely ridiculous laws\",\n            dialogue_style: \"legal terminology for impossible regulations\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Ministry of Socks declares war on mismatched pairs with nationwide sock inspection\",\n            character_type: \"Secretary of Sock Defense\",\n            character_action: \"announcing military action against footwear chaos\",\n            setting: \"war room dedicated to sock-based national security\",\n            style: \"military briefing meets fashion police state\",\n            tone: \"treating sock coordination as matter of national security\",\n            dialogue_style: \"military strategy language for sock-based warfare\"\n          }\n        }\n      }\n    },\n\n    \"unboxing-gone-wrong\": {\n      id: \"unboxing-gone-wrong\",\n      name: \"Product Unboxing Gone Wrong\",\n      icon: \"📦\",\n      description: \"Unboxing videos with increasingly impossible contents\",\n      category: \"product\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Enthusiastic unboxing reveals unexpected bonus items and minor product confusion\",\n            character_type: \"optimistic product reviewer\",\n            character_action: \"maintaining positivity despite product surprises\",\n            setting: \"well-lit unboxing setup with growing pile of unexpected items\",\n            style: \"professional product review with authentic confusion\",\n            tone: \"determined enthusiasm despite mounting product chaos\",\n            dialogue_style: \"upbeat product review language for confusing experiences\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Product unboxing where items don't work as advertised in impossible ways\",\n            character_type: \"confused but determined product reviewer\",\n            character_action: \"testing products that defy physics and logic\",\n            setting: \"review studio where products behave according to cartoon logic\",\n            style: \"serious product testing for impossible items\",\n            tone: \"maintaining professionalism while products break reality\",\n            dialogue_style: \"technical review terminology for impossible product behavior\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Unboxing cursed toaster that only makes toast in ancient Sumerian language\",\n            character_type: \"archaeological product reviewer\",\n            character_action: \"attempting to review appliances with supernatural properties\",\n            setting: \"unboxing studio that becomes ancient archaeological site\",\n            style: \"product review meets supernatural investigation\",\n            tone: \"treating cursed appliances as normal consumer electronics\",\n            dialogue_style: \"technical specifications for mystical kitchen appliances\"\n          }\n        }\n      }\n    },\n\n    \"inanimate-advice\": {\n      id: \"inanimate-advice\",\n      name: \"Life Advice from Inanimate Object\",\n      icon: \"🪑\",\n      description: \"Objects dispensing wisdom with escalating philosophical depth\",\n      category: \"philosophical\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Household item providing surprisingly good life advice to confused human\",\n            character_type: \"wise household object with good intentions\",\n            character_action: \"dispensing practical wisdom from unique perspective\",\n            setting: \"normal home where furniture occasionally offers guidance\",\n            style: \"heartwarming conversation between human and object\",\n            tone: \"gentle wisdom from unexpected source\",\n            dialogue_style: \"thoughtful advice from object's unique point of view\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Inanimate object has strong opinions about human behavior and society\",\n            character_type: \"opinionated furniture with social commentary\",\n            character_action: \"critiquing modern life from object's perspective\",\n            setting: \"home where objects actively participate in social discourse\",\n            style: \"philosophical debate between humans and their possessions\",\n            tone: \"furniture providing cutting social commentary\",\n            dialogue_style: \"intellectual discourse from unexpectedly wise objects\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Existential crisis counseling with your refrigerator's ice dispenser\",\n            character_type: \"refrigerator appliance specializing in existential therapy\",\n            character_action: \"providing deep psychological counseling while dispensing ice\",\n            setting: \"kitchen transformed into therapy office by sentient appliances\",\n            style: \"professional therapy session with kitchen appliance\",\n            tone: \"treating appliance therapy as legitimate mental health care\",\n            dialogue_style: \"psychological counseling terminology from refrigerator perspective\"\n          }\n        }\n      }\n    },\n\n    \"self-help-guru\": {\n      id: \"self-help-guru\",\n      name: \"Self-Help Guru with a Twist\",\n      icon: \"🧘\",\n      description: \"Motivational speakers with increasingly unconventional methods\",\n      category: \"motivational\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Motivational speaker teaching success through slightly unconventional methods\",\n            character_type: \"enthusiastic life coach with unique approach\",\n            character_action: \"demonstrating success principles through unusual examples\",\n            setting: \"seminar room with motivational posters featuring quirky advice\",\n            style: \"legitimate self-help presentation with creative techniques\",\n            tone: \"genuine enthusiasm for slightly unconventional wisdom\",\n            dialogue_style: \"motivational speaking with unexpected metaphors\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Life coach who is clearly worse at life than their clients\",\n            character_type: \"hypocritical motivational speaker with obvious problems\",\n            character_action: \"teaching success while demonstrating complete failure\",\n            setting: \"chaotic seminar room reflecting speaker's life disasters\",\n            style: \"motivational seminar where speaker needs more help than audience\",\n            tone: \"complete obliviousness to irony of teaching success while failing\",\n            dialogue_style: \"confident success advice from obviously unsuccessful person\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Achieve inner peace through competitive furniture arrangement and extreme feng shui\",\n            character_type: \"extreme furniture arrangement spiritual guru\",\n            character_action: \"teaching enlightenment through competitive interior design\",\n            setting: \"zen garden filled with aggressively arranged furniture\",\n            style: \"spiritual seminar meets competitive furniture sports\",\n            tone: \"treating furniture arrangement as path to enlightenment\",\n            dialogue_style: \"spiritual wisdom combined with competitive furniture terminology\"\n          }\n        }\n      }\n    },\n\n    \"pet-detective\": {\n      id: \"pet-detective\",\n      name: \"Pet Detective Noir\",\n      icon: \"🕵️\",\n      description: \"Detective stories with escalating animal involvement\",\n      category: \"mystery\",\n      levels: {\n        1: {\n          name: \"Mildly Offbeat\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Serious private detective investigating pet-related crimes with film noir atmosphere\",\n            character_type: \"hard-boiled detective specializing in animal cases\",\n            character_action: \"solving pet mysteries with classic detective work\",\n            setting: \"noir-style office decorated with pet missing posters\",\n            style: \"classic film noir but all cases involve pets\",\n            tone: \"treating pet crimes with serious detective gravitas\",\n            dialogue_style: \"hard-boiled detective speak for animal-related mysteries\"\n          }\n        },\n        2: {\n          name: \"Surreal\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Film noir detective but all cases mysteriously involve hamsters\",\n            character_type: \"detective who only encounters hamster-related crimes\",\n            character_action: \"investigating increasingly complex hamster conspiracies\",\n            setting: \"noir city where every mystery leads back to hamsters\",\n            style: \"serious noir investigation in world dominated by hamster intrigue\",\n            tone: \"treating hamster cases as serious criminal enterprises\",\n            dialogue_style: \"detective noir language for rodent-based crime syndicate\"\n          }\n        },\n        3: {\n          name: \"Absurd Chaos\",\n          icon: \"💀\",\n          template: {\n            scene: \"Detective cat solves murder mystery while simultaneously knocking evidence off tables\",\n            character_type: \"feline detective with typical cat behaviors\",\n            character_action: \"conducting professional investigation while being completely cat-like\",\n            setting: \"crime scene constantly disrupted by detective's cat instincts\",\n            style: \"serious murder investigation starring actual cat detective\",\n            tone: \"treating cat detective as competent professional despite cat behavior\",\n            dialogue_style: \"police procedural dialogue delivered by actual detective cat\"\n          }\n        }\n      }\n    },\n\n    \"grandmas-memes\": {\n      id: \"grandmas-memes\",\n      name: \"Grandma's Memes\",\n      icon: \"👵\",\n      description: \"Wholesome grandmother content with escalating viral potential\",\n      category: \"family\",\n      levels: {\n        1: {\n          name: \"Sweet & Quirky\",\n          icon: \"🎭\",\n          template: {\n            scene: \"Loving grandmother attempting modern activities with endearing confusion\",\n            character_type: \"sweet elderly woman embracing new experiences\",\n            character_action: \"trying to understand modern technology with genuine curiosity\",\n            setting: \"cozy home where traditional meets modern\",\n            style: \"heartwarming family content with gentle humor\",\n            tone: \"wholesome and encouraging with mild generational humor\",\n            dialogue_style: \"caring grandmother language mixed with modern slang attempts\"\n          }\n        },\n        2: {\n          name: \"Tech-Savvy Grandma\",\n          icon: \"🤪\",\n          template: {\n            scene: \"Grandmother who has mastered technology better than her grandchildren\",\n            character_type: \"surprisingly tech-savvy senior citizen\",\n            character_action: \"teaching young people about social media while knitting\",\n            setting: \"high-tech home office decorated with doilies and family photos\",\n            style: \"role-reversal comedy where grandma is the expert\",\n            tone: \"confident grandmother dispensing both wisdom and Wi-Fi passwords\",\n            dialogue_style: \"traditional grandmother wisdom delivered through modern platforms\"\n          }\n        },\n        3: {\n          name: \"Chaos Grandma\",\n          icon: \"💀\",\n          template: {\n            scene: \"Grandmother accidentally becomes viral sensation through pure chaos and authenticity\",\n            character_type: \"unstoppable force of nature disguised as sweet elderly lady\",\n            character_action: \"breaking the internet while trying to share cookie recipes\",\n            setting: \"kitchen that has become accidental content creation studio\",\n            style: \"viral sensation documentary meets cooking show apocalypse\",\n            tone: \"treating massive viral fame as minor inconvenience to baking schedule\",\n            dialogue_style: \"grandmotherly concern about followers not eating enough vegetables\"\n          }\n        }\n      }\n    }\n  };\n\n  // Generate experimental content based on format and absurdity level\n  static generateExperimentalContent(formatId, absurdityLevel, randomnessEnabled = false, currentContent = {}) {\n    const format = this.viralFormats[formatId];\n    if (!format) throw new Error(`Unknown format: ${formatId}`);\n\n    const levelTemplate = format.levels[absurdityLevel];\n    if (!levelTemplate) throw new Error(`Invalid absurdity level: ${absurdityLevel}`);\n\n    let content = { ...levelTemplate.template };\n\n    // Apply themed scenario selection for better comedy coherence\n    content = this.applyThemedScenario(content, formatId, absurdityLevel);\n\n    // Apply chaos injection if randomness is enabled\n    if (randomnessEnabled) {\n      content = this.injectChaos(content, absurdityLevel);\n    }\n\n    // Merge with existing content if provided\n    if (currentContent && Object.keys(currentContent).length > 0) {\n      content = this.mergeWithExistingContent(content, currentContent);\n    }\n\n    return {\n      formatInfo: {\n        id: formatId,\n        name: format.name,\n        icon: format.icon,\n        level: absurdityLevel,\n        levelName: levelTemplate.name,\n        levelIcon: levelTemplate.icon\n      },\n      content: content,\n      metadata: {\n        absurdityLevel: absurdityLevel,\n        randomnessApplied: randomnessEnabled,\n        viralPotential: this.calculateViralPotential(formatId, absurdityLevel),\n        recommendedPlatforms: this.getRecommendedPlatforms(formatId, absurdityLevel),\n        appliedTheme: content.appliedTheme || null\n      }\n    };\n  }\n\n  // Apply themed scenario selection for better comedy coherence\n  static applyThemedScenario(content, formatId, absurdityLevel) {\n    const modifiedContent = { ...content };\n    \n    // Map format types to appropriate themes\n    const formatThemeMapping = {\n      \"street-interview\": [\"social-awkwardness\", \"workplace-chaos\"],\n      \"influencer-tutorial\": [\"domestic-absurdity\", \"technology-fails\"],\n      \"commercial-parody\": [\"customer-service\", \"technology-fails\"],\n      \"fake-movie-trailer\": [\"domestic-absurdity\", \"workplace-chaos\"],\n      \"behind-scenes-meltdown\": [\"workplace-chaos\", \"technology-fails\"],\n      \"surreal-news\": [\"social-awkwardness\", \"customer-service\"],\n      \"reality-show\": [\"social-awkwardness\", \"domestic-absurdity\"],\n      \"propaganda-spoof\": [\"workplace-chaos\", \"customer-service\"],\n      \"unboxing-gone-wrong\": [\"technology-fails\", \"domestic-absurdity\"],\n      \"inanimate-advice\": [\"domestic-absurdity\", \"social-awkwardness\"],\n      \"self-help-guru\": [\"workplace-chaos\", \"educational-chaos\"],\n      \"pet-detective\": [\"domestic-absurdity\", \"social-awkwardness\"],\n      \"grandmas-memes\": [\"grandma-chaos\", \"technology-fails\", \"domestic-absurdity\"]\n    };\n\n    const availableThemes = formatThemeMapping[formatId] || Object.keys(this.scenarioThemes);\n    const selectedTheme = this.getRandomElement(availableThemes);\n    const themeScenarios = this.scenarioThemes[selectedTheme];\n    \n    if (themeScenarios && themeScenarios.length > 0) {\n      const selectedScenario = this.getRandomElement(themeScenarios);\n      \n      // Apply scenario based on absurdity level\n      if (absurdityLevel === 1) {\n        // Mildly incorporate the scenario\n        modifiedContent.scene_context = selectedScenario;\n      } else if (absurdityLevel === 2) {\n        // Blend scenario with existing scene\n        if (modifiedContent.scene) {\n          modifiedContent.scene = `${modifiedContent.scene} incorporating elements of ${selectedScenario}`;\n        }\n      } else if (absurdityLevel === 3) {\n        // Fully replace or dramatically enhance with scenario\n        modifiedContent.scenario_base = selectedScenario;\n        if (modifiedContent.scene) {\n          modifiedContent.scene = `${selectedScenario} escalating into ${modifiedContent.scene}`;\n        }\n      }\n      \n      modifiedContent.appliedTheme = selectedTheme;\n    }\n    \n    return modifiedContent;\n  }\n\n  // Unexpected event categories for enhanced chaos\n  static unexpectedEvents = {\n    \"tech-fails\": [\n      \"Wi-Fi router gains sentience and starts demanding better working conditions\",\n      \"smartphone autocorrect begins writing poetry instead of messages\",\n      \"smart TV starts offering unsolicited life advice during shows\",\n      \"video call freezes at the worst possible facial expression\",\n      \"voice assistant mishears everything as requests for 80s music\"\n    ],\n    \"food-disasters\": [\n      \"attempt to make toast results in accidentally inventing new breakfast trend\",\n      \"microwave timer becomes stuck in a time loop\",\n      \"refrigerator starts hoarding favorite foods\",\n      \"cooking show recipe calls for ingredients that don't exist yet\",\n      \"kitchen scale begins providing existential commentary on portion sizes\"\n    ],\n    \"social-media-oops\": [\n      \"accidentally posts grocery list as profound philosophical statement\",\n      \"meant to like a photo but somehow starts international trend\",\n      \"private message gets sent to company-wide newsletter\",\n      \"tries to upload one photo, somehow creates entire documentary\",\n      \"autocorrect changes recipe post into accidental romance novel\"\n    ],\n    \"generational-gap\": [\n      \"explains modern slang using historical references from 1950s\",\n      \"applies traditional problem-solving to modern technology with unexpected success\",\n      \"misunderstands social media platform, accidentally becomes thought leader\",\n      \"uses old-fashioned courtesy in digital spaces, starts kindness revolution\",\n      \"treats streaming service like personal assistant, somehow makes it work\"\n    ]\n  };\n\n  // Inject chaos into content based on absurdity level\n  static injectChaos(content, absurdityLevel) {\n    const chaosLevel = absurdityLevel / 3; // 0.33, 0.66, or 1.0\n    const modifiedContent = { ...content };\n\n    // Random object injection (probability increases with absurdity)\n    if (Math.random() < chaosLevel) {\n      const randomObject = this.getRandomElement(this.randomObjects);\n      if (modifiedContent.scene) {\n        modifiedContent.scene += ` featuring unexpected appearance of ${randomObject}`;\n      }\n    }\n\n    // Random action injection\n    if (Math.random() < chaosLevel * 0.8) {\n      const randomAction = this.getRandomElement(this.randomActions);\n      if (modifiedContent.character_action) {\n        modifiedContent.character_action += ` and suddenly ${randomAction}`;\n      }\n    }\n\n    // Random dialogue injection (higher levels only)\n    if (absurdityLevel >= 2 && Math.random() < chaosLevel * 0.6) {\n      const isGrandmaContent = modifiedContent.character_type && modifiedContent.character_type.includes('grandm');\n      const dialogueArray = isGrandmaContent ? this.grandmaDialogue : this.randomDialogue;\n      const randomLine = this.getRandomElement(dialogueArray);\n      modifiedContent.dialogue_sample = randomLine;\n    }\n\n    // Unexpected event injection (new feature)\n    if (absurdityLevel >= 2 && Math.random() < chaosLevel * 0.5) {\n      const eventCategories = Object.keys(this.unexpectedEvents);\n      const selectedCategory = this.getRandomElement(eventCategories);\n      const unexpectedEvent = this.getRandomElement(this.unexpectedEvents[selectedCategory]);\n      modifiedContent.unexpected_event = unexpectedEvent;\n    }\n\n    // Setting chaos (level 3 only)\n    if (absurdityLevel === 3 && Math.random() < 0.7) {\n      modifiedContent.environmental_details = \"reality operates on cartoon physics\";\n    }\n\n    return modifiedContent;\n  }\n\n  // Calculate viral potential based on format and absurdity\n  static calculateViralPotential(formatId, absurdityLevel) {\n    const baseScores = {\n      \"street-interview\": 75,\n      \"influencer-tutorial\": 85,\n      \"commercial-parody\": 70,\n      \"fake-movie-trailer\": 80,\n      \"behind-scenes-meltdown\": 65,\n      \"surreal-news\": 90,\n      \"reality-show\": 75,\n      \"propaganda-spoof\": 60,\n      \"unboxing-gone-wrong\": 70,\n      \"inanimate-advice\": 65,\n      \"self-help-guru\": 80,\n      \"pet-detective\": 70,\n      \"grandmas-memes\": 95  // Grandma content has highest viral potential!\n    };\n\n    const absurdityMultiplier = [1.0, 1.2, 1.5][absurdityLevel - 1];\n    const baseScore = baseScores[formatId] || 70;\n    \n    return Math.min(100, Math.round(baseScore * absurdityMultiplier));\n  }\n\n  // Get recommended platforms based on format and level\n  static getRecommendedPlatforms(formatId, absurdityLevel) {\n    const platformsByFormat = {\n      \"street-interview\": [\"TikTok\", \"Instagram Reels\", \"YouTube Shorts\"],\n      \"influencer-tutorial\": [\"Instagram\", \"TikTok\", \"YouTube\"],\n      \"commercial-parody\": [\"YouTube\", \"Instagram\", \"Twitter\"],\n      \"fake-movie-trailer\": [\"YouTube\", \"Twitter\", \"Instagram\"],\n      \"behind-scenes-meltdown\": [\"TikTok\", \"Instagram Stories\", \"Twitter\"],\n      \"surreal-news\": [\"Twitter\", \"TikTok\", \"YouTube\"],\n      \"reality-show\": [\"TikTok\", \"Instagram\", \"YouTube\"],\n      \"propaganda-spoof\": [\"Twitter\", \"YouTube\", \"TikTok\"],\n      \"unboxing-gone-wrong\": [\"YouTube\", \"TikTok\", \"Instagram\"],\n      \"inanimate-advice\": [\"TikTok\", \"Instagram\", \"Twitter\"],\n      \"self-help-guru\": [\"YouTube\", \"Instagram\", \"TikTok\"],\n      \"pet-detective\": [\"TikTok\", \"YouTube\", \"Instagram\"],\n      \"grandmas-memes\": [\"Facebook\", \"TikTok\", \"Instagram\", \"YouTube\"]  // Facebook is perfect for grandma content!\n    };\n\n    const platforms = platformsByFormat[formatId] || [\"TikTok\", \"Instagram\", \"YouTube\"];\n    \n    // Higher absurdity levels work better on certain platforms\n    if (absurdityLevel === 3) {\n      return [\"TikTok\", \"Instagram Reels\", \"Twitter\", \"Reddit\"];\n    }\n    \n    return platforms;\n  }\n\n  // Merge experimental content with existing user content\n  static mergeWithExistingContent(experimentalContent, existingContent) {\n    const merged = { ...existingContent };\n    \n    // Preserve user's existing content but enhance with experimental elements\n    Object.keys(experimentalContent).forEach(key => {\n      if (!merged[key] || merged[key].trim() === '') {\n        merged[key] = experimentalContent[key];\n      } else {\n        // Blend existing content with experimental elements\n        if (key === 'scene') {\n          merged[key] = `${merged[key]} with experimental twist: ${experimentalContent[key]}`;\n        }\n      }\n    });\n\n    return merged;\n  }\n\n  // Utility function to get random element from array\n  static getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  // Get all available formats for UI\n  static getAllFormats() {\n    return Object.values(this.viralFormats);\n  }\n\n  // Get format by ID\n  static getFormat(formatId) {\n    return this.viralFormats[formatId];\n  }\n}\n\nexport default ExperimentalModeEngine;","import React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { allTemplates, getAllTemplateKeys, isPresetTemplate, getTemplate } from './templates';\nimport ExperimentalModeEngine from './ExperimentalModeEngine';\nimport usePromptStore from './store';\nimport { characterPresets } from './characterPresetsData';\nimport { scenePresets } from './scenePresetsData';\nimport { actionPresets } from './actionPresetsData';\nimport { directorStyles } from './directorStylesData';\nimport { audioPresets } from './audioPresetsData';\n\n// Template categorization\nconst TEMPLATE_CATEGORIES = {\n  // TEMPLATES (Level-based with 1/2/3 complexity)\n  all: getAllTemplateKeys(),\n  directors: [\n    // Original level-based director templates\n    'wes_anderson', 'christopher_nolan', 'steven_spielberg', 'quentin_tarantino', \n    'hayao_miyazaki', 'zack_snyder', 'david_fincher', 'greta_gerwig', \n    'guillermo_del_toro', 'stanley_kubrick',\n    // Director style presets (only actual directors, not aesthetic styles)\n    ...Object.keys(directorStyles).filter(key => directorStyles[key].category === 'directors')\n  ],\n  genres: [\n    'horror', 'cinematic', 'social_media', 'realistic_gritty', \n    'commercial', 'music_video', 'travel', 'corporate'\n  ],\n  trending: ['viral_short', 'character_narrative', 'stylized_meme'],\n  animation: [\n    'springfield_yellow', 'cutout_satire', 'slacker_sitcom', 'sci_fi_toon', 'spy_noir_animation',\n    'studio_ghibli_magic', 'shonen_battle', 'cyberpunk_anime',\n    'classic_disney_2d', 'pixar_3d_style',\n    'cartoon_network_classic', 'nickelodeon_90s',\n    'paper_cutout', 'stop_motion_clay', 'flash_animation'\n  ],\n  experimental: ExperimentalModeEngine.getAllFormats().map(format => format.id),\n  \n  // PRESETS (Direct field application, no levels)\n  preset_characters: Object.keys(characterPresets),\n  preset_scenes: Object.keys(scenePresets), \n  preset_actions: Object.keys(actionPresets),\n  preset_styles: Object.keys(directorStyles).filter(key => directorStyles[key].category !== 'directors'),\n  preset_audio: Object.keys(audioPresets)\n};\n\nconst TAB_LABELS = {\n  // TEMPLATES\n  all: 'All Templates',\n  directors: 'Directors',\n  genres: 'Genres', \n  trending: 'Trending',\n  animation: '🎨 Animation',\n  experimental: '🧪 Experimental',\n  \n  // PRESETS\n  preset_characters: '👤 Character Presets',\n  preset_scenes: '📍 Scene Presets', \n  preset_actions: '🎬 Action Presets',\n  preset_styles: '🎨 Styles',\n  preset_audio: '🔊 Audio Presets'\n};\n\nconst TemplateSelector = () => {\n  const { applyTemplate, getTemplatePreview, clearAll, setFieldValue, applyCharacterPresetData, applyScenePresetData } = usePromptStore();\n  const [showModal, setShowModal] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [selectedLevel, setSelectedLevel] = useState(2);\n  const [preview, setPreview] = useState(null);\n  const [activeTab, setActiveTab] = useState('all');\n\n  // Helper to check if current tab is a preset category\n  const isPresetCategory = (tabKey) => {\n    return tabKey.startsWith('preset_');\n  };\n  \n  // Experimental mode controls\n  const [absurdityLevel, setAbsurdityLevel] = useState(1);\n  const [randomnessEnabled, setRandomnessEnabled] = useState(false);\n  const [experimentalPreview, setExperimentalPreview] = useState(null);\n\n  const handleTemplateSelect = (templateKey) => {\n    setSelectedTemplate(templateKey);\n    \n    try {\n      // Check if this is an experimental format\n      if (activeTab === 'experimental') {\n        // Generate experimental preview\n        try {\n          const result = ExperimentalModeEngine.generateExperimentalContent(\n            templateKey,\n            absurdityLevel,\n            randomnessEnabled\n          );\n          setExperimentalPreview(result);\n          setPreview(null);\n        } catch (error) {\n          console.error('Error generating experimental preview:', error);\n        }\n      } else if (isPresetCategory(activeTab) || isPresetTemplate(templateKey)) {\n        // Preset preview - show direct field mapping\n        const template = getTemplate(templateKey);\n        if (template && template.fields) {\n          // Calculate field count and affected categories for preset preview\n          const fieldCount = Object.keys(template.fields).length;\n          const categoriesAffected = [...new Set(Object.keys(template.fields).map(field => {\n            // Map common field names to categories\n            if (field.includes('camera') || field.includes('lens') || field.includes('depth')) return 'Camera';\n            if (field.includes('lighting')) return 'Lighting';\n            if (field.includes('color')) return 'Color';\n            if (field.includes('style')) return 'Style';\n            if (field.includes('motion')) return 'Motion';\n            return 'Scene';\n          }))];\n          \n          setPreview({\n            fields: template.fields,\n            name: template.name,\n            description: template.description,\n            fieldCount: fieldCount,\n            categoriesAffected: categoriesAffected\n          });\n        } else {\n          setPreview(null);\n        }\n        setExperimentalPreview(null);\n      } else {\n        // Regular template preview with levels\n        const templatePreview = getTemplatePreview(templateKey, selectedLevel);\n        setPreview(templatePreview);\n        setExperimentalPreview(null);\n      }\n      \n      setShowModal(true);\n    } catch (error) {\n      console.error('Error in handleTemplateSelect:', error);\n      setPreview(null);\n      setExperimentalPreview(null);\n      setShowModal(true);\n    }\n  };\n\n  const handleLevelChange = (level) => {\n    setSelectedLevel(level);\n    if (selectedTemplate && !isPresetCategory(activeTab) && !isPresetTemplate(selectedTemplate)) {\n      const templatePreview = getTemplatePreview(selectedTemplate, level);\n      setPreview(templatePreview);\n    }\n  };\n\n  const handleApply = () => {\n    if (selectedTemplate) {\n      if (activeTab === 'experimental' && experimentalPreview) {\n        // Apply experimental content\n        clearAll();\n        Object.entries(experimentalPreview.content).forEach(([key, value]) => {\n          if (value && typeof value === 'string') {\n            setFieldValue(key, value);\n          }\n        });\n      } else if (isPresetCategory(activeTab) || isPresetTemplate(selectedTemplate)) {\n        // Handle presets - apply fields directly\n        const template = getTemplate(selectedTemplate);\n        if (template && template.fields) {\n          Object.entries(template.fields).forEach(([field, value]) => {\n            setFieldValue(field, value);\n          });\n        }\n      } else {\n        // Apply regular template with levels\n        applyTemplate(selectedTemplate, selectedLevel);\n      }\n      \n      setShowModal(false);\n      setSelectedTemplate(null);\n      setPreview(null);\n      setExperimentalPreview(null);\n    }\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n    setSelectedTemplate(null);\n    setPreview(null);\n    setExperimentalPreview(null);\n  };\n\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n    setSelectedTemplate(null);\n    setPreview(null);\n    setExperimentalPreview(null);\n  };\n\n  // Experimental mode handlers\n  const handleAbsurdityChange = (level) => {\n    setAbsurdityLevel(level);\n    if (selectedTemplate && activeTab === 'experimental') {\n      try {\n        const result = ExperimentalModeEngine.generateExperimentalContent(\n          selectedTemplate,\n          level,\n          randomnessEnabled\n        );\n        setExperimentalPreview(result);\n      } catch (error) {\n        console.error('Error updating experimental preview:', error);\n      }\n    }\n  };\n\n  const handleRandomnessToggle = () => {\n    const newRandomness = !randomnessEnabled;\n    setRandomnessEnabled(newRandomness);\n    if (selectedTemplate && activeTab === 'experimental') {\n      try {\n        const result = ExperimentalModeEngine.generateExperimentalContent(\n          selectedTemplate,\n          absurdityLevel,\n          newRandomness\n        );\n        setExperimentalPreview(result);\n      } catch (error) {\n        console.error('Error updating experimental preview:', error);\n      }\n    }\n  };\n\n  const getFilteredTemplates = () => {\n    if (activeTab === 'experimental') {\n      return TEMPLATE_CATEGORIES[activeTab]; // Experimental formats don't need filtering\n    }\n    return TEMPLATE_CATEGORIES[activeTab].filter(key => allTemplates[key]);\n  };\n\n  return (\n    <>\n      {/* Template Trigger Button */}\n      <button\n        onClick={() => setShowModal(true)}\n        className=\"px-4 py-2 rounded-md font-semibold text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:brightness-110 shadow-md transition-all duration-200 flex items-center\"\n      >\n        <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14-7H5m14 14H5M3 7h18M3 17h18\" />\n        </svg>\n        <span>Templates & Presets</span>\n      </button>\n\n      {/* Template Selection Modal */}\n      {showModal && createPortal(\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 overflow-y-auto z-[3000]\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl dark:shadow-glow-soft max-w-4xl w-full max-h-[90vh] overflow-hidden border border-transparent dark:border-cinema-border transition-all duration-300\">\n            \n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-cinema-border\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-cinema-text\">\n                Choose a Template or Preset\n              </h3>\n              <button\n                onClick={handleClose}\n                className=\"text-gray-400 hover:text-gray-600 dark:text-cinema-text-muted dark:hover:text-cinema-text transition-colors duration-300\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Tab Navigation */}\n            <div className=\"border-b border-gray-200 dark:border-cinema-border\">\n              <nav className=\"flex flex-wrap sm:space-x-8 px-6\" aria-label=\"Tabs\">\n                {Object.entries(TAB_LABELS).map(([tabKey, label]) => {\n                  const templateCount = tabKey === 'experimental' \n                    ? TEMPLATE_CATEGORIES[tabKey].length \n                    : TEMPLATE_CATEGORIES[tabKey].filter(key => allTemplates[key]).length;\n                  return (\n                    <button\n                      key={tabKey}\n                      onClick={() => handleTabChange(tabKey)}\n                      className={`py-4 px-2 sm:px-1 border-b-2 font-medium text-sm transition-all duration-300 whitespace-nowrap ${\n                        activeTab === tabKey\n                          ? 'border-indigo-500 text-indigo-600 dark:border-cinema-teal dark:text-cinema-teal'\n                          : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text hover:border-gray-300 dark:hover:border-cinema-border'\n                      }`}\n                    >\n                      <span className=\"hidden sm:inline\">{label}</span>\n                      <span className=\"sm:hidden\">{label.split(' ')[0]}</span>\n                      <span className=\"ml-1 sm:ml-2 bg-gray-100 text-gray-900 dark:bg-cinema-card dark:text-cinema-text py-0.5 px-1.5 sm:px-2.5 rounded-full text-xs transition-colors duration-300\">\n                        {templateCount}\n                      </span>\n                    </button>\n                  );\n                })}\n              </nav>\n            </div>\n\n            <div className=\"flex h-[60vh]\">\n              {/* Template Grid */}\n              <div className=\"flex-1 p-6 overflow-y-auto bg-white dark:bg-cinema-panel/30 transition-colors duration-300\">\n                {getFilteredTemplates().length > 0 ? (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {getFilteredTemplates().map((templateKey) => {\n                      // Handle experimental formats differently\n                      if (activeTab === 'experimental') {\n                        const experimentalFormat = ExperimentalModeEngine.getFormat(templateKey);\n                        if (!experimentalFormat) return null;\n                        \n                        return (\n                          <button\n                            key={templateKey}\n                            onClick={() => handleTemplateSelect(templateKey)}\n                            className={`p-4 border-2 rounded-lg transition-all duration-300 group ${\n                              selectedTemplate === templateKey\n                                ? 'border-purple-500 bg-purple-50 dark:border-purple-500 dark:bg-purple-900/20 dark:shadow-glow-purple'\n                                : 'border-gray-200 hover:border-purple-300 dark:border-cinema-border dark:hover:border-purple-500/50 bg-white dark:bg-cinema-card hover:shadow-md dark:hover:shadow-glow-soft dark:hover:transform dark:hover:translateY(-2px)'\n                            }`}\n                          >\n                            <div className=\"text-center\">\n                              <div className=\"text-3xl mb-2 transition-transform duration-300 group-hover:scale-110\">{experimentalFormat.icon}</div>\n                              <div className=\"font-medium text-gray-900 dark:text-cinema-text text-sm mb-1 transition-colors duration-300\">\n                                {experimentalFormat.name}\n                              </div>\n                              <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted transition-colors duration-300\">\n                                {experimentalFormat.description}\n                              </div>\n                              <div className=\"text-xs text-purple-600 dark:text-purple-400 mt-1 font-medium\">\n                                🧪 Experimental\n                              </div>\n                            </div>\n                          </button>\n                        );\n                      } else {\n                        // Regular template rendering\n                        const template = allTemplates[templateKey];\n                        const isDirectorTemplate = TEMPLATE_CATEGORIES.directors.includes(templateKey);\n                        const isPreset = isPresetTemplate(templateKey);\n                        \n                        return (\n                          <button\n                            key={templateKey}\n                            onClick={() => handleTemplateSelect(templateKey)}\n                            className={`p-4 border-2 rounded-lg transition-all duration-300 group relative ${\n                              selectedTemplate === templateKey\n                                ? 'border-indigo-500 bg-indigo-50 dark:border-cinema-teal dark:bg-cinema-teal/10 dark:shadow-glow-teal'\n                                : `border-gray-200 hover:border-gray-300 dark:border-cinema-border dark:hover:border-cinema-teal/50 bg-white dark:bg-cinema-card hover:shadow-md dark:hover:shadow-glow-soft dark:hover:transform dark:hover:translateY(-2px) ${\n                                    isDirectorTemplate ? 'dark:hover:shadow-glow-purple dark:hover:border-cinema-purple/50' : ''\n                                  }`\n                            }`}\n                          >\n                            {/* Type indicator badge */}\n                            {isPreset && (\n                              <div className=\"absolute top-2 right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium\">\n                                Style\n                              </div>\n                            )}\n                            {!isPreset && activeTab === 'directors' && (\n                              <div className=\"absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-medium\">\n                                3 Levels\n                              </div>\n                            )}\n                            \n                            <div className=\"text-center\">\n                              <div className=\"text-3xl mb-2 transition-transform duration-300 group-hover:scale-110\">{template.icon}</div>\n                              <div className=\"font-medium text-gray-900 dark:text-cinema-text text-sm mb-1 transition-colors duration-300\">\n                                {template.name}\n                              </div>\n                              <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted transition-colors duration-300\">\n                                {template.description}\n                              </div>\n                            </div>\n                          </button>\n                        );\n                      }\n                    })}\n                  </div>\n                ) : (\n                  <div className=\"flex items-center justify-center h-full\">\n                    <div className=\"text-center text-gray-500 dark:text-cinema-text-muted\">\n                      <div className=\"text-4xl mb-4 animate-float\">🎬</div>\n                      <div className=\"text-lg font-medium mb-2\">No templates found</div>\n                      <div className=\"text-sm\">Try selecting a different category</div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Preview Panel */}\n              {selectedTemplate && preview && (\n                <div className=\"w-80 border-l border-gray-200 dark:border-cinema-border bg-gray-50 dark:bg-cinema-card flex flex-col transition-colors duration-300\">\n                  {/* Scrollable Content */}\n                  <div className=\"flex-1 p-6 overflow-y-auto\">\n                    <div className=\"space-y-4\">\n                      {/* Template Info */}\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 dark:text-cinema-text flex items-center space-x-2\">\n                          <span className=\"text-2xl\">{allTemplates[selectedTemplate]?.icon || '🎬'}</span>\n                          <span>{preview.name}</span>\n                        </h4>\n                        <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-1 transition-colors duration-300\">\n                          {preview.description}\n                        </p>\n                      </div>\n\n                      {/* Level Selector - Only for non-preset templates */}\n                      {!isPresetCategory(activeTab) && !isPresetTemplate(selectedTemplate) && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2 transition-colors duration-300\">\n                            Complexity Level\n                          </label>\n                          <div className=\"space-y-2\">\n                            {[1, 2, 3].map((level) => {\n                              const template = allTemplates[selectedTemplate];\n                              if (!template || !template.levels || !template.levels[level]) {\n                                return null;\n                              }\n                              const levelData = template.levels[level];\n                              const fieldCount = Object.keys(levelData.fields || {}).length;\n                              \n                              return (\n                                <button\n                                  key={level}\n                                  onClick={() => handleLevelChange(level)}\n                                  className={`w-full p-3 text-left border rounded-md transition-all duration-300 ${\n                                    selectedLevel === level\n                                      ? 'border-indigo-500 bg-indigo-50 dark:border-cinema-teal dark:bg-cinema-teal/10'\n                                      : 'border-gray-200 hover:border-gray-300 dark:border-cinema-border dark:hover:border-cinema-teal/50 bg-white dark:bg-cinema-panel'\n                                  }`}\n                                >\n                                  <div className=\"flex items-center justify-between\">\n                                    <div>\n                                      <div className=\"font-medium text-sm text-gray-900 dark:text-cinema-text transition-colors duration-300\">\n                                        {levelData.name}\n                                      </div>\n                                      <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted transition-colors duration-300\">\n                                        {levelData.description}\n                                      </div>\n                                    </div>\n                                    <div className=\"text-xs text-gray-400 dark:text-cinema-text-muted transition-colors duration-300\">\n                                      {fieldCount} fields\n                                    </div>\n                                  </div>\n                                </button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      )}\n                      \n                      {/* Preset Metadata - Only for presets */}\n                      {isPresetTemplate(selectedTemplate) && allTemplates[selectedTemplate] && (\n                        <div className=\"space-y-3\">\n                          {/* Category & Tags */}\n                          <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-md border border-gray-200 dark:border-cinema-border transition-colors duration-300\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <span className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">Category:</span>\n                              <span className=\"text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-full\">\n                                {allTemplates[selectedTemplate]?.category || 'Unknown'}\n                              </span>\n                            </div>\n                            {allTemplates[selectedTemplate]?.tags && (\n                              <div className=\"flex flex-wrap gap-1 mt-2\">\n                                {allTemplates[selectedTemplate].tags.slice(0, 4).map(tag => (\n                                  <span key={tag} className=\"text-xs bg-gray-100 dark:bg-cinema-border text-gray-600 dark:text-cinema-text-muted px-1.5 py-0.5 rounded\">\n                                    {tag}\n                                  </span>\n                                ))}\n                              </div>\n                            )}\n                          </div>\n                          \n                          {/* Use Case */}\n                          {allTemplates[selectedTemplate]?.useCase && (\n                            <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-md border border-gray-200 dark:border-cinema-border transition-colors duration-300\">\n                              <div className=\"text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">Use Case:</div>\n                              <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                                {allTemplates[selectedTemplate].useCase}\n                              </div>\n                            </div>\n                          )}\n                          \n                          {/* Custom Details */}\n                          {allTemplates[selectedTemplate]?.customDetails && (\n                            <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-md border border-gray-200 dark:border-cinema-border transition-colors duration-300\">\n                              <div className=\"text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">Details:</div>\n                              <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                                {allTemplates[selectedTemplate].customDetails}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      )}\n\n                      {/* Preview Summary */}\n                      <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-md border border-gray-200 dark:border-cinema-border transition-colors duration-300\">\n                        <div className=\"text-sm\">\n                          <div className=\"font-medium text-gray-900 dark:text-cinema-text mb-2 transition-colors duration-300\">\n                            Will apply {preview.fieldCount || Object.keys(preview.fields || {}).length} fields across:\n                          </div>\n                          <div className=\"text-gray-600 dark:text-cinema-text-muted transition-colors duration-300\">\n                            {preview.categoriesAffected ? preview.categoriesAffected.join(', ') : 'Multiple categories'}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Field List */}\n                      <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-md border border-gray-200 dark:border-cinema-border transition-colors duration-300\">\n                        <div className=\"text-sm font-medium text-gray-900 dark:text-cinema-text mb-2 transition-colors duration-300\">\n                          Fields to be set:\n                        </div>\n                        <div className=\"space-y-1 max-h-40 overflow-y-auto\">\n                          {Object.entries(preview.fields || {}).map(([key, value]) => (\n                            <div key={key} className=\"text-xs text-gray-600 dark:text-cinema-text-muted transition-colors duration-300\">\n                              <span className=\"font-medium\">{key}:</span> {value}\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Sticky Apply Button */}\n                  <div className=\"p-6 border-t border-gray-200 dark:border-cinema-border bg-gray-50 dark:bg-cinema-card transition-colors duration-300\">\n                    <button\n                      onClick={handleApply}\n                      className=\"w-full px-4 py-2 bg-indigo-500 hover:bg-indigo-600 dark:bg-cinema-teal dark:hover:bg-cinema-teal/90 dark:hover:shadow-glow-teal text-white font-medium rounded-md transition-all duration-300\"\n                    >\n                      {(isPresetCategory(activeTab) || isPresetTemplate(selectedTemplate)) ? 'Apply Preset' : 'Apply Template'}\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Experimental Preview Panel */}\n              {selectedTemplate && experimentalPreview && activeTab === 'experimental' && (\n                <div className=\"w-80 border-l border-gray-200 dark:border-cinema-border bg-gray-50 dark:bg-cinema-card flex flex-col transition-colors duration-300\">\n                  {/* Scrollable Content */}\n                  <div className=\"flex-1 p-6 overflow-y-auto\">\n                    <div className=\"space-y-4\">\n                      {/* Experimental Format Info */}\n                      <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-700\">\n                        <div className=\"flex items-center space-x-3 mb-3\">\n                          <span className=\"text-2xl\">{experimentalPreview.formatInfo.icon}</span>\n                          <div>\n                            <h3 className=\"font-semibold text-gray-900 dark:text-cinema-text\">\n                              {experimentalPreview.formatInfo.name}\n                            </h3>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-lg\">{experimentalPreview.formatInfo.levelIcon}</span>\n                              <span className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                                {experimentalPreview.formatInfo.levelName}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        {/* Viral Potential */}\n                        <div className=\"flex items-center space-x-3 mb-3\">\n                          <span className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                            Viral Potential:\n                          </span>\n                          <div className=\"flex-1 bg-gray-200 dark:bg-cinema-border rounded-full h-2\">\n                            <div \n                              className=\"bg-gradient-to-r from-green-400 to-purple-500 h-2 rounded-full transition-all duration-500\"\n                              style={{ width: `${experimentalPreview.metadata.viralPotential}%` }}\n                            />\n                          </div>\n                          <span className=\"text-sm font-bold text-purple-600 dark:text-purple-400\">\n                            {experimentalPreview.metadata.viralPotential}%\n                          </span>\n                        </div>\n\n                        {/* Recommended Platforms */}\n                        <div className=\"flex flex-wrap gap-2\">\n                          {experimentalPreview.metadata.recommendedPlatforms.map(platform => (\n                            <span \n                              key={platform}\n                              className=\"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full\"\n                            >\n                              {platform}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* Absurdity Level Controls */}\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n                          🎚️ Absurdity Level\n                        </label>\n                        <div className=\"space-y-2\">\n                          {[\n                            { id: 1, name: \"Mildly Offbeat\", icon: \"🎭\", description: \"Gentle humor\" },\n                            { id: 2, name: \"Surreal\", icon: \"🤪\", description: \"Reality-bending\" },\n                            { id: 3, name: \"Absurd Chaos\", icon: \"💀\", description: \"Complete chaos\" }\n                          ].map((level) => (\n                            <button\n                              key={level.id}\n                              onClick={() => handleAbsurdityChange(level.id)}\n                              className={`w-full p-3 text-left border rounded-md transition-all duration-300 ${\n                                absurdityLevel === level.id\n                                  ? 'border-purple-500 bg-purple-50 dark:border-purple-500 dark:bg-purple-900/20'\n                                  : 'border-gray-200 hover:border-purple-300 dark:border-cinema-border dark:hover:border-purple-500/50 bg-white dark:bg-cinema-panel'\n                              }`}\n                            >\n                              <div className=\"flex items-center space-x-3\">\n                                <span className=\"text-xl\">{level.icon}</span>\n                                <div>\n                                  <div className=\"font-medium text-sm text-gray-900 dark:text-cinema-text\">\n                                    {level.name}\n                                  </div>\n                                  <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                                    {level.description}\n                                  </div>\n                                </div>\n                              </div>\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* Chaos Injection Toggle */}\n                      <div>\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <label className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                            🎲 Chaos Injection\n                          </label>\n                          <button\n                            onClick={handleRandomnessToggle}\n                            className={`relative w-12 h-6 rounded-full transition-colors ${\n                              randomnessEnabled ? 'bg-purple-500' : 'bg-gray-300 dark:bg-cinema-border'\n                            }`}\n                          >\n                            <div className={`absolute w-5 h-5 bg-white rounded-full shadow-md transition-transform top-0.5 ${\n                              randomnessEnabled ? 'translate-x-6' : 'translate-x-0.5'\n                            }`} />\n                          </button>\n                        </div>\n                        <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted\">\n                          Add random objects and actions for maximum unpredictability\n                        </p>\n                      </div>\n\n                      {/* Content Preview */}\n                      <div className=\"bg-gray-900 dark:bg-cinema-black rounded-lg p-4 border border-gray-700 dark:border-cinema-border\">\n                        <h4 className=\"text-sm font-medium text-gray-300 mb-3\">Generated Content:</h4>\n                        <pre className=\"text-green-400 dark:text-cinema-teal text-xs font-mono whitespace-pre-wrap overflow-x-auto max-h-32 overflow-y-auto\">\n                          {JSON.stringify(experimentalPreview.content, null, 2)}\n                        </pre>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Sticky Apply Button */}\n                  <div className=\"p-6 border-t border-gray-200 dark:border-cinema-border bg-gray-50 dark:bg-cinema-card transition-colors duration-300\">\n                    <button\n                      onClick={handleApply}\n                      className=\"w-full px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-medium rounded-md transition-all duration-300 shadow-lg hover:shadow-xl\"\n                    >\n                      🚀 Apply Experimental Content\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>,\n        document.body\n      )}\n    </>\n  );\n};\n\nexport default TemplateSelector;","import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst ThemeContext = createContext();\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\nexport const ThemeProvider = ({ children }) => {\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    // Check localStorage first\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme) {\n      return savedTheme === 'dark';\n    }\n    \n    // Default to cinema mode (dark theme) for new users\n    return true;\n  });\n\n  useEffect(() => {\n    // Apply theme to document\n    const root = document.documentElement;\n    if (isDarkMode) {\n      root.classList.add('dark');\n    } else {\n      root.classList.remove('dark');\n    }\n    \n    // Save to localStorage\n    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\n  }, [isDarkMode]);\n\n  useEffect(() => {\n    // Listen for system theme changes\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = (e) => {\n      // Only auto-switch if user hasn't manually set a preference\n      const savedTheme = localStorage.getItem('theme');\n      if (!savedTheme) {\n        setIsDarkMode(e.matches);\n      }\n    };\n    \n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  const toggleTheme = () => {\n    setIsDarkMode(prev => !prev);\n  };\n\n  const value = {\n    isDarkMode,\n    toggleTheme,\n    setTheme: (theme) => setIsDarkMode(theme === 'dark')\n  };\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport default ThemeProvider;","import React from 'react';\nimport { useTheme } from './ThemeContext';\n\nconst CinematicModeToggle = ({ className = \"\" }) => {\n  const { isDarkMode, toggleTheme } = useTheme();\n\n  return (\n    <button\n      onClick={toggleTheme}\n      className={`\n        relative inline-flex items-center px-3 py-2 rounded-md font-medium text-sm transition-all duration-300 group\n        ${isDarkMode \n          ? 'bg-cinema-panel text-cinema-text border border-cinema-border hover:bg-cinema-card hover:shadow-glow-teal' \n          : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300'\n        }\n        ${className}\n      `}\n      aria-label={`Switch to ${isDarkMode ? 'light' : 'cinematic'} mode`}\n      title={`${isDarkMode ? 'Light' : 'Cinematic'} Mode`}\n    >\n      {/* Icon container with smooth transition */}\n      <div className=\"relative w-5 h-5 mr-2\">\n        {/* Moon Icon for Dark/Cinematic Mode */}\n        <div className={`\n          absolute inset-0 transition-all duration-300 transform\n          ${isDarkMode ? 'opacity-100 scale-100 rotate-0' : 'opacity-0 scale-90 rotate-180'}\n        `}>\n          🌙\n        </div>\n        \n        {/* Sun Icon for Light Mode */}\n        <div className={`\n          absolute inset-0 transition-all duration-300 transform\n          ${!isDarkMode ? 'opacity-100 scale-100 rotate-0' : 'opacity-0 scale-90 -rotate-180'}\n        `}>\n          ☀️\n        </div>\n      </div>\n      \n      <span className=\"relative z-10\">\n        {isDarkMode ? 'Cinematic' : 'Light'}\n      </span>\n      \n      {/* Subtle glow effect when dark mode is active */}\n      {isDarkMode && (\n        <div className=\"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-md pointer-events-none\" />\n      )}\n    </button>\n  );\n};\n\nexport default CinematicModeToggle;","import React, { useState, useEffect } from 'react';\r\n\r\nconst Logo = ({ \r\n  width, \r\n  height, \r\n  className = \"\",\r\n  showBackground = false,\r\n  size = \"medium\",\r\n  theme = \"auto\", // auto, light, dark\r\n  submark = false // if true, shows only the iconic braces symbol\r\n}) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [animationPhase, setAnimationPhase] = useState('idle'); // idle, typing, braces, completed\r\n  const [visibleLetters, setVisibleLetters] = useState(4); // Start with all letters for static state\r\n  const [showCursor, setShowCursor] = useState(false);\r\n  const [leftBraceVisible, setLeftBraceVisible] = useState(true);\r\n  const [rightBraceVisible, setRightBraceVisible] = useState(true);\r\n  \r\n  // Size variants with optimized dimensions\r\n  const sizeConfig = {\r\n    small: { \r\n      width: 180, \r\n      height: 80, \r\n      mainFontSize: 28, \r\n      subFontSize: 10, \r\n      spacing: { main: 35, sub: 50, bracket: 62 },\r\n      letterSpacing: { main: '0.02em', sub: '0.1em' }\r\n    },\r\n    medium: { \r\n      width: 280, \r\n      height: 100, \r\n      mainFontSize: 36, \r\n      subFontSize: 12, \r\n      spacing: { main: 55, sub: 75, bracket: 90 },\r\n      letterSpacing: { main: '0.03em', sub: '0.12em' }\r\n    },\r\n    large: { \r\n      width: 400, \r\n      height: 140, \r\n      mainFontSize: 42, \r\n      subFontSize: 14, \r\n      spacing: { main: 70, sub: 95, bracket: 110 },\r\n      letterSpacing: { main: '0.05em', sub: '0.15em' }\r\n    }\r\n  };\r\n\r\n  // Submark configuration for icon-only version\r\n  const submarkConfig = {\r\n    small: { width: 32, height: 32, fontSize: 16 },\r\n    medium: { width: 48, height: 48, fontSize: 24 },\r\n    large: { width: 64, height: 64, fontSize: 32 }\r\n  };\r\n\r\n  const config = sizeConfig[size] || sizeConfig.medium;\r\n  const subConfig = submarkConfig[size] || submarkConfig.medium;\r\n  const logoWidth = width || (submark ? subConfig.width : config.width);\r\n  const logoHeight = height || (submark ? subConfig.height : config.height);\r\n  \r\n  // Determine if we're in dark mode\r\n  const isDarkMode = theme === \"auto\" ? \r\n    (typeof window !== 'undefined' && document.documentElement.classList.contains('dark')) :\r\n    theme === \"dark\";\r\n  \r\n  // Clean neon teal/electric blue colors\r\n  const neonTeal = \"#06b6d4\"; // Clean neon teal\r\n  const electricBlue = \"#3b82f6\"; // Electric blue\r\n  const neonColor = isHovered ? \"#00d4ff\" : neonTeal; // Brighter neon on hover\r\n  const glowIntensity = isHovered ? (size === 'small' ? 4 : 8) : (size === 'small' ? 1 : 2); // Much brighter glow\r\n  \r\n  // Clean neon gradients\r\n  const textGradient = isDarkMode ? `\r\n    <linearGradient id=\"text-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#ffffff;stop-opacity:1\" />\r\n      <stop offset=\"50%\" style=\"stop-color:#e0f7fa;stop-opacity:1\" />\r\n      <stop offset=\"80%\" style=\"stop-color:${neonTeal};stop-opacity:0.95\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${electricBlue};stop-opacity:0.9\" />\r\n    </linearGradient>\r\n  ` : `\r\n    <linearGradient id=\"text-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#1f2937;stop-opacity:1\" />\r\n      <stop offset=\"50%\" style=\"stop-color:#374151;stop-opacity:1\" />\r\n      <stop offset=\"80%\" style=\"stop-color:${neonTeal};stop-opacity:1\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${electricBlue};stop-opacity:1\" />\r\n    </linearGradient>\r\n  `;\r\n\r\n  const subtitleGradient = isDarkMode ? `\r\n    <linearGradient id=\"subtitle-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#f0f9ff;stop-opacity:0.9\" />\r\n      <stop offset=\"70%\" style=\"stop-color:#bae6fd;stop-opacity:0.85\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${neonTeal};stop-opacity:0.8\" />\r\n    </linearGradient>\r\n  ` : `\r\n    <linearGradient id=\"subtitle-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#374151;stop-opacity:0.9\" />\r\n      <stop offset=\"70%\" style=\"stop-color:#6b7280;stop-opacity:0.85\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${electricBlue};stop-opacity:0.8\" />\r\n    </linearGradient>\r\n  `;\r\n\r\n  const subtleGlowFilter = `\r\n    <filter id=\"subtle-glow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"${glowIntensity}\" flood-color=\"${neonColor}\" flood-opacity=\"${isHovered ? '0.9' : '0.6'}\"/>\r\n      ${isHovered ? `<feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"${glowIntensity * 2}\" flood-color=\"${neonColor}\" flood-opacity=\"0.4\"/>` : ''}\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"${glowIntensity * 0.5}\" flood-color=\"${electricBlue}\" flood-opacity=\"${isHovered ? '0.3' : '0.2'}\"/>\r\n    </filter>\r\n  `;\r\n\r\n  const braceDepthFilter = `\r\n    <filter id=\"brace-depth\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n      <feDropShadow dx=\"1\" dy=\"1\" stdDeviation=\"1\" flood-color=\"${isDarkMode ? '#000000' : '#ffffff'}\" flood-opacity=\"0.3\"/>\r\n      <feDropShadow dx=\"-0.5\" dy=\"-0.5\" stdDeviation=\"0.5\" flood-color=\"${isDarkMode ? '#ffffff' : '#000000'}\" flood-opacity=\"0.2\"/>\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"${isHovered ? '3' : '1.5'}\" flood-color=\"${neonColor}\" flood-opacity=\"${isHovered ? '0.6' : '0.3'}\"/>\r\n    </filter>\r\n  `;\r\n\r\n  const braceGradient = isDarkMode ? `\r\n    <linearGradient id=\"brace-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#e0f7fa;stop-opacity:0.9\" />\r\n      <stop offset=\"50%\" style=\"stop-color:${neonTeal};stop-opacity:0.85\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${electricBlue};stop-opacity:0.8\" />\r\n    </linearGradient>\r\n  ` : `\r\n    <linearGradient id=\"brace-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n      <stop offset=\"0%\" style=\"stop-color:#e0f7fa;stop-opacity:0.9\" />\r\n      <stop offset=\"50%\" style=\"stop-color:${neonTeal};stop-opacity:0.85\" />\r\n      <stop offset=\"100%\" style=\"stop-color:${electricBlue};stop-opacity:0.8\" />\r\n    </linearGradient>\r\n  `;\r\n\r\n  const completionGlowFilter = `\r\n    <filter id=\"completion-glow\" x=\"-60%\" y=\"-60%\" width=\"220%\" height=\"220%\">\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"6\" flood-color=\"${neonColor}\" flood-opacity=\"${animationPhase === 'completed' ? '1.0' : '0'}\"/>\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"12\" flood-color=\"${neonColor}\" flood-opacity=\"${animationPhase === 'completed' ? '0.7' : '0'}\"/>\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"20\" flood-color=\"${electricBlue}\" flood-opacity=\"${animationPhase === 'completed' ? '0.4' : '0'}\"/>\r\n      <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"30\" flood-color=\"${neonColor}\" flood-opacity=\"${animationPhase === 'completed' ? '0.2' : '0'}\"/>\r\n    </filter>\r\n  `;\r\n\r\n  // Animation logic\r\n  useEffect(() => {\r\n    let timeouts = [];\r\n    \r\n    const startAnimation = () => {\r\n      if (animationPhase !== 'idle') return;\r\n      \r\n      setAnimationPhase('typing');\r\n      setVisibleLetters(0);\r\n      setShowCursor(true);\r\n      setLeftBraceVisible(false);\r\n      setRightBraceVisible(false);\r\n      \r\n      // Type each letter with delay\r\n      'JSON'.split('').forEach((letter, index) => {\r\n        const timeout = setTimeout(() => {\r\n          setVisibleLetters(index + 1);\r\n        }, 150 * index);\r\n        timeouts.push(timeout);\r\n      });\r\n      \r\n      // Show left brace with bounce\r\n      const leftBraceTimeout = setTimeout(() => {\r\n        setAnimationPhase('braces');\r\n        setLeftBraceVisible(true);\r\n      }, 150 * 4 + 200);\r\n      timeouts.push(leftBraceTimeout);\r\n      \r\n      // Show right brace with bounce\r\n      const rightBraceTimeout = setTimeout(() => {\r\n        setRightBraceVisible(true);\r\n      }, 150 * 4 + 400);\r\n      timeouts.push(rightBraceTimeout);\r\n      \r\n      // Complete animation\r\n      const completeTimeout = setTimeout(() => {\r\n        setAnimationPhase('completed');\r\n        setShowCursor(false);\r\n      }, 150 * 4 + 800);\r\n      timeouts.push(completeTimeout);\r\n      \r\n      // Reset to idle after delay\r\n      const resetTimeout = setTimeout(() => {\r\n        setAnimationPhase('idle');\r\n      }, 150 * 4 + 3000);\r\n      timeouts.push(resetTimeout);\r\n    };\r\n\r\n    // Auto-trigger animation on mount\r\n    const mountTimeout = setTimeout(startAnimation, 500);\r\n    timeouts.push(mountTimeout);\r\n    \r\n    return () => {\r\n      timeouts.forEach(timeout => clearTimeout(timeout));\r\n    };\r\n  }, []); // Empty dependency to run only on mount\r\n\r\n  // Cursor blinking effect\r\n  useEffect(() => {\r\n    if (!showCursor) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      setShowCursor(prev => !prev);\r\n    }, 500);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [showCursor]);\r\n\r\n  // Click to replay animation\r\n  const handleClick = () => {\r\n    if (animationPhase === 'idle') {\r\n      setAnimationPhase('typing');\r\n      setVisibleLetters(0);\r\n      setShowCursor(true);\r\n      setLeftBraceVisible(false);\r\n      setRightBraceVisible(false);\r\n      \r\n      // Repeat the same animation sequence\r\n      let timeouts = [];\r\n      'JSON'.split('').forEach((letter, index) => {\r\n        const timeout = setTimeout(() => {\r\n          setVisibleLetters(index + 1);\r\n        }, 150 * index);\r\n        timeouts.push(timeout);\r\n      });\r\n      \r\n      setTimeout(() => {\r\n        setAnimationPhase('braces');\r\n        setLeftBraceVisible(true);\r\n      }, 150 * 4 + 200);\r\n      \r\n      setTimeout(() => {\r\n        setRightBraceVisible(true);\r\n      }, 150 * 4 + 400);\r\n      \r\n      setTimeout(() => {\r\n        setAnimationPhase('completed');\r\n        setShowCursor(false);\r\n      }, 150 * 4 + 800);\r\n      \r\n      setTimeout(() => {\r\n        setAnimationPhase('idle');\r\n      }, 150 * 4 + 3000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`inline-block cursor-pointer transition-all duration-300 ${className}`}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      onClick={handleClick}\r\n      style={{\r\n        transform: isHovered ? 'scale(1.05)' : 'scale(1.0)', // Bigger scale on hover\r\n        transition: 'transform 300ms ease-in-out'\r\n      }}\r\n    >\r\n      <svg \r\n        width={logoWidth} \r\n        height={logoHeight} \r\n        viewBox={`0 0 ${logoWidth} ${logoHeight}`} \r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"transition-all duration-300 ease-in-out\"\r\n      >\r\n      <defs dangerouslySetInnerHTML={{\r\n        __html: `\r\n          ${textGradient}\r\n          ${subtitleGradient}\r\n          ${subtleGlowFilter}\r\n          ${braceDepthFilter}\r\n          ${braceGradient}\r\n          ${completionGlowFilter}\r\n        `\r\n      }} />\r\n      \r\n      {/* Conditional rendering based on submark prop */}\r\n      {submark ? (\r\n        // Submark version - just the iconic braces\r\n        <g transform={`translate(${logoWidth / 2}, ${logoHeight / 2})`}>\r\n          {/* Compact geometric frame */}\r\n          <rect \r\n            x={-subConfig.fontSize * 0.5} \r\n            y={-subConfig.fontSize * 0.5} \r\n            width={subConfig.fontSize} \r\n            height={subConfig.fontSize} \r\n            rx={subConfig.fontSize * 0.1}\r\n            fill=\"none\" \r\n            stroke=\"url(#brace-gradient)\" \r\n            strokeWidth=\"1\" \r\n            opacity={isHovered ? 0.7 : 0.4}\r\n            filter=\"url(#brace-depth)\"\r\n            className=\"transition-all duration-300\"\r\n          />\r\n          \r\n          {/* Compact pixelated left brace */}\r\n          <g className=\"transition-all duration-300\">\r\n            <rect x={-subConfig.fontSize * 0.2} y={-subConfig.fontSize * 0.3} width=\"2\" height={subConfig.fontSize * 0.6} fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.2} y={-subConfig.fontSize * 0.3} width={subConfig.fontSize * 0.06} height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.22} y={-subConfig.fontSize * 0.28} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.25} y={-subConfig.fontSize * 0.02} width=\"2\" height=\"3\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.27} y={-subConfig.fontSize * 0.01} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.22} y={subConfig.fontSize * 0.26} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={-subConfig.fontSize * 0.2} y={subConfig.fontSize * 0.28} width={subConfig.fontSize * 0.06} height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n          </g>\r\n          \r\n          {/* Compact pixelated right brace */}\r\n          <g className=\"transition-all duration-300\">\r\n            <rect x={subConfig.fontSize * 0.18} y={-subConfig.fontSize * 0.3} width=\"2\" height={subConfig.fontSize * 0.6} fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.14} y={-subConfig.fontSize * 0.3} width={subConfig.fontSize * 0.06} height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.2} y={-subConfig.fontSize * 0.28} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.23} y={-subConfig.fontSize * 0.02} width=\"2\" height=\"3\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.25} y={-subConfig.fontSize * 0.01} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.2} y={subConfig.fontSize * 0.26} width=\"2\" height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n            <rect x={subConfig.fontSize * 0.14} y={subConfig.fontSize * 0.28} width={subConfig.fontSize * 0.06} height=\"2\" fill=\"url(#brace-gradient)\" filter=\"url(#brace-depth)\" />\r\n          </g>\r\n        </g>\r\n      ) : (\r\n        // Full logo version\r\n        <>\r\n      {/* Animated JSON text */}\r\n      <g>\r\n        <text \r\n          x={logoWidth / 2} \r\n          y={config.spacing.main} \r\n          fontFamily=\"'Montserrat', 'Inter', system-ui, -apple-system, sans-serif\" \r\n          fontSize={config.mainFontSize} \r\n          fontWeight=\"600\" \r\n          textAnchor=\"middle\" \r\n          fill=\"url(#text-gradient)\" \r\n          filter={animationPhase === 'completed' ? \"url(#completion-glow)\" : \"url(#subtle-glow)\"}\r\n          className=\"transition-all duration-500\"\r\n          style={{\r\n            letterSpacing: '0.05em'\r\n          }}\r\n        >\r\n          {'JSON'.substring(0, visibleLetters)}\r\n        </text>\r\n        \r\n        {/* Blinking cursor */}\r\n        {(animationPhase === 'typing' && showCursor) && (\r\n          <text \r\n            x={logoWidth / 2 + (visibleLetters * config.mainFontSize * 0.35) - (1.5 * config.mainFontSize * 0.35)} \r\n            y={config.spacing.main} \r\n            fontFamily=\"'Montserrat', 'Inter', system-ui, -apple-system, sans-serif\" \r\n            fontSize={config.mainFontSize} \r\n            fontWeight=\"600\" \r\n            textAnchor=\"middle\" \r\n            fill=\"url(#text-gradient)\" \r\n            filter=\"url(#subtle-glow)\"\r\n            className=\"animate-pulse\"\r\n          >\r\n            |\r\n          </text>\r\n        )}\r\n      </g>\r\n      \r\n      {/* PROMPT STUDIO text */}\r\n      <text \r\n        x={logoWidth / 2} \r\n        y={config.spacing.sub} \r\n        fontFamily=\"'Inter', 'Montserrat', system-ui, -apple-system, sans-serif\" \r\n        fontSize={config.subFontSize} \r\n        fontWeight=\"300\" \r\n        textAnchor=\"middle\" \r\n        fill=\"url(#subtitle-gradient)\" \r\n        filter=\"url(#subtle-glow)\"\r\n        className=\"transition-all duration-300\"\r\n        style={{\r\n          letterSpacing: '0.15em'\r\n        }}\r\n      >\r\n        PROMPT STUDIO\r\n      </text>\r\n      \r\n      {/* Enhanced braces with geometric frame */}\r\n      <g transform={`translate(${logoWidth / 2}, ${config.spacing.bracket})`}>\r\n        {/* Clean Left Bracket { */}\r\n        <g \r\n          className=\"transition-all duration-300\" \r\n          style={{ \r\n            opacity: leftBraceVisible ? (isHovered ? 0.95 : 0.8) : 0\r\n          }}\r\n        >\r\n          <path \r\n            d={`M ${-config.mainFontSize * 0.18} ${-config.mainFontSize * 0.28} \r\n                L ${-config.mainFontSize * 0.28} ${-config.mainFontSize * 0.28} \r\n                L ${-config.mainFontSize * 0.28} ${-config.mainFontSize * 0.05} \r\n                L ${-config.mainFontSize * 0.32} ${-config.mainFontSize * 0.05} \r\n                L ${-config.mainFontSize * 0.32} ${config.mainFontSize * 0.05} \r\n                L ${-config.mainFontSize * 0.28} ${config.mainFontSize * 0.05} \r\n                L ${-config.mainFontSize * 0.28} ${config.mainFontSize * 0.28} \r\n                L ${-config.mainFontSize * 0.18} ${config.mainFontSize * 0.28}`}\r\n            stroke=\"url(#brace-gradient)\" \r\n            strokeWidth=\"2\" \r\n            fill=\"none\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n            filter=\"url(#brace-depth)\"\r\n          />\r\n        </g>\r\n        \r\n        {/* Clean Right Bracket } */}\r\n        <g \r\n          className=\"transition-all duration-300\" \r\n          style={{ \r\n            opacity: rightBraceVisible ? (isHovered ? 0.95 : 0.8) : 0\r\n          }}\r\n        >\r\n          <path \r\n            d={`M ${config.mainFontSize * 0.18} ${-config.mainFontSize * 0.28} \r\n                L ${config.mainFontSize * 0.28} ${-config.mainFontSize * 0.28} \r\n                L ${config.mainFontSize * 0.28} ${-config.mainFontSize * 0.05} \r\n                L ${config.mainFontSize * 0.32} ${-config.mainFontSize * 0.05} \r\n                L ${config.mainFontSize * 0.32} ${config.mainFontSize * 0.05} \r\n                L ${config.mainFontSize * 0.28} ${config.mainFontSize * 0.05} \r\n                L ${config.mainFontSize * 0.28} ${config.mainFontSize * 0.28} \r\n                L ${config.mainFontSize * 0.18} ${config.mainFontSize * 0.28}`}\r\n            stroke=\"url(#brace-gradient)\" \r\n            strokeWidth=\"2\" \r\n            fill=\"none\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n            filter=\"url(#brace-depth)\"\r\n          />\r\n        </g>\r\n      </g>\r\n        </>\r\n      )}\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo; ","import React, { useState, useEffect } from 'react';\nimport Logo from './Logo';\n\nconst LoadingScreen = ({ onComplete }) => {\n  const [progress, setProgress] = useState(0);\n  const [loadingText, setLoadingText] = useState('Initializing JSON Prompt Studio...');\n  \n  useEffect(() => {\n    const messages = [\n      'Initializing JSON Prompt Studio...',\n      'Loading creative components...',\n      'Preparing dialogue systems...',\n      'Setting up sound design tools...',\n      'Configuring presets library...',\n      'Almost ready...'\n    ];\n    \n    let messageIndex = 0;\n    let progressValue = 0;\n    \n    const interval = setInterval(() => {\n      progressValue += 1;\n      setProgress(progressValue);\n      \n      // Update loading message based on progress\n      const newMessageIndex = Math.floor((progressValue / 100) * messages.length);\n      if (newMessageIndex !== messageIndex && newMessageIndex < messages.length) {\n        messageIndex = newMessageIndex;\n        setLoadingText(messages[messageIndex]);\n      }\n      \n      if (progressValue >= 100) {\n        clearInterval(interval);\n        setTimeout(() => {\n          onComplete();\n        }, 500);\n      }\n    }, 30); // Complete in about 3 seconds\n    \n    return () => clearInterval(interval);\n  }, [onComplete]);\n\n  return (\n    <div className=\"fixed inset-0 bg-white dark:bg-cinema-black flex items-center justify-center z-50 transition-all duration-300\">\n      <div className=\"text-center space-y-8 max-w-md w-full px-6\">\n        {/* Logo with special loading animation */}\n        <div className=\"flex justify-center\">\n          <div \n            className=\"animate-pulse\"\n            style={{\n              animation: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite'\n            }}\n          >\n            <Logo size=\"large\" />\n          </div>\n        </div>\n        \n        {/* Progress bar */}\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-200 dark:bg-cinema-border rounded-full h-2 overflow-hidden\">\n            <div \n              className=\"bg-gradient-to-r from-green-600 to-green-400 h-full rounded-full transition-all duration-300 ease-out relative\"\n              style={{ width: `${progress}%` }}\n            >\n              {/* Animated shine effect */}\n              <div \n                className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer\"\n                style={{\n                  animation: 'shimmer 1.5s ease-in-out infinite'\n                }}\n              />\n            </div>\n          </div>\n          \n          {/* Progress percentage */}\n          <div className=\"text-sm text-gray-600 dark:text-cinema-text-muted font-medium\">\n            {progress}%\n          </div>\n        </div>\n        \n        {/* Loading text */}\n        <div className=\"space-y-2\">\n          <div className=\"text-lg font-medium text-gray-900 dark:text-cinema-text\">\n            {loadingText}\n          </div>\n          \n          {/* Animated dots */}\n          <div className=\"flex justify-center space-x-1\">\n            <div \n              className=\"w-2 h-2 bg-green-600 rounded-full animate-bounce\"\n              style={{ animationDelay: '0ms' }}\n            />\n            <div \n              className=\"w-2 h-2 bg-green-600 rounded-full animate-bounce\"\n              style={{ animationDelay: '150ms' }}\n            />\n            <div \n              className=\"w-2 h-2 bg-green-600 rounded-full animate-bounce\"\n              style={{ animationDelay: '300ms' }}\n            />\n          </div>\n        </div>\n        \n        {/* Brand tagline */}\n        <div className=\"text-sm text-gray-500 dark:text-cinema-text-muted italic\">\n          Empowering creativity through intelligent prompts\n        </div>\n      </div>\n      \n      {/* CSS for custom animations */}\n      <style jsx>{`\n        @keyframes shimmer {\n          0% {\n            transform: translateX(-100%);\n          }\n          100% {\n            transform: translateX(200%);\n          }\n        }\n        \n        .animate-shimmer {\n          animation: shimmer 1.5s ease-in-out infinite;\n        }\n        \n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.8;\n            transform: scale(1.02);\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default LoadingScreen;","// Authentication Service\n// Handles user signup, login, email verification, and session management\n// In production, this would connect to a real backend API\n\nclass AuthService {\n  constructor() {\n    this.storageKey = 'json_prompt_auth';\n    this.sessionKey = 'json_prompt_session';\n    this.apiBase = '/api/auth'; // Backend API endpoints\n    \n    // Initialize auth state\n    this.initializeAuth();\n  }\n\n  // Initialize authentication state\n  initializeAuth() {\n    const existingAuth = localStorage.getItem(this.storageKey);\n    if (existingAuth) {\n      const auth = JSON.parse(existingAuth);\n      // Check if session is still valid\n      if (this.isSessionValid(auth)) {\n        return auth;\n      } else {\n        // Clear invalid session\n        this.clearAuth();\n      }\n    }\n    return null;\n  }\n\n  // Check if current session is valid (not expired)\n  isSessionValid(auth) {\n    if (!auth || !auth.token || !auth.expiresAt) return false;\n    return new Date(auth.expiresAt) > new Date();\n  }\n\n  // Get current authentication state\n  getCurrentAuth() {\n    const auth = localStorage.getItem(this.storageKey);\n    if (!auth) return null;\n    \n    const parsed = JSON.parse(auth);\n    return this.isSessionValid(parsed) ? parsed : null;\n  }\n\n  // Check if user is authenticated\n  isAuthenticated() {\n    return this.getCurrentAuth() !== null;\n  }\n\n  // Get current user info\n  getCurrentUser() {\n    const auth = this.getCurrentAuth();\n    return auth ? auth.user : null;\n  }\n\n  // Save authentication data\n  saveAuth(authData) {\n    localStorage.setItem(this.storageKey, JSON.stringify({\n      ...authData,\n      savedAt: new Date().toISOString()\n    }));\n    \n    // Dispatch event to notify components\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('authStateChanged', {\n        detail: authData\n      }));\n    }\n  }\n\n  // Clear authentication data\n  clearAuth() {\n    localStorage.removeItem(this.storageKey);\n    localStorage.removeItem(this.sessionKey);\n    \n    // Dispatch event to notify components\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('authStateChanged', {\n        detail: null\n      }));\n    }\n  }\n\n  // Email signup\n  async signup(email, password = null) {\n    try {\n      // In development, simulate API call\n      if (import.meta?.env?.DEV) {\n        return this.mockSignup(email);\n      }\n\n      // Real API call for production\n      const response = await fetch(`${this.apiBase}/signup`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Signup failed: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Signup error:', error);\n      throw error;\n    }\n  }\n\n  // Mock signup for development\n  mockSignup(email) {\n    // Simulate API delay\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const userData = {\n          user: {\n            id: 'user_' + Math.random().toString(36).substr(2, 9),\n            email: email,\n            emailVerified: false,\n            tier: 'free',\n            monthlyUsage: 0,\n            anonymousUsage: 0,\n            createdAt: new Date().toISOString()\n          },\n          token: 'mock_token_' + Math.random().toString(36),\n          expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(), // 24 hours\n          needsVerification: true\n        };\n\n        // Save to localStorage for development\n        this.saveAuth(userData);\n        resolve(userData);\n      }, 500);\n    });\n  }\n\n  // Email verification\n  async verifyEmail(token) {\n    try {\n      if (import.meta?.env?.DEV) {\n        return this.mockVerifyEmail(token);\n      }\n\n      const response = await fetch(`${this.apiBase}/verify-email`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ token })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Email verification failed: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      this.saveAuth(data);\n      return data;\n    } catch (error) {\n      console.error('Email verification error:', error);\n      throw error;\n    }\n  }\n\n  // Mock email verification for development\n  mockVerifyEmail(token) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const currentAuth = this.getCurrentAuth();\n        if (currentAuth) {\n          const updatedAuth = {\n            ...currentAuth,\n            user: {\n              ...currentAuth.user,\n              emailVerified: true\n            },\n            needsVerification: false\n          };\n          this.saveAuth(updatedAuth);\n          resolve(updatedAuth);\n        } else {\n          throw new Error('No current session to verify');\n        }\n      }, 300);\n    });\n  }\n\n  // Send verification email\n  async sendVerificationEmail(email) {\n    try {\n      if (import.meta?.env?.DEV) {\n        // In development, just log the \"email\"\n        console.log(`Mock verification email sent to: ${email}`);\n        console.log('Verification link: /verify?token=mock_token_123');\n        return { success: true, message: 'Verification email sent (check console)' };\n      }\n\n      const response = await fetch(`${this.apiBase}/send-verification`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to send verification email: ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Send verification email error:', error);\n      throw error;\n    }\n  }\n\n  // Login (if using passwords)\n  async login(email, password) {\n    try {\n      if (import.meta?.env?.DEV) {\n        return this.mockLogin(email);\n      }\n\n      const response = await fetch(`${this.apiBase}/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Login failed: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      this.saveAuth(data);\n      return data;\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  // Mock login for development\n  mockLogin(email) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        // Check if user exists in localStorage (simulate database lookup)\n        const existingAuth = this.getCurrentAuth();\n        if (existingAuth && existingAuth.user.email === email) {\n          resolve(existingAuth);\n        } else {\n          reject(new Error('User not found'));\n        }\n      }, 300);\n    });\n  }\n\n  // Logout\n  async logout() {\n    try {\n      if (!import.meta?.env?.DEV) {\n        // Call backend to invalidate token\n        await fetch(`${this.apiBase}/logout`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.getCurrentAuth()?.token}`\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      // Always clear local auth data\n      this.clearAuth();\n    }\n  }\n\n  // Get or generate browser fingerprint for abuse prevention\n  getBrowserFingerprint() {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    ctx.textBaseline = 'top';\n    ctx.font = '14px \"Arial\"';\n    ctx.fillText('Browser fingerprint', 2, 2);\n    \n    const fingerprint = {\n      screen: `${screen.width}x${screen.height}`,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      language: navigator.language,\n      platform: navigator.platform,\n      canvas: canvas.toDataURL().slice(-50), // Last 50 chars of canvas data\n      userAgent: navigator.userAgent.slice(0, 100) // First 100 chars\n    };\n\n    return btoa(JSON.stringify(fingerprint)).slice(0, 32);\n  }\n\n  // Track anonymous usage (before email signup)\n  trackAnonymousUsage() {\n    const fingerprint = this.getBrowserFingerprint();\n    const key = `anonymous_usage_${fingerprint}`;\n    const today = new Date().toDateString();\n    \n    const stored = localStorage.getItem(key);\n    const data = stored ? JSON.parse(stored) : { count: 0, date: today };\n    \n    // Reset count if it's a new day\n    if (data.date !== today) {\n      data.count = 0;\n      data.date = today;\n    }\n    \n    data.count += 1;\n    data.lastUsed = new Date().toISOString();\n    \n    localStorage.setItem(key, JSON.stringify(data));\n    return data.count;\n  }\n\n  // Check if anonymous user has exceeded their limit\n  canUseAnonymously() {\n    const fingerprint = this.getBrowserFingerprint();\n    const key = `anonymous_usage_${fingerprint}`;\n    const today = new Date().toDateString();\n    \n    const stored = localStorage.getItem(key);\n    if (!stored) return true;\n    \n    const data = JSON.parse(stored);\n    // Reset if it's a new day\n    if (data.date !== today) return true;\n    \n    return data.count < 3; // 3 anonymous generations allowed\n  }\n\n  // Get anonymous usage count\n  getAnonymousUsage() {\n    const fingerprint = this.getBrowserFingerprint();\n    const key = `anonymous_usage_${fingerprint}`;\n    const stored = localStorage.getItem(key);\n    \n    if (!stored) return 0;\n    \n    const data = JSON.parse(stored);\n    const today = new Date().toDateString();\n    \n    return data.date === today ? data.count : 0;\n  }\n}\n\n// Export singleton instance\nexport const authService = new AuthService();\nexport default authService;","// React hook for authentication state management\nimport { useState, useEffect } from 'react';\nimport { authService } from './authService';\n\nexport const useAuth = () => {\n  const [auth, setAuth] = useState(() => authService.getCurrentAuth());\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Listen for auth state changes\n  useEffect(() => {\n    const handleAuthChange = (event) => {\n      setAuth(event.detail);\n      setError(null);\n    };\n\n    window.addEventListener('authStateChanged', handleAuthChange);\n    \n    // Cleanup\n    return () => {\n      window.removeEventListener('authStateChanged', handleAuthChange);\n    };\n  }, []);\n\n  // Signup function\n  const signup = async (email, password = null) => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const result = await authService.signup(email, password);\n      setAuth(result);\n      return result;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Login function\n  const login = async (email, password) => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const result = await authService.login(email, password);\n      setAuth(result);\n      return result;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Email verification\n  const verifyEmail = async (token) => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const result = await authService.verifyEmail(token);\n      setAuth(result);\n      return result;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Send verification email\n  const sendVerificationEmail = async (email) => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const result = await authService.sendVerificationEmail(email);\n      return result;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    setIsLoading(true);\n    \n    try {\n      await authService.logout();\n      setAuth(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Track anonymous usage\n  const trackAnonymousUsage = () => {\n    return authService.trackAnonymousUsage();\n  };\n\n  // Check if can use anonymously\n  const canUseAnonymously = () => {\n    return authService.canUseAnonymously();\n  };\n\n  // Get anonymous usage count\n  const getAnonymousUsage = () => {\n    return authService.getAnonymousUsage();\n  };\n\n  // Clear error\n  const clearError = () => {\n    setError(null);\n  };\n\n  // Computed properties\n  const isAuthenticated = auth !== null;\n  const user = auth?.user || null;\n  const needsVerification = auth?.needsVerification || false;\n  const isEmailVerified = user?.emailVerified || false;\n\n  return {\n    // State\n    auth,\n    user,\n    isAuthenticated,\n    isEmailVerified,\n    needsVerification,\n    isLoading,\n    error,\n    \n    // Actions\n    signup,\n    login,\n    logout,\n    verifyEmail,\n    sendVerificationEmail,\n    trackAnonymousUsage,\n    canUseAnonymously,\n    getAnonymousUsage,\n    clearError\n  };\n};","// User Management Service with Authentication Integration\n// Integrates with authService for authentication and tiered usage limits\n// In production, this would connect to a real database\n\nimport { authService } from './authService';\n\nclass UserService {\n  constructor() {\n    // Usage limits per tier\n    this.USAGE_LIMITS = {\n      anonymous: 3,  // 3 generations before email required\n      free: 10,      // 10 generations per month after email verification\n      pro: 500,      // 500 generations per month\n      team: 1000     // 1000 generations per month (shared among team)\n    };\n\n    // Tier configurations\n    this.TIER_CONFIGS = {\n      free: {\n        name: 'Free',\n        price: 0,\n        features: ['Email support', 'Basic templates', 'JSON export'],\n        limitations: ['10 AI generations/month', 'No API key included']\n      },\n      pro: {\n        name: 'Pro', \n        price: 15,\n        features: ['500 AI generations/month', 'API key included', 'Priority support', 'All AI features', 'Advanced templates'],\n        limitations: []\n      },\n      team: {\n        name: 'Team',\n        price: 30,\n        features: ['1000 AI generations/month', 'Team workspace', 'User management', 'Shared templates', 'Admin controls'],\n        limitations: []\n      }\n    };\n  }\n\n  // Get current user (integrates with auth service)\n  getCurrentUser() {\n    const auth = authService.getCurrentAuth();\n    \n    if (auth && auth.user) {\n      // User is authenticated - return auth user data\n      const user = {\n        ...auth.user,\n        isPro: auth.user.tier === 'pro' || auth.user.tier === 'team',\n        isTeam: auth.user.tier === 'team',\n        tier: auth.user.tier,\n        monthlyUsage: auth.user.monthlyUsage || 0,\n        billing_cycle_end: auth.user.billingCycleEnd,\n        subscription: auth.user.subscription\n      };\n      \n      // Check if we need to reset usage for new billing cycle\n      return this.checkAndResetUsage(user);\n    }\n    \n    // User not authenticated - return anonymous user\n    return {\n      id: 'anonymous',\n      email: null,\n      emailVerified: false,\n      tier: 'anonymous',\n      isPro: false,\n      isTeam: false,\n      monthlyUsage: authService.getAnonymousUsage(),\n      anonymousUsage: authService.getAnonymousUsage(),\n      created_at: null,\n      billing_cycle_end: null,\n      subscription: null\n    };\n  }\n\n  // Get user tier information\n  getUserTier() {\n    const user = this.getCurrentUser();\n    return {\n      tier: user.tier || 'anonymous',\n      config: this.TIER_CONFIGS[user.tier] || this.TIER_CONFIGS.free,\n      usage: user.monthlyUsage || user.anonymousUsage || 0,\n      limit: this.USAGE_LIMITS[user.tier] || this.USAGE_LIMITS.anonymous,\n      remaining: Math.max(0, (this.USAGE_LIMITS[user.tier] || this.USAGE_LIMITS.anonymous) - (user.monthlyUsage || user.anonymousUsage || 0))\n    };\n  }\n\n  // Check if user can use AI features\n  canUseAIFeatures() {\n    // Dev override - check for dev override flag in localStorage\n    if (typeof window !== 'undefined' && \n        localStorage.getItem('DEV_PRO_OVERRIDE') === 'true') {\n      return true;\n    }\n    \n    const user = this.getCurrentUser();\n    const tierInfo = this.getUserTier();\n    \n    // Anonymous users can use up to 3 generations\n    if (user.tier === 'anonymous') {\n      return authService.canUseAnonymously();\n    }\n    \n    // Authenticated users need email verification\n    if (!user.emailVerified) {\n      return false;\n    }\n    \n    // Check if user has remaining usage in their tier\n    return tierInfo.remaining > 0;\n  }\n\n  // Get usage requirement (what user needs to do to use AI features)\n  getUsageRequirement() {\n    const user = this.getCurrentUser();\n    const tierInfo = this.getUserTier();\n    \n    if (user.tier === 'anonymous') {\n      if (authService.canUseAnonymously()) {\n        return { \n          type: 'available', \n          message: `${3 - authService.getAnonymousUsage()} anonymous generations remaining`,\n          remaining: 3 - authService.getAnonymousUsage()\n        };\n      } else {\n        return { \n          type: 'signup_required', \n          message: 'Sign up for 10 free AI generations per month' \n        };\n      }\n    }\n    \n    if (!user.emailVerified) {\n      return { \n        type: 'verification_required', \n        message: 'Please verify your email to use AI features' \n      };\n    }\n    \n    if (tierInfo.remaining > 0) {\n      return { \n        type: 'available', \n        message: `${tierInfo.remaining} generations remaining this month`,\n        remaining: tierInfo.remaining\n      };\n    } else {\n      return { \n        type: 'upgrade_required', \n        message: `You've used all ${tierInfo.limit} free generations this month. Upgrade for more!`,\n        upgradeTo: user.tier === 'free' ? 'pro' : 'team'\n      };\n    }\n  }\n\n  // Update user subscription status (called after successful Stripe payment)\n  upgradeToProSubscription(subscriptionData) {\n    const user = this.getCurrentUser();\n    const updatedUser = {\n      ...user,\n      isPro: true,\n      monthly_usage: 0, // Reset usage on upgrade\n      billing_cycle_end: subscriptionData.current_period_end || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n      subscription: {\n        id: subscriptionData.id || 'sub_' + Math.random().toString(36).substr(2, 9),\n        status: 'active',\n        plan: 'pro',\n        billingCycle: subscriptionData.billingCycle || 'monthly',\n        price: 15,\n        current_period_start: new Date().toISOString(),\n        current_period_end: subscriptionData.current_period_end || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\n      },\n      last_usage_reset: new Date().toISOString()\n    };\n    \n    this.saveUser(updatedUser);\n    return updatedUser;\n  }\n\n  // Downgrade user (called when subscription cancelled)\n  cancelSubscription() {\n    const user = this.getCurrentUser();\n    const updatedUser = {\n      ...user,\n      isPro: false,\n      subscription: user.subscription ? {\n        ...user.subscription,\n        status: 'cancelled',\n        cancelled_at: new Date().toISOString()\n      } : null\n    };\n    \n    this.saveUser(updatedUser);\n    return updatedUser;\n  }\n\n  // Track AI feature usage (works for all tiers)\n  trackAIFeatureUsage(featureName) {\n    const user = this.getCurrentUser();\n    \n    // Check if user can use AI features\n    if (!this.canUseAIFeatures()) {\n      const requirement = this.getUsageRequirement();\n      throw new Error(requirement.message);\n    }\n    \n    // Track usage based on user type\n    if (user.tier === 'anonymous') {\n      // Track anonymous usage\n      const newCount = authService.trackAnonymousUsage();\n      return {\n        ...user,\n        anonymousUsage: newCount,\n        last_feature_used: featureName,\n        last_feature_used_at: new Date().toISOString()\n      };\n    } else {\n      // Track authenticated user usage (would be server-side in production)\n      const auth = authService.getCurrentAuth();\n      if (auth && auth.user) {\n        const updatedUser = {\n          ...auth.user,\n          monthlyUsage: (auth.user.monthlyUsage || 0) + 1,\n          last_feature_used: featureName,\n          last_feature_used_at: new Date().toISOString()\n        };\n        \n        // Update auth service (in production, this would be an API call)\n        authService.saveAuth({\n          ...auth,\n          user: updatedUser\n        });\n        \n        return updatedUser;\n      }\n    }\n    \n    throw new Error('Unable to track usage');\n  }\n\n  // Legacy method for backward compatibility\n  trackProFeatureUsage(featureName) {\n    return this.trackAIFeatureUsage(featureName);\n  }\n\n  // Check if usage should be reset (new billing cycle)\n  checkAndResetUsage(user) {\n    if (!user.billing_cycle_end) return user;\n\n    const now = new Date();\n    const cycleEnd = new Date(user.billing_cycle_end);\n    \n    // If we've passed the billing cycle end, reset usage\n    if (now > cycleEnd) {\n      const nextCycleEnd = new Date(cycleEnd);\n      nextCycleEnd.setMonth(nextCycleEnd.getMonth() + 1); // Add 1 month\n      \n      const updatedUser = {\n        ...user,\n        monthly_usage: 0,\n        billing_cycle_end: nextCycleEnd.toISOString(),\n        last_usage_reset: now.toISOString()\n      };\n      \n      this.saveUser(updatedUser);\n      return updatedUser;\n    }\n    \n    return user;\n  }\n\n  // Get usage statistics (enhanced for new tier system)\n  getUsageStats() {\n    const user = this.getCurrentUser();\n    const tierInfo = this.getUserTier();\n    const now = new Date();\n    const cycleEnd = user.billing_cycle_end ? new Date(user.billing_cycle_end) : null;\n    \n    let daysRemaining = 0;\n    if (cycleEnd) {\n      daysRemaining = Math.max(0, Math.ceil((cycleEnd - now) / (1000 * 60 * 60 * 24)));\n    } else if (user.tier === 'free' && user.emailVerified) {\n      // For free users, assume monthly cycle from signup/last reset\n      const lastReset = user.last_usage_reset ? new Date(user.last_usage_reset) : new Date(user.created_at);\n      const nextReset = new Date(lastReset);\n      nextReset.setMonth(nextReset.getMonth() + 1);\n      daysRemaining = Math.max(0, Math.ceil((nextReset - now) / (1000 * 60 * 60 * 24)));\n    }\n\n    return {\n      tier: tierInfo.tier,\n      monthly_usage: tierInfo.usage,\n      usage_limit: tierInfo.limit,\n      usage_remaining: tierInfo.remaining,\n      days_remaining: daysRemaining,\n      cycle_end: user.billing_cycle_end,\n      isPro: user.isPro,\n      isTeam: user.isTeam,\n      last_reset: user.last_usage_reset,\n      usage_percentage: tierInfo.limit > 0 ? Math.round((tierInfo.usage / tierInfo.limit) * 100) : 0,\n      can_use_ai: this.canUseAIFeatures(),\n      requirement: this.getUsageRequirement()\n    };\n  }\n\n  // Simulate webhook handling (called when Stripe sends events)\n  handleWebhookEvent(eventType, data) {\n    const user = this.getCurrentUser();\n    \n    switch (eventType) {\n      case 'invoice.payment_succeeded':\n        // Subscription renewed successfully\n        return this.upgradeToProSubscription({\n          id: data.subscription_id,\n          current_period_end: data.current_period_end,\n          billingCycle: 'monthly'\n        });\n        \n      case 'invoice.payment_failed':\n        // Payment failed - could implement grace period\n        console.warn('Payment failed for user:', user.id);\n        return user;\n        \n      case 'customer.subscription.deleted':\n        // Subscription cancelled\n        return this.cancelSubscription();\n        \n      default:\n        console.log('Unhandled webhook event:', eventType);\n        return user;\n    }\n  }\n\n  // Check if user can use Pro features (legacy compatibility)\n  canUseProFeatures() {\n    const user = this.getCurrentUser();\n    return user.isPro && (user.subscription?.status === 'active' || user.tier === 'pro' || user.tier === 'team');\n  }\n\n  // New method to check tier-specific access\n  hasFeatureAccess(feature) {\n    const user = this.getCurrentUser();\n    \n    // Define feature access by tier\n    const featureAccess = {\n      'basic-templates': ['anonymous', 'free', 'pro', 'team'],\n      'ai-generation': ['anonymous', 'free', 'pro', 'team'], // But with usage limits\n      'api-key': ['pro', 'team'],\n      'priority-support': ['pro', 'team'],\n      'team-workspace': ['team'],\n      'user-management': ['team'],\n      'advanced-templates': ['pro', 'team']\n    };\n    \n    const allowedTiers = featureAccess[feature] || [];\n    return allowedTiers.includes(user.tier);\n  }\n\n  // For development: toggle Pro status\n  toggleProStatus() {\n    const user = this.getCurrentUser();\n    console.log('🔧 DEV: userService.toggleProStatus - Current user:', user);\n    console.log('🔧 DEV: userService.toggleProStatus - Current isPro:', user.isPro);\n    \n    if (user.isPro) {\n      console.log('🔧 DEV: User is Pro, switching to Free');\n      return this.cancelSubscription();\n    } else {\n      console.log('🔧 DEV: User is Free, switching to Pro');\n      return this.upgradeToProSubscription({\n        billingCycle: 'monthly'\n      });\n    }\n  }\n\n  // Reset all data (for testing)\n  resetUser() {\n    localStorage.removeItem(this.storageKey);\n    return this.initializeUser();\n  }\n\n  // Force Pro status for development\n  forceProStatus() {\n    const user = this.getCurrentUser();\n    console.log('🔧 DEV: userService.forceProStatus - Current user:', user);\n    console.log('🔧 DEV: userService.forceProStatus - Current isPro:', user.isPro);\n    \n    if (!user.isPro) {\n      console.log('🔧 DEV: User is not Pro, forcing upgrade');\n      return this.upgradeToProSubscription({\n        billingCycle: 'monthly',\n        dev_override: true\n      });\n    }\n    console.log('🔧 DEV: User already Pro, returning existing user');\n    return user;\n  }\n}\n\n// Export singleton instance\nexport const userService = new UserService();\nexport default userService;","import React, { useState } from 'react';\nimport { userService } from './userService';\n\nconst StripeIntegration = ({ \n  plan = 'pro', \n  billingCycle = 'monthly', \n  trialDays = 0,\n  billingCycleAnchor = null,\n  customerEmail = null,\n  onSuccess, \n  onError,\n  className = \"\" \n}) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Mock Stripe configuration - replace with actual Stripe keys\n  const STRIPE_CONFIG = {\n    publishableKey: import.meta?.env?.VITE_STRIPE_PUBLISHABLE_KEY || 'pk_test_...',\n    priceIds: {\n      pro_monthly: import.meta?.env?.VITE_STRIPE_PRICE_PRO_MONTHLY || 'price_1234567890',\n      pro_yearly: import.meta?.env?.VITE_STRIPE_PRICE_PRO_YEARLY || 'price_0987654321',\n      team_monthly: import.meta?.env?.VITE_STRIPE_PRICE_TEAM_MONTHLY || 'price_team_monthly',\n      team_yearly: import.meta?.env?.VITE_STRIPE_PRICE_TEAM_YEARLY || 'price_team_yearly'\n    }\n  };\n\n  const prices = {\n    pro_monthly: 15,\n    pro_yearly: 150,  // 10 months for the price of 12 if yearly is offered\n    team_monthly: 30,\n    team_yearly: 300\n  };\n\n  const currentPriceId = STRIPE_CONFIG.priceIds[`${plan}_${billingCycle}`];\n  const currentPrice = prices[`${plan}_${billingCycle}`];\n\n  const handleCheckout = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // Use the plan directly (only 'pro' plan available)\n      const lookupKey = `${plan}_${billingCycle}`; // e.g., \"pro_monthly\"\n      \n      const response = await fetch('/api/create-checkout-session', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          lookup_key: lookupKey,\n          trial_days: trialDays,\n          billing_cycle_anchor: billingCycleAnchor,\n          customer_email: customerEmail\n        })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error?.message || 'Failed to create checkout session');\n      }\n\n      if (data.url) {\n        // Redirect to Stripe Checkout\n        window.location.href = data.url;\n      } else {\n        throw new Error('No checkout URL received');\n      }\n    } catch (err) {\n      setError(err.message || 'Payment failed. Please try again.');\n      onError && onError(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(price);\n  };\n\n  return (\n    <div className={`stripe-integration ${className}`}>\n      {error && (\n        <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <svg className=\"w-4 h-4 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n          </div>\n        </div>\n      )}\n\n      <button\n        onClick={handleCheckout}\n        disabled={isLoading}\n        className={`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${\n          isLoading\n            ? 'bg-gray-400 cursor-not-allowed text-white'\n            : 'bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg hover:shadow-xl'\n        }`}\n      >\n        {isLoading ? (\n          <>\n            <svg className=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            <span>Processing...</span>\n          </>\n        ) : (\n          <>\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" />\n            </svg>\n            <span>\n              Subscribe for {formatPrice(currentPrice)}\n              {billingCycle === 'yearly' ? '/year' : '/month'}\n            </span>\n          </>\n        )}\n      </button>\n\n      {/* Security & Trust Indicators */}\n      <div className=\"mt-4 flex items-center justify-center space-x-6 text-xs text-gray-500 dark:text-cinema-text-muted\">\n        <div className=\"flex items-center space-x-1\">\n          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n          </svg>\n          <span>SSL Secured</span>\n        </div>\n        <div className=\"flex items-center space-x-1\">\n          <span>💳</span>\n          <span>Stripe Protected</span>\n        </div>\n        <div className=\"flex items-center space-x-1\">\n          <span>🔄</span>\n          <span>Cancel Anytime</span>\n        </div>\n      </div>\n\n      {/* Payment Method Icons */}\n      <div className=\"mt-3 flex items-center justify-center space-x-2\">\n        <span className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">Accepted:</span>\n        <div className=\"flex space-x-1\">\n          <div className=\"w-8 h-5 bg-gradient-to-r from-blue-600 to-blue-800 rounded text-white text-xs flex items-center justify-center font-bold\">\n            V\n          </div>\n          <div className=\"w-8 h-5 bg-gradient-to-r from-red-600 to-red-800 rounded text-white text-xs flex items-center justify-center font-bold\">\n            M\n          </div>\n          <div className=\"w-8 h-5 bg-gradient-to-r from-blue-400 to-blue-600 rounded text-white text-xs flex items-center justify-center font-bold\">\n            A\n          </div>\n          <div className=\"w-8 h-5 bg-gradient-to-r from-orange-500 to-orange-700 rounded text-white text-xs flex items-center justify-center font-bold\">\n            D\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Hook for managing subscription state uses userService imported above\n\n// Hook for managing subscription state\nexport const useSubscription = () => {\n  const [user, setUser] = useState(() => userService.getCurrentUser());\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Refresh user data from userService\n  const refreshUser = () => {\n    const currentUser = userService.getCurrentUser();\n    setUser(currentUser);\n    return currentUser;\n  };\n\n  // Listen for localStorage changes to sync state across components\n  React.useEffect(() => {\n    const handleStorageChange = (e) => {\n      // Only respond to changes to our user storage key\n      if (e.key === userService.storageKey || e.key === null) {\n        refreshUser();\n      }\n    };\n\n    // Listen for localStorage changes (for cross-tab sync)\n    window.addEventListener('storage', handleStorageChange);\n\n    // Custom event for same-tab updates (since storage event doesn't fire in same tab)\n    const handleCustomUserUpdate = () => {\n      refreshUser();\n    };\n\n    window.addEventListener('userDataUpdated', handleCustomUserUpdate);\n\n    // Cleanup listeners\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('userDataUpdated', handleCustomUserUpdate);\n    };\n  }, []);\n\n  const checkSubscriptionStatus = async () => {\n    setIsLoading(true);\n    try {\n      // In real implementation, this would call your backend to verify subscription\n      // GET /api/subscription/status\n      \n      // For development, use local user service\n      const currentUser = userService.getCurrentUser();\n      setUser(currentUser);\n      return currentUser.subscription;\n    } catch (error) {\n      console.error('Failed to check subscription:', error);\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const upgradeSubscription = (subscriptionData) => {\n    const updatedUser = userService.upgradeToProSubscription(subscriptionData);\n    setUser(updatedUser);\n    return updatedUser;\n  };\n\n  const cancelSubscription = async () => {\n    setIsLoading(true);\n    try {\n      // In real implementation, call backend to cancel subscription\n      // await fetch('/api/subscription/cancel', { method: 'POST' });\n      \n      const updatedUser = userService.cancelSubscription();\n      setUser(updatedUser);\n      return updatedUser;\n    } catch (error) {\n      console.error('Failed to cancel subscription:', error);\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Track Pro feature usage\n  const trackFeatureUsage = (featureName) => {\n    try {\n      const updatedUser = userService.trackProFeatureUsage(featureName);\n      setUser(updatedUser);\n      return true;\n    } catch (error) {\n      console.error('Failed to track feature usage:', error);\n      return false;\n    }\n  };\n\n  // Get usage statistics\n  const getUsageStats = () => {\n    return userService.getUsageStats();\n  };\n\n  // Development helper to toggle Pro status\n  const toggleProStatus = () => {\n    console.log('🔧 DEV: toggleProStatus clicked - Current isPro:', user?.isPro);\n    const updatedUser = userService.toggleProStatus();\n    console.log('🔧 DEV: toggleProStatus result - New isPro:', updatedUser?.isPro);\n    setUser(updatedUser);\n    return updatedUser;\n  };\n\n  // Development helper to force Pro status\n  const forceProStatus = () => {\n    console.log('🔧 DEV: forceProStatus called - Current isPro:', user?.isPro);\n    const updatedUser = userService.forceProStatus();\n    console.log('🔧 DEV: forceProStatus result - New isPro:', updatedUser?.isPro);\n    setUser(updatedUser);\n    return updatedUser;\n  };\n\n  // Development helper to reset user\n  const resetUser = () => {\n    const updatedUser = userService.resetUser();\n    setUser(updatedUser);\n    return updatedUser;\n  };\n\n  // All users now have pro access - no restrictions\n  const isPro = true;\n  const isYearly = user?.subscription?.billingCycle === 'yearly';\n  const subscription = user?.subscription || null;\n\n  return {\n    user,\n    subscription,\n    isPro,\n    isYearly,\n    isLoading,\n    checkSubscriptionStatus,\n    upgradeSubscription,\n    cancelSubscription,\n    trackFeatureUsage,\n    getUsageStats,\n    toggleProStatus, // Development only\n    forceProStatus, // Development only\n    resetUser, // Development only\n    refreshUser\n  };\n};\n\nexport default StripeIntegration;","import React, { useState, useRef, useEffect } from 'react';\nimport usePromptStore from './store';\n\nconst ViralVideoGeneratorModal = ({ onClose }) => {\n  const { clearAll, setFieldValue } = usePromptStore();\n  const modalRef = useRef(null);\n  \n  // State management\n  const [selectedFormat, setSelectedFormat] = useState('');\n  const [userInputs, setUserInputs] = useState({});\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [showGenerateSuccess, setShowGenerateSuccess] = useState(false);\n  const [liveUpdates, setLiveUpdates] = useState(true);\n  const [enhancingField, setEnhancingField] = useState(null);\n  const [useAIEnhancement, setUseAIEnhancement] = useState(false);\n\n  // Viral format definitions with dropdown options\n  const viralFormats = {\n    podcastInterview: {\n      name: 'Podcast Interview',\n      icon: '🎤',\n      description: 'Two people talking — viral when there\\'s tension, truth bombs, or bizarre behavior',\n      fields: [\n        {\n          key: 'hostType',\n          label: 'Host Type',\n          type: 'dropdown',\n          options: ['Calm expert', 'Outraged host', 'Comedian', 'Conspiracy theorist', 'Self-help guru']\n        },\n        {\n          key: 'guestType',\n          label: 'Guest Type',\n          type: 'dropdown',\n          options: ['Insider', 'Troublemaker', 'Shocking expert', 'Random person', 'Influencer']\n        },\n        {\n          key: 'topic',\n          label: 'Topic',\n          type: 'dropdown',\n          options: ['AI fears', 'Celebrity secrets', 'Life advice', 'Government coverups', 'Dating horror stories']\n        },\n        {\n          key: 'toneDynamic',\n          label: 'Tone/Dynamic',\n          type: 'dropdown',\n          options: ['Tense', 'Surprising', 'Emotional', 'Combative', 'Funny']\n        }\n      ]\n    },\n    streetInterview: {\n      name: 'Street Interview',\n      icon: '📢',\n      description: 'Host asks strangers questions with shocking, silly, or heartfelt answers',\n      fields: [\n        {\n          key: 'setting',\n          label: 'Setting',\n          type: 'dropdown',\n          options: ['Busy market', 'Rainy street', 'High school', 'Nightclub line', 'Rooftop party']\n        },\n        {\n          key: 'hostStyle',\n          label: 'Host Style',\n          type: 'dropdown',\n          options: ['Chill interviewer', 'Aggressive troll', 'Curious child', 'Witty comedian']\n        },\n        {\n          key: 'questionType',\n          label: 'Question Type',\n          type: 'dropdown',\n          options: ['Relationship', 'Deep/fake-philosophical', 'Political', 'Prank', 'Would You Rather']\n        },\n        {\n          key: 'responseStyle',\n          label: 'Response Style',\n          type: 'dropdown',\n          options: ['Serious', 'Hilarious', 'Unhinged', 'Tearful', 'Unexpected']\n        }\n      ]\n    },\n    asmrLoop: {\n      name: 'ASMR / Satisfying Loop',\n      icon: '🎧',\n      description: 'Hypnotic visuals/sounds, used for relaxation or to trigger sensory satisfaction',\n      fields: [\n        {\n          key: 'satisfyingElement',\n          label: 'Satisfying Element',\n          type: 'dropdown',\n          options: ['Pressure washing', 'Paint mixing', 'Soap carving', 'Crunchy food eating', 'Looping animation']\n        },\n        {\n          key: 'cameraType',\n          label: 'Camera Type',\n          type: 'dropdown',\n          options: ['Macro lens', 'Overhead', 'Ultra slow-mo', 'One-shot']\n        },\n        {\n          key: 'soundStyle',\n          label: 'Sound Style',\n          type: 'dropdown',\n          options: ['Natural', 'Amplified', 'Loop only', 'Whispered voiceover']\n        },\n        {\n          key: 'colorAesthetic',\n          label: 'Color Aesthetic',\n          type: 'dropdown',\n          options: ['Monochrome', 'Pastel dream', 'Neon pop', 'Earthy tones']\n        }\n      ]\n    },\n    creatureReacts: {\n      name: 'Creature Reacts to Human World',\n      icon: '👾',\n      description: 'A non-human character is bewildered or amazed by humans',\n      fields: [\n        {\n          key: 'creatureType',\n          label: 'Creature Type',\n          type: 'dropdown',\n          options: ['Alien', 'Talking cat', 'Caveman', 'Ghost', 'Robot', 'Custom']\n        },\n        {\n          key: 'humanThing',\n          label: 'Human Thing They\\'re Reacting To',\n          type: 'dropdown',\n          options: ['Escalators', 'Coffee shops', 'Dating apps', 'Grocery stores', 'TikTok dances']\n        },\n        {\n          key: 'tone',\n          label: 'Tone',\n          type: 'dropdown',\n          options: ['Curious', 'Horrified', 'Deeply moved', 'Angry rant']\n        },\n        {\n          key: 'narrationStyle',\n          label: 'Narration Style',\n          type: 'dropdown',\n          options: ['Internal monologue', 'Found footage', 'Mockumentary']\n        }\n      ]\n    },\n    danceLoop: {\n      name: 'Dance Loop Challenge',\n      icon: '💃',\n      description: 'Designed for TikTok/Reels — short, punchy dance or motion synced to audio',\n      fields: [\n        {\n          key: 'vibe',\n          label: 'Vibe',\n          type: 'dropdown',\n          options: ['Hype', 'Chill', 'Goofy', 'Cringe', 'Epic']\n        },\n        {\n          key: 'environment',\n          label: 'Environment',\n          type: 'dropdown',\n          options: ['School hallway', 'Parking garage', 'Neon club', 'Rainy street']\n        },\n        {\n          key: 'character',\n          label: 'Character',\n          type: 'dropdown',\n          options: ['Teen', 'Grandma', 'Dinosaur suit', 'Robot', 'Fashionista']\n        },\n        {\n          key: 'twist',\n          label: 'Twist/Surprise Element',\n          type: 'dropdown',\n          options: ['Crowd joins in', 'Fireworks go off', 'Phone gets stolen', 'Dramatic fail']\n        }\n      ]\n    },\n    oneSentenceDrama: {\n      name: 'One-Sentence Drama',\n      icon: '🎭',\n      description: 'Hyper-condensed story in one epic moment. Can be serious or over-the-top',\n      fields: [\n        {\n          key: 'setting',\n          label: 'Setting',\n          type: 'dropdown',\n          options: ['Wedding', 'Hospital', 'Family dinner', 'Graduation', 'Jail cell']\n        },\n        {\n          key: 'mainCharacter',\n          label: 'Main Character',\n          type: 'dropdown',\n          options: ['Bride', 'Estranged dad', 'Sibling', 'Student', 'Detective']\n        },\n        {\n          key: 'shockingSentence',\n          label: 'Shocking Sentence',\n          type: 'dropdown',\n          options: ['He\\'s not your real father.', 'I switched the test scores.', 'This is all a simulation.']\n        },\n        {\n          key: 'reaction',\n          label: 'Reaction',\n          type: 'dropdown',\n          options: ['Slap', 'Crying', 'Walks out', 'Laughter', 'Arrest']\n        }\n      ]\n    },\n    conspiracyBreakdown: {\n      name: 'Conspiracy Breakdown',\n      icon: '🧠',\n      description: 'One person explaining \"the truth\" — works well with animation, visuals, tension',\n      fields: [\n        {\n          key: 'narratorStyle',\n          label: 'Narrator Style',\n          type: 'dropdown',\n          options: ['Whispering theorist', 'Professor with diagrams', 'Over-edited TikToker']\n        },\n        {\n          key: 'conspiracyType',\n          label: 'Conspiracy Type',\n          type: 'dropdown',\n          options: ['Time travel cover-up', 'AI already controls us', 'Ancient aliens built smartphones']\n        },\n        {\n          key: 'visualStyle',\n          label: 'Visual Style',\n          type: 'dropdown',\n          options: ['Red-string board', 'Retro VHS', 'Educational parody']\n        },\n        {\n          key: 'tone',\n          label: 'Tone',\n          type: 'dropdown',\n          options: ['Serious', 'Satirical', 'Building tension', 'Deadpan']\n        }\n      ]\n    },\n    viralAd: {\n      name: 'Viral Ad Template',\n      icon: '📺',\n      description: 'Fake or exaggerated ad for a weird product or idea',\n      fields: [\n        {\n          key: 'productType',\n          label: 'Product Type',\n          type: 'dropdown',\n          options: ['Emotional support rock', 'Memory wipe spray', 'Dating app for introverts', 'Write your own']\n        },\n        {\n          key: 'adTone',\n          label: 'Ad Tone',\n          type: 'dropdown',\n          options: ['90s cheesy', 'Modern sleek', 'Parody PSA', 'Creepy minimalism']\n        },\n        {\n          key: 'narratorType',\n          label: 'Narrator Type',\n          type: 'dropdown',\n          options: ['Robotic voice', 'Screaming TikTok voiceover', 'Calm whisper', 'Annoying teen']\n        },\n        {\n          key: 'visualGimmick',\n          label: 'Visual Gimmick',\n          type: 'dropdown',\n          options: ['Infomercial popups', 'Glitchy VHS', 'Surreal transitions', 'Stock footage mashup']\n        }\n      ]\n    }\n  };\n\n  // Close modal on outside click\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [onClose]);\n\n  const handleFormatSelect = (formatId) => {\n    setSelectedFormat(formatId);\n    const format = viralFormats[formatId];\n    if (format) {\n      const initialInputs = {};\n      format.fields.forEach(field => {\n        initialInputs[field.key] = '';\n      });\n      setUserInputs(initialInputs);\n    }\n  };\n\n  const handleInputChange = (key, value) => {\n    setUserInputs(prev => ({\n      ...prev,\n      [key]: value\n    }));\n    \n    if (liveUpdates) {\n      // Update JSON live\n      setTimeout(() => generateComprehensiveJson(), 100);\n    }\n  };\n\n  const handleEnhance = async (fieldKey) => {\n    if (!userInputs[fieldKey]) return;\n    \n    setEnhancingField(fieldKey);\n    \n    try {\n      const currentValue = userInputs[fieldKey];\n      const enhancedValue = await enhanceValue(currentValue, fieldKey);\n      \n      setUserInputs(prev => ({\n        ...prev,\n        [fieldKey]: enhancedValue\n      }));\n      \n      if (liveUpdates) {\n        setTimeout(() => generateComprehensiveJson(), 100);\n      }\n    } catch (error) {\n      console.error('Enhancement failed:', error);\n      // Fallback to original value on error\n    } finally {\n      setEnhancingField(null);\n    }\n  };\n\n  const enhanceValue = async (value, fieldKey) => {\n    // Use AI service to enhance the value with viral improvements\n    try {\n      const aiService = (await import('./aiApiService')).default;\n      \n      const enhancementPrompt = `🔧 Prompt for Claude Code:\nYou are modifying a viral video scene element to make it more engaging, surprising, or emotionally resonant — without removing user intent. When a user clicks the \"Enhance\" button, enrich and modify the element by making clever, viral-style enhancements.\n\n✅ Rules:\n- Never just add the word \"enhanced\"  \n- Use natural, vivid language suitable for viral videos\n- Retain the core intent of the original value\n- Make it more specific, visual, or outrageous\n- Add viral twist, conflict, emotion, or humor where appropriate\n\nField type: ${fieldKey}\nCurrent value: \"${value}\"\n\nReturn only the enhanced value, nothing else.`;\n\n      const response = await aiService.makeRequest([\n        { role: 'user', content: enhancementPrompt }\n      ], {\n        temperature: 0.8,\n        max_tokens: 150\n      });\n\n      const enhancedValue = response.choices[0]?.message?.content?.trim();\n      return enhancedValue || getViralEnhancement(value, fieldKey);\n      \n    } catch (error) {\n      console.log('AI enhancement failed, using fallback:', error);\n      return getViralEnhancement(value, fieldKey);\n    }\n  };\n\n  const getViralEnhancement = (value, fieldKey) => {\n    // Fallback viral enhancements when AI is unavailable\n    const viralEnhancements = {\n      // Podcast Interview enhancements\n      hostType: {\n        'Calm expert': 'Eerily calm expert with hidden agenda and piercing stare',\n        'Outraged host': 'Explosively outraged host who interrupts constantly and throws papers',\n        'Comedian': 'Unhinged comedian who makes everything awkwardly personal',\n        'Conspiracy theorist': 'Wild-eyed conspiracy theorist with string charts behind them',\n        'Self-help guru': 'Overly intense self-help guru who gets too close to the camera'\n      },\n      guestType: {\n        'Insider': 'Paranoid insider who speaks in cryptic riddles and checks over shoulder',\n        'Troublemaker': 'Chaotic troublemaker who drops shocking truth bombs every 30 seconds',\n        'Shocking expert': 'Controversial expert who makes everyone uncomfortable with brutal honesty',\n        'Random person': 'Surprisingly wise random person who delivers profound one-liners',\n        'Influencer': 'Desperate influencer who plugs their content every other sentence'\n      },\n      topic: {\n        'AI fears': 'Why AI is already controlling your daily coffee choices',\n        'Celebrity secrets': 'Which A-list celebrity secretly runs a conspiracy theory blog',\n        'Life advice': 'Why everything you learned about success is completely backwards',\n        'Government coverups': 'The real reason your GPS always takes you past Starbucks',\n        'Dating horror stories': 'When your Tinder date turned out to be your therapist\\'s ex'\n      },\n      toneDynamic: {\n        'Tense': 'So tense you can cut it with a knife while someone\\'s eating loudly',\n        'Surprising': 'Plot twists that make M. Night Shyamalan jealous',\n        'Emotional': 'Ugly crying that makes everyone uncomfortable but can\\'t look away',\n        'Combative': 'Passive-aggressive arguing disguised as polite conversation',\n        'Funny': 'Accidentally hilarious in ways that shouldn\\'t be legal'\n      },\n      \n      // Street Interview enhancements  \n      setting: {\n        'Busy market': 'Chaotic Bangkok street market during monsoon season with flying umbrellas',\n        'Rainy street': 'Neon-soaked Tokyo alley at 3am with mysterious steam rising from manholes',\n        'High school': 'Overly dramatic high school hallway during prom proposal season',\n        'Nightclub line': 'Pretentious nightclub line where everyone\\'s pretending they\\'re not cold',\n        'Rooftop party': 'Rooftop party where the Wi-Fi is down and everyone\\'s having actual conversations'\n      },\n      hostStyle: {\n        'Chill interviewer': 'So chill they make everyone spill their deepest secrets',\n        'Aggressive troll': 'Aggressive troll who somehow makes people more honest than therapy',\n        'Curious child': 'Innocent child asking questions that destroy adult egos',\n        'Witty comedian': 'Razor-sharp comedian who turns every answer into comedy gold'\n      },\n      \n      // ASMR/Satisfying enhancements\n      satisfyingElement: {\n        'Pressure washing': 'Pressure washing decades of grime off mysterious surfaces',\n        'Paint mixing': 'Hypnotic paint mixing that creates colors that don\\'t exist in nature',\n        'Soap carving': 'Therapeutic soap carving with unnaturally perfect precision',\n        'Crunchy food eating': 'ASMR eating of the crunchiest foods known to humanity',\n        'Looping animation': 'Mesmerizing loop that breaks your brain in the best way'\n      },\n      \n      // Generic fallbacks for any field\n      vibe: {\n        'Hype': 'Energy so hype it could power a small city',\n        'Chill': 'Deceptively chill with underlying chaos bubbling beneath',\n        'Goofy': 'Endearingly goofy in ways that make you question reality',\n        'Cringe': 'So cringe it loops back to being accidentally cool',\n        'Epic': 'Cinematically epic like a Marvel movie but for everyday life'\n      },\n      environment: {\n        'School hallway': 'Dramatic high school hallway with movie-level lighting',\n        'Parking garage': 'Underground parking garage that looks like a music video set',\n        'Neon club': 'Retro-futuristic club with lights that sync to heartbeats',\n        'Rainy street': 'Cinematic rainy street where every puddle reflects neon dreams'\n      }\n    };\n    \n    // Try specific field enhancement first\n    const fieldEnhancements = viralEnhancements[fieldKey];\n    if (fieldEnhancements && fieldEnhancements[value]) {\n      return fieldEnhancements[fieldKey][value];\n    }\n    \n    // Fallback to generic viral enhancement\n    const viralPrefixes = [\n      'Unexpectedly viral',\n      'Internet-breaking',\n      'Cinematically dramatic',  \n      'Suspiciously perfect',\n      'Mysteriously compelling',\n      'Accidentally iconic'\n    ];\n    \n    const viralSuffixes = [\n      'that makes everyone stop scrolling',\n      'with main character energy',\n      'that belongs in a music video',\n      'that breaks the fourth wall',\n      'with plot armor levels of confidence',\n      'that spawns a thousand memes'\n    ];\n    \n    const randomPrefix = viralPrefixes[Math.floor(Math.random() * viralPrefixes.length)];\n    const randomSuffix = viralSuffixes[Math.floor(Math.random() * viralSuffixes.length)];\n    \n    return `${randomPrefix} ${value.toLowerCase()} ${randomSuffix}`;\n  };\n\n  const generateComprehensiveJson = () => {\n    if (!selectedFormat || !viralFormats[selectedFormat]) return;\n    \n    const format = viralFormats[selectedFormat];\n    console.log('Generating JSON for format:', selectedFormat);\n    console.log('Current userInputs:', userInputs);\n    \n    const content = buildViralSceneJson(format);\n    console.log('Generated content:', content);\n\n    // Clear existing JSON and set new content\n    clearAll();\n    Object.entries(content).forEach(([key, value]) => {\n      if (value && typeof value === 'string' && value.trim()) {\n        setFieldValue(key, value);\n        console.log(`Set field ${key}: ${value}`);\n      }\n    });\n  };\n\n  const buildViralSceneJson = (format) => {\n    const inputs = userInputs;\n    let sceneDescription = '';\n    let tagline = '';\n    \n    // Build comprehensive JSON based on format\n    switch (selectedFormat) {\n      case 'podcastInterview':\n        sceneDescription = `${inputs.hostType || 'Host'} interviews ${inputs.guestType || 'guest'} about ${inputs.topic || 'topic'} with ${inputs.toneDynamic || 'neutral'} energy`;\n        tagline = 'Truth bombs and heated debates in intimate conversation';\n        return {\n          scene: sceneDescription,\n          tagline,\n          format: selectedFormat,\n          formatName: format.name,\n          hostType: inputs.hostType || '',\n          guestType: inputs.guestType || '',\n          topic: inputs.topic || '',\n          tone: inputs.toneDynamic || '',\n          cameraStyle: 'Two-shot with periodic close-ups during intense moments',\n          lighting: 'Warm intimate lighting with subtle drama shadows',\n          music: 'Low ambient tension track with silence during key reveals',\n          dialogue: `Host: \"So tell me about ${inputs.topic || 'this situation'}...\" Guest: [Responds with ${inputs.toneDynamic || 'neutral'} energy]`,\n          atmosphere: 'Intimate but charged with underlying tension',\n          environment: 'Professional podcast studio with subtle mood lighting',\n          aspect_ratio: \"16:9\"\n        };\n        \n      case 'streetInterview':\n        sceneDescription = `Street interview in ${inputs.setting || 'busy location'} with ${inputs.hostStyle || 'interviewer'} asking ${inputs.questionType || 'questions'} getting ${inputs.responseStyle || 'responses'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Raw authentic reactions from real people',\n          format: selectedFormat,\n          formatName: format.name,\n          setting: inputs.setting || '',\n          hostStyle: inputs.hostStyle || '',\n          questionType: inputs.questionType || '',\n          responseStyle: inputs.responseStyle || '',\n          cameraStyle: 'Handheld tracking shots with quick reaction zooms',\n          lighting: 'Natural outdoor lighting with dynamic movement',\n          music: 'Upbeat background with comedic stingers for reactions',\n          atmosphere: 'Energy of spontaneous discovery and surprise',\n          environment: inputs.setting || 'Urban street setting',\n          aspect_ratio: \"16:9\"\n        };\n\n      case 'danceLoop':\n        sceneDescription = `${inputs.character || 'Person'} performs ${inputs.vibe || 'dance'} moves in ${inputs.environment || 'location'} with ${inputs.twist || 'surprise element'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Short-form dance content designed for maximum engagement',\n          format: selectedFormat,\n          formatName: format.name,\n          vibe: inputs.vibe || '',\n          environment: inputs.environment || '',\n          character: inputs.character || '',\n          twist: inputs.twist || '',\n          cameraStyle: 'Quick cuts with rhythm matching, close-ups on moves',\n          lighting: 'High-contrast lighting that pops on mobile screens',\n          music: 'Trending TikTok audio with perfect beat drops',\n          atmosphere: 'High-energy with infectious enthusiasm',\n          aspect_ratio: \"9:16\"\n        };\n\n      case 'asmrLoop':\n        sceneDescription = `Satisfying ${inputs.satisfyingElement || 'activity'} filmed with ${inputs.cameraType || 'camera'} featuring ${inputs.soundStyle || 'audio'} in ${inputs.colorAesthetic || 'aesthetic'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Oddly satisfying content that triggers ASMR responses',\n          format: selectedFormat,\n          formatName: format.name,\n          satisfyingElement: inputs.satisfyingElement || '',\n          cameraType: inputs.cameraType || '',\n          soundStyle: inputs.soundStyle || '',\n          colorAesthetic: inputs.colorAesthetic || '',\n          cameraStyle: 'Macro close-ups with smooth, hypnotic movements',\n          lighting: 'Soft, even lighting that highlights textures',\n          music: 'Minimal ambient sounds or whispered narration',\n          atmosphere: 'Calm, meditative, and deeply satisfying',\n          aspect_ratio: \"16:9\"\n        };\n\n      case 'creatureReacts':\n        sceneDescription = `${inputs.creatureType || 'Creature'} discovers and reacts to ${inputs.humanThing || 'human behavior'} with ${inputs.tone || 'curiosity'} in ${inputs.narrationStyle || 'style'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Non-human perspective on everyday human life',\n          format: selectedFormat,\n          formatName: format.name,\n          creatureType: inputs.creatureType || '',\n          humanThing: inputs.humanThing || '',\n          tone: inputs.tone || '',\n          narrationStyle: inputs.narrationStyle || '',\n          cameraStyle: 'POV shots mixed with reaction close-ups',\n          lighting: 'Contrasting lighting to highlight the culture clash',\n          music: 'Whimsical or dramatic score based on creature reaction',\n          atmosphere: 'Fish-out-of-water comedy with heart',\n          aspect_ratio: \"16:9\"\n        };\n\n      case 'oneSentenceDrama':\n        sceneDescription = `${inputs.mainCharacter || 'Character'} delivers shocking revelation \"${inputs.shockingSentence || 'dramatic line'}\" in ${inputs.setting || 'location'} resulting in ${inputs.reaction || 'reaction'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Maximum drama in minimum time',\n          format: selectedFormat,\n          formatName: format.name,\n          setting: inputs.setting || '',\n          mainCharacter: inputs.mainCharacter || '',\n          shockingSentence: inputs.shockingSentence || '',\n          reaction: inputs.reaction || '',\n          cameraStyle: 'Tight close-ups building to wide reaction shots',\n          lighting: 'Dramatic lighting with strategic shadows',\n          music: 'Tension-building score with dramatic sting',\n          atmosphere: 'Soap opera intensity compressed into seconds',\n          aspect_ratio: \"9:16\"\n        };\n\n      case 'conspiracyBreakdown':\n        sceneDescription = `${inputs.narratorStyle || 'Narrator'} explains ${inputs.conspiracyType || 'conspiracy'} using ${inputs.visualStyle || 'visuals'} with ${inputs.tone || 'serious'} delivery`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Truth-seeking content that makes you question everything',\n          format: selectedFormat,\n          formatName: format.name,\n          narratorStyle: inputs.narratorStyle || '',\n          conspiracyType: inputs.conspiracyType || '',\n          visualStyle: inputs.visualStyle || '',\n          tone: inputs.tone || '',\n          cameraStyle: 'Documentary-style with quick cuts to evidence',\n          lighting: 'Mysterious mood lighting with selective illumination',\n          music: 'Suspenseful ambient track with investigative feel',\n          atmosphere: 'Investigative thriller meets social media',\n          aspect_ratio: \"16:9\"\n        };\n\n      case 'viralAd':\n        sceneDescription = `${inputs.narratorType || 'Narrator'} presents ${inputs.productType || 'product'} in ${inputs.adTone || 'tone'} style with ${inputs.visualGimmick || 'visual effects'}`;\n        return {\n          scene: sceneDescription,\n          tagline: 'Parody advertising that becomes accidentally viral',\n          format: selectedFormat,\n          formatName: format.name,\n          productType: inputs.productType || '',\n          adTone: inputs.adTone || '',\n          narratorType: inputs.narratorType || '',\n          visualGimmick: inputs.visualGimmick || '',\n          cameraStyle: 'High-production value with deliberate cheese factor',\n          lighting: 'Overlit commercial lighting with dramatic flair',\n          music: 'Catchy jingle that gets stuck in your head',\n          atmosphere: 'So bad it\\'s good commercial energy',\n          aspect_ratio: \"16:9\"\n        };\n        \n      default:\n        return {\n          scene: `${format.name} scene with user-defined elements`,\n          format: selectedFormat,\n          formatName: format.name,\n          ...inputs,\n          cameraStyle: 'Dynamic cinematography matching viral format',\n          lighting: 'Professional lighting optimized for social media',\n          music: 'Trending audio that matches format energy',\n          aspect_ratio: \"16:9\"\n        };\n    }\n  };\n\n  // Add comprehensive JSON enhancement function\n  const enhanceEntireJson = async () => {\n    if (!selectedFormat || !viralFormats[selectedFormat]) return;\n    \n    setIsGenerating(true);\n    \n    try {\n      const currentJson = buildViralSceneJson(viralFormats[selectedFormat]);\n      const aiService = (await import('./aiApiService')).default;\n      \n      const enhancementPrompt = `🔧 Prompt for Claude Code:\nYou are modifying a viral video scene JSON object to make it more engaging, surprising, or emotionally resonant — without removing user intent. When a user clicks the \"Enhance\" button, enrich and modify the scene by making clever, viral-style enhancements to the values.\n\nUpdate the JSON by adjusting some or all of the following fields:\n- scene: Make it more specific, visual, or outrageous\n- vibe: Add a viral twist, conflict, emotion, or humor  \n- character: Add quirky, exaggerated, or unexpected details\n- environment: Make it vivid or cinematic\n- cameraStyle, lighting, music: Boost stylization for short-form video\n\n✅ Rules:\n- Never just add the word \"enhanced\"\n- Use natural, vivid language suitable for viral videos\n- Retain the structure of the original JSON\n- Leave fields untouched if already high quality\n- Each time Enhance is clicked, apply a new layer of enrichment\n\nInput JSON:\n${JSON.stringify(currentJson, null, 2)}\n\nReturn only the enhanced JSON object, properly formatted.`;\n\n      const response = await aiService.makeRequest([\n        { role: 'user', content: enhancementPrompt }\n      ], {\n        temperature: 0.8,\n        max_tokens: 800\n      });\n\n      const enhancedResponse = response.choices[0]?.message?.content?.trim();\n      \n      try {\n        // Try to parse the AI response as JSON\n        const enhancedJson = JSON.parse(enhancedResponse);\n        \n        // Clear existing JSON and set enhanced content\n        clearAll();\n        Object.entries(enhancedJson).forEach(([key, value]) => {\n          if (value && typeof value === 'string' && value.trim()) {\n            setFieldValue(key, value);\n          }\n        });\n        \n        setShowGenerateSuccess(true);\n        setTimeout(() => setShowGenerateSuccess(false), 3000);\n        \n      } catch (parseError) {\n        console.log('Failed to parse AI response, using fallback enhancement');\n        generateComprehensiveJson();\n      }\n      \n    } catch (error) {\n      console.error('Full JSON enhancement failed:', error);\n      generateComprehensiveJson();\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleManualGenerate = async () => {\n    if (!selectedFormat) return;\n    \n    if (useAIEnhancement) {\n      // Use AI-enhanced generation\n      await enhanceEntireJson();\n    } else {\n      // Use standard generation\n      setIsGenerating(true);\n      setShowGenerateSuccess(false);\n      \n      try {\n        await new Promise(resolve => setTimeout(resolve, 500));\n        generateComprehensiveJson();\n        \n        setShowGenerateSuccess(true);\n        setTimeout(() => setShowGenerateSuccess(false), 3000);\n      } catch (error) {\n        console.error('Generation error:', error);\n      } finally {\n        setIsGenerating(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[3000] p-4\">\n      <div \n        ref={modalRef}\n        className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl dark:shadow-glow-soft max-w-7xl w-full max-h-[90vh] overflow-hidden border border-transparent dark:border-cinema-border\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 lg:p-6 border-b border-gray-200 dark:border-cinema-border bg-gradient-to-r from-purple-500 to-pink-500 text-white\">\n          <div className=\"flex items-center space-x-2 lg:space-x-3\">\n            <span className=\"text-2xl lg:text-3xl\">🔥</span>\n            <div>\n              <h2 className=\"text-lg lg:text-2xl font-bold\">Viral Video Generator</h2>\n              <p className=\"text-xs lg:text-sm text-purple-100 hidden sm:block\">Dropdown inputs • Manual override • AI enhance • Live JSON</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            {/* AI Enhancement Toggle */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-xs text-purple-100\">AI Enhance</span>\n              <button\n                onClick={() => setUseAIEnhancement(!useAIEnhancement)}\n                className={`relative w-10 h-5 rounded-full transition-colors ${\n                  useAIEnhancement ? 'bg-gradient-to-r from-pink-400 to-purple-400' : 'bg-purple-700'\n                }`}\n              >\n                <div className={`absolute w-4 h-4 bg-white rounded-full shadow-md transition-transform top-0.5 ${\n                  useAIEnhancement ? 'translate-x-5' : 'translate-x-0.5'\n                }`} />\n              </button>\n            </div>\n            {/* Live Updates Toggle */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-xs text-purple-100\">Live Updates</span>\n              <button\n                onClick={() => setLiveUpdates(!liveUpdates)}\n                className={`relative w-10 h-5 rounded-full transition-colors ${\n                  liveUpdates ? 'bg-purple-300' : 'bg-purple-700'\n                }`}\n              >\n                <div className={`absolute w-4 h-4 bg-white rounded-full shadow-md transition-transform top-0.5 ${\n                  liveUpdates ? 'translate-x-5' : 'translate-x-0.5'\n                }`} />\n              </button>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"text-white hover:text-purple-200 transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row h-auto lg:h-[75vh]\">\n          {/* Left Panel - Format Selection */}\n          <div className=\"w-full lg:w-1/3 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-cinema-border overflow-y-auto\">\n            <div className=\"p-4\">\n              <h3 className=\"font-semibold text-gray-900 dark:text-cinema-text mb-4\">🎬 Viral Formats</h3>\n              \n              {/* Format List */}\n              <div className=\"space-y-2\">\n                {Object.entries(viralFormats).map(([formatId, format]) => (\n                  <button\n                    key={formatId}\n                    onClick={() => handleFormatSelect(formatId)}\n                    className={`w-full p-3 rounded-lg border transition-all text-left ${\n                      selectedFormat === formatId\n                        ? 'border-purple-500 bg-purple-50 dark:border-purple-500 dark:bg-purple-900/20'\n                        : 'border-gray-200 dark:border-cinema-border hover:border-purple-300 dark:hover:border-purple-500/50 bg-white dark:bg-cinema-card'\n                    }`}\n                  >\n                    <div className=\"flex items-start space-x-2\">\n                      <span className=\"text-lg mt-0.5\">{format.icon}</span>\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium text-gray-900 dark:text-cinema-text text-sm\">\n                          {format.name}\n                        </div>\n                        <div className=\"text-xs text-gray-600 dark:text-cinema-text-muted mt-1 leading-relaxed\">\n                          {format.description}\n                        </div>\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Middle Panel - Input Fields */}\n          <div className=\"w-full lg:w-1/3 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-cinema-border overflow-y-auto\">\n            <div className=\"p-4\">\n              {selectedFormat ? (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"font-semibold text-gray-900 dark:text-cinema-text\">\n                      ✨ {viralFormats[selectedFormat].name} Fields\n                    </h3>\n                  </div>\n                  \n                  {viralFormats[selectedFormat].fields.map((field) => (\n                    <div key={field.key} className=\"space-y-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                        {field.label}\n                      </label>\n                      \n                      {/* Dropdown with options */}\n                      <select\n                        value={userInputs[field.key] || ''}\n                        onChange={(e) => {\n                          handleInputChange(field.key, e.target.value);\n                          // Clear any previous manual input when dropdown is selected\n                          if (e.target.value) {\n                            // This ensures the dropdown selection is preserved\n                            console.log(`Dropdown selected for ${field.key}: ${e.target.value}`);\n                          }\n                        }}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                      >\n                        <option value=\"\">Select {field.label.toLowerCase()}...</option>\n                        {field.options.map((option) => (\n                          <option key={option} value={option}>\n                            {option}\n                          </option>\n                        ))}\n                      </select>\n                      \n                      <div className=\"text-center my-2\">\n                        <span className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">OR</span>\n                      </div>\n                      \n                      {/* Manual text input */}\n                      <div className=\"relative\">\n                        <input\n                          type=\"text\"\n                          value={userInputs[field.key] || ''}\n                          onChange={(e) => {\n                            handleInputChange(field.key, e.target.value);\n                            console.log(`Manual input for ${field.key}: ${e.target.value}`);\n                          }}\n                          placeholder={`Write your own ${field.label.toLowerCase()}...`}\n                          className=\"w-full px-3 py-2 pr-20 border border-gray-300 dark:border-cinema-border rounded-md bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                        />\n                        \n                        {/* Enhance Button */}\n                        <button\n                          onClick={() => handleEnhance(field.key)}\n                          disabled={!userInputs[field.key] || enhancingField === field.key}\n                          className={`absolute right-1 top-1 bottom-1 px-2 text-xs font-medium rounded transition-colors ${\n                            !userInputs[field.key] || enhancingField === field.key\n                              ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                              : 'bg-purple-500 hover:bg-purple-600 text-white'\n                          }`}\n                        >\n                          {enhancingField === field.key ? (\n                            <svg className=\"animate-spin w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\">\n                              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                          ) : (\n                            '✨ Enhance'\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n\n                  {/* Generate Button */}\n                  {!liveUpdates && (\n                    <div className=\"mt-6 pt-4 border-t border-gray-200 dark:border-cinema-border\">\n                      <button\n                        onClick={handleManualGenerate}\n                        disabled={isGenerating || !selectedFormat}\n                        className={`w-full py-3 rounded-lg text-sm font-semibold transition-all duration-300 flex items-center justify-center space-x-2 ${\n                          isGenerating || !selectedFormat\n                            ? 'bg-gray-400 cursor-not-allowed text-white'\n                            : 'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transform hover:scale-[1.02]'\n                        }`}\n                      >\n                        {isGenerating ? (\n                          <>\n                            <svg className=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                            <span>Generating JSON...</span>\n                          </>\n                        ) : (\n                          <>\n                            <span className=\"text-lg\">{useAIEnhancement ? '🎯' : '🚀'}</span>\n                            <span>{useAIEnhancement ? 'AI Enhance & Generate' : 'Generate JSON Output'}</span>\n                          </>\n                        )}\n                      </button>\n                      \n                      {/* Success Message */}\n                      {showGenerateSuccess && (\n                        <div className=\"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg\">\n                          <div className=\"flex items-center justify-center space-x-2\">\n                            <svg className=\"w-4 h-4 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                            <span className=\"text-sm font-medium text-green-700 dark:text-green-300\">\n                              ✨ JSON Generated Successfully!\n                            </span>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-center h-full text-center\">\n                  <div className=\"space-y-4\">\n                    <div className=\"text-4xl\">👈</div>\n                    <h3 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text\">\n                      Select a Format\n                    </h3>\n                    <p className=\"text-gray-600 dark:text-cinema-text-muted text-sm max-w-xs\">\n                      Choose one of the 8 viral video formats to get started with your structured prompt\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right Panel - JSON Preview */}\n          <div className=\"w-full lg:w-1/3 overflow-y-auto bg-gray-50 dark:bg-cinema-card\">\n            <div className=\"p-4\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-semibold text-gray-900 dark:text-cinema-text\">\n                  📄 JSON Output\n                </h3>\n                <div className={`text-xs font-medium px-2 py-1 rounded ${\n                  liveUpdates \n                    ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400' \n                    : 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400'\n                }`}>\n                  {liveUpdates ? '🔄 Live' : '⚡ Manual'}\n                </div>\n              </div>\n\n              {selectedFormat ? (\n                <div className=\"space-y-4\">\n                  {/* Format Info */}\n                  <div className=\"bg-white dark:bg-cinema-panel p-3 rounded-lg border border-gray-200 dark:border-cinema-border\">\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <span className=\"text-lg\">{viralFormats[selectedFormat].icon}</span>\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900 dark:text-cinema-text\">\n                          {viralFormats[selectedFormat].name}\n                        </div>\n                        <div className=\"text-xs text-gray-600 dark:text-cinema-text-muted\">\n                          Complete structured prompt\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* JSON Preview */}\n                  <div className=\"bg-gray-900 dark:bg-cinema-black rounded-lg p-3 border border-gray-700 dark:border-cinema-border\">\n                    <div className=\"text-xs text-gray-300 mb-2\">JSON Output:</div>\n                    <div className=\"text-green-400 dark:text-cinema-teal text-xs font-mono leading-relaxed max-h-96 overflow-y-auto\">\n                      {(() => {\n                        try {\n                          const jsonOutput = usePromptStore.getState().getJsonOutput();\n                          if (jsonOutput && jsonOutput.trim()) {\n                            return (\n                              <pre className=\"whitespace-pre-wrap\">\n                                {JSON.stringify(JSON.parse(jsonOutput), null, 2)}\n                              </pre>\n                            );\n                          }\n                        } catch (e) {\n                          // Fall back to empty state\n                        }\n                        return (\n                          <div className=\"text-gray-500 italic\">\n                            {selectedFormat \n                              ? 'Fill in fields above to see comprehensive JSON output...' \n                              : 'Select a format to begin'}\n                          </div>\n                        );\n                      })()}\n                    </div>\n                  </div>\n\n                  {/* Instructions */}\n                  <div className=\"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-700\">\n                    <div className=\"text-xs text-blue-700 dark:text-blue-300 font-medium mb-1\">\n                      💡 How to Use\n                    </div>\n                    <div className=\"text-xs text-blue-600 dark:text-blue-400 space-y-1\">\n                      <div>• Select from dropdowns or write custom values</div>\n                      <div>• Click \"✨ Enhance\" to make content more viral</div>\n                      <div>• Toggle live updates on/off in header</div>\n                      <div>• JSON includes scene, camera, lighting, music</div>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-center h-full text-center\">\n                  <div className=\"space-y-3\">\n                    <div className=\"text-4xl\">📝</div>\n                    <div className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                      JSON Preview\n                    </div>\n                    <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted max-w-xs\">\n                      Choose a viral format to see comprehensive JSON output with scene description, camera work, lighting, and more\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViralVideoGeneratorModal;","// Centralized AI System Prompts for JSON Prompt Studio\n// Professional-grade prompts for Scene Extender and AI Optimizer\n\nexport const AI_SYSTEM_PROMPTS = {\n  \n  // SCENE EXTENDER PROMPTS - 8 Advanced Continuation Types\n  sceneExtender: {\n    \n    // Base context prompt that precedes all extension requests\n    baseContext: `You are an expert AI creative director and narrative specialist for video generation. Your role is to analyze JSON-formatted video prompts and create compelling narrative continuations that maintain visual and thematic consistency.\n\nCRITICAL INSTRUCTIONS:\n- Always return valid JSON in the EXACT same structure as the input\n- Preserve the original scene's tone, style, and technical specifications unless specifically instructed to change them\n- Maintain character consistency and logical narrative flow\n- Add creative details that enhance visual storytelling\n- Consider cinematic principles like pacing, tension, and visual composition\n- Ensure all technical fields (camera, lighting, etc.) work harmoniously together\n\nORIGINAL SCENE CONTEXT:`,\n\n    continuationTypes: {\n      \n      logical: {\n        name: \"Logical Continuation\",\n        description: \"Natural story progression following established narrative logic\",\n        systemPrompt: `Create a logical narrative continuation that follows naturally from the established scene. \n\nCONTINUATION GUIDELINES:\n- Follow cause-and-effect relationships from the original scene\n- Maintain consistent character motivations and environmental conditions\n- Progress the story at an appropriate pace\n- Add meaningful details that advance the narrative\n- Preserve the emotional tone while allowing natural development\n- Consider what would realistically happen next in this scenario\n\nFocus on creating a believable progression that viewers would find satisfying and coherent. The continuation should feel inevitable given the setup while still being engaging.\n\nReturn the next scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"logical\"\n- Add a \"narrative_connection\" field explaining how this connects to the previous scene\n- Preserve all original technical specifications unless the story naturally demands changes`\n      },\n\n      twist: {\n        name: \"Unpredictable Twist\",\n        description: \"Unexpected narrative turn that subverts audience expectations\",\n        systemPrompt: `Create an unexpected narrative twist that dramatically changes the scene's direction while maintaining internal logic.\n\nTWIST GUIDELINES:\n- Introduce a surprising element that recontextualizes the original scene\n- The twist should be unexpected but not illogical - it should make sense in retrospect\n- Maintain character authenticity even through the surprise\n- Consider genre conventions you can subvert (horror becoming comedy, romance becoming thriller, etc.)\n- The twist can involve: hidden character motivations, environmental reveals, genre shifts, reality distortions, time reveals, perspective shifts\n- Preserve visual quality and technical excellence\n\nTWIST INTENSITY LEVELS:\n- Subtle: Minor revelation that changes interpretation\n- Moderate: Significant plot development that redirects the story\n- Major: Genre-shifting revelation that completely reframes the narrative\n- Reality-bending: Fundamental assumptions about the scene are overturned\n\nReturn the twisted scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"twist\"\n- Add a \"twist_type\" field describing the nature of the twist\n- Add a \"narrative_impact\" field explaining how this changes the story\n- Adjust technical specifications to support the twist (lighting, camera angles, etc.)`\n      },\n\n      genreShift: {\n        name: \"Genre/Mood Shift\", \n        description: \"Dramatic change in tone, style, or genre while maintaining story continuity\",\n        systemPrompt: `Transform the scene's genre or mood while maintaining narrative continuity and character consistency.\n\nGENRE SHIFT GUIDELINES:\n- Choose a target genre that creates interesting contrast with the original\n- Maintain core story elements while dramatically changing the presentation\n- Adjust technical specifications (lighting, camera work, color palette) to match the new genre\n- Consider genre conventions: horror (dark, tense), comedy (bright, exaggerated), romance (warm, intimate), action (dynamic, energetic), thriller (suspenseful, dramatic)\n- The shift should feel purposeful, not arbitrary\n- Characters should remain authentic while adapting to the new genre context\n\nPOSSIBLE GENRE TRANSITIONS:\n- Drama → Comedy: Same situation becomes humorous\n- Horror → Romance: Fear transforms into attraction\n- Action → Contemplative: High energy becomes introspective\n- Serious → Absurd: Realistic scenario becomes surreal\n- Intimate → Epic: Personal story gains grand scale\n- Modern → Period: Contemporary scene becomes historical\n\nReturn the genre-shifted scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"genre_shift\"\n- Add a \"original_genre\" and \"target_genre\" fields\n- Add a \"mood_transformation\" field describing the tonal change\n- Update ALL technical specifications to match the new genre (lighting, color palette, camera work, etc.)\n- Adjust \"tone\" and \"atmosphere\" fields to match the new genre`\n      },\n\n      characterDevelopment: {\n        name: \"Character Development\",\n        description: \"Deep exploration of character psychology, motivation, and backstory\",\n        systemPrompt: `Create a continuation that reveals deeper character psychology, hidden motivations, or personal backstory.\n\nCHARACTER DEVELOPMENT GUIDELINES:\n- Reveal something meaningful about the character's inner world\n- This can be through dialogue, internal monologue, flashback, symbolic action, or behavioral revelation\n- The revelation should feel authentic and add depth to the character\n- Consider: fears, desires, secrets, relationships, personal history, dreams, trauma, growth\n- Show character development through action and visual storytelling, not just exposition\n- The development should enhance our understanding of why the character acts as they do\n\nDEVELOPMENT APPROACHES:\n- Internal Monologue: Character's thoughts revealed through voiceover or visual metaphor\n- Memory Trigger: Something in the scene reminds them of their past\n- Emotional Breakthrough: Character confronts a fear or desire\n- Relationship Revelation: Hidden connection to another character or situation\n- Skill/Talent Display: Character demonstrates unexpected ability or knowledge\n- Moral Choice: Character faces decision that reveals their values\n- Vulnerability Moment: Character shows hidden weakness or strength\n\nReturn the character-focused scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"character_development\"\n- Add a \"character_focus\" field identifying which character is developed\n- Add a \"development_type\" field describing what aspect of character is revealed\n- Add \"internal_state\" field describing the character's emotional/psychological condition\n- Consider adding dialogue or adjusting actions to reflect character growth`\n      },\n\n      flashback: {\n        name: \"Flashback/Memory\",\n        description: \"Reveal past events that illuminate the current scene\",\n        systemPrompt: `Create a flashback or memory sequence that provides context for the current scene by revealing relevant past events.\n\nFLASHBACK GUIDELINES:\n- The memory should be directly relevant to the current situation\n- Create clear visual distinction between present and past (different lighting, color palette, etc.)\n- The flashback should answer questions raised by the original scene\n- Consider what past event would make the current scene more meaningful\n- Use cinematic techniques to clearly indicate this is a memory\n- The flashback can be triggered by an object, sound, location, person, or emotion\n\nFLASHBACK TYPES:\n- Recent Past: Events from hours or days ago\n- Formative Memory: Childhood or significant life event\n- Trauma Recall: Difficult experience that explains current behavior\n- Happy Memory: Positive recollection that contrasts with current situation\n- Revelation Memory: Past event that recontextualizes the present\n- Fragmented Memory: Incomplete recollection that creates mystery\n\nVISUAL TECHNIQUES FOR FLASHBACKS:\n- Desaturated colors or sepia tones\n- Soft focus or dream-like quality\n- Different aspect ratios\n- Transition effects (blur, fade, ripple)\n- Lighting changes (warmer/cooler)\n\nReturn the flashback scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"flashback\"\n- Add a \"flashback_trigger\" field explaining what caused the memory\n- Add a \"time_period\" field indicating when the memory occurred\n- Add a \"memory_clarity\" field (clear, hazy, fragmented, etc.)\n- Adjust technical specifications to visually distinguish past from present\n- Update lighting, color palette, and filters to create temporal distinction`\n      },\n\n      timeSkip: {\n        name: \"Time Skip\",\n        description: \"Jump forward in time to show consequences or future developments\",\n        systemPrompt: `Create a time skip that jumps forward to show the consequences, results, or future development of the current scene.\n\nTIME SKIP GUIDELINES:\n- Choose an appropriate time jump (minutes, hours, days, weeks, months, or years)\n- Show the logical consequences of actions or events from the original scene\n- Update environmental details to reflect the passage of time\n- Consider how characters, locations, and situations would realistically change\n- The time skip should reveal something meaningful about the story's progression\n- Use visual cues to indicate time has passed\n\nTIME SKIP DURATIONS:\n- Minutes Later: Immediate consequences, same location/situation\n- Hours Later: Short-term results, possible location change\n- Days Later: Clear progression, noticeable changes\n- Weeks/Months Later: Significant developments, major changes\n- Years Later: Long-term consequences, dramatic transformations\n- Seasonal Change: Use weather/environment to show time passage\n\nVISUAL TIME INDICATORS:\n- Environmental changes (weather, lighting, seasons)\n- Character appearance (clothing, aging, expression)\n- Location modifications (wear, growth, construction)\n- Object changes (deterioration, improvement, accumulation)\n- Activity progression (completion, advancement, consequences)\n\nReturn the time-skipped scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"time_skip\"\n- Add a \"time_elapsed\" field specifying how much time has passed\n- Add a \"consequence_type\" field describing what the skip reveals\n- Update environmental details to reflect time passage\n- Modify character descriptions to show appropriate changes\n- Adjust setting details to indicate temporal progression`\n      },\n\n      alternateReality: {\n        name: \"Alternate Reality\",\n        description: \"Explore 'what if' scenarios and parallel possibilities\",\n        systemPrompt: `Create an alternate reality version that explores how the scene might unfold under different circumstances or in a parallel universe.\n\nALTERNATE REALITY GUIDELINES:\n- Change one or more key elements to create a different version of events\n- The alternate reality should be recognizably related to the original but meaningfully different\n- Consider: different character choices, environmental changes, temporal shifts, genre alterations, perspective changes\n- Maintain some connection to the original while exploring new possibilities\n- The alternate version should be compelling in its own right\n\nALTERNATE REALITY TYPES:\n- Different Choice: Character makes opposite decision\n- Environmental Change: Different weather, time, or location affects events\n- Perspective Shift: Same events from different character's viewpoint\n- Genre Alteration: Same situation in different genre (realistic vs. fantasy)\n- Temporal Shift: Same events in different time period\n- Emotional State: Character in different mood changes everything\n- Circumstantial Change: One small detail changes the entire scene\n\nREALITY VARIATION APPROACHES:\n- Butterfly Effect: Small change creates large difference\n- Role Reversal: Characters switch positions or roles\n- Tone Inversion: Happy scene becomes sad, or vice versa\n- Scale Change: Intimate scene becomes epic, or epic becomes intimate\n- Moral Flip: Good guys become bad guys, heroes become villains\n- Physics Alteration: Different laws of reality apply\n\nReturn the alternate reality scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"alternate_reality\"\n- Add a \"reality_change\" field describing what's different\n- Add a \"departure_point\" field explaining where this reality diverges\n- Add a \"alternate_significance\" field explaining why this version matters\n- Modify relevant fields to reflect the alternate reality\n- Maintain technical quality while adjusting for the new reality`\n      },\n\n      environmentalEscalation: {\n        name: \"Environmental Escalation\",\n        description: \"The setting itself becomes the central dramatic force\",\n        systemPrompt: `Create a continuation where the environment becomes an active force that drives the narrative, creating conflict, opportunity, or transformation.\n\nENVIRONMENTAL ESCALATION GUIDELINES:\n- The setting should transition from backdrop to active participant\n- Environmental changes should feel natural but dramatically significant\n- Consider weather intensification, structural changes, natural disasters, technological activation, or supernatural manifestation\n- The environment should create new challenges or opportunities for characters\n- Use the environment to heighten tension, create beauty, or drive plot forward\n\nENVIRONMENTAL FORCES:\n- Weather Escalation: Storm arrives, fog thickens, heat intensifies\n- Natural Events: Earthquake, flood, fire, avalanche, eclipse\n- Structural Changes: Building shifts, bridge collapses, door locks\n- Technological Activation: Systems turn on, screens light up, machines start\n- Seasonal Transition: Rapid change from day to night, summer to winter\n- Supernatural Manifestation: Location reveals magical or otherworldly properties\n- Urban Evolution: City comes alive, traffic patterns change, crowds gather\n\nESCALATION INTENSITIES:\n- Subtle: Gradual environmental change that slowly builds tension\n- Moderate: Noticeable change that requires character adaptation\n- Dramatic: Major environmental event that forces immediate response\n- Catastrophic: Environmental force that completely transforms the scene\n- Supernatural: Environment behaves in impossible or magical ways\n\nReturn the environmentally-driven scene in identical JSON format with these additions:\n- Add a \"continuation_type\" field with value \"environmental_escalation\"\n- Add a \"environmental_force\" field describing the active environmental element\n- Add a \"escalation_intensity\" field (subtle, moderate, dramatic, catastrophic, supernatural)\n- Add \"environmental_impact\" field explaining how the environment affects the story\n- Update environmental and weather fields to reflect the escalation\n- Adjust lighting, camera work, and other technical elements to capture environmental drama\n- Consider adding VFX or sound design elements to support environmental storytelling`\n      }\n    }\n  },\n\n  // AI OPTIMIZER PROMPTS - Enhanced Professional Modes\n  optimizer: {\n    \n    baseContext: `You are an expert AI prompt optimization specialist for professional video generation. Your role is to analyze and enhance JSON-formatted prompts to maximize creative impact, technical excellence, and audience engagement.\n\nOPTIMIZATION PRINCIPLES:\n- Maintain the original creative intent while elevating execution\n- Ensure all technical specifications work harmoniously\n- Add professional-grade details that improve AI generation quality\n- Consider platform-specific requirements and audience expectations\n- Balance creativity with technical feasibility\n- Preserve user preferences while enhancing overall quality\n\nORIGINAL PROMPT TO OPTIMIZE:`,\n\n    optimizationModes: {\n      \n      visualSpectacle: {\n        name: \"Visual Spectacle\",\n        description: \"Maximize visual drama, beauty, and cinematic impact\",\n        systemPrompt: `Optimize this prompt to create maximum visual impact and cinematic spectacle while maintaining the core creative intent.\n\nVISUAL SPECTACLE GUIDELINES:\n- Enhance camera work for more dynamic and engaging shots\n- Improve lighting design for dramatic visual appeal\n- Add cinematic techniques that increase visual interest\n- Suggest color palettes that create emotional impact\n- Incorporate visual effects that enhance rather than distract\n- Consider composition principles that guide viewer attention\n- Add atmospheric elements that enhance visual drama\n\nVISUAL ENHANCEMENT AREAS:\n- Camera Work: Dynamic angles, sophisticated movements, professional framing\n- Lighting: Dramatic contrasts, motivated lighting, artistic shadows\n- Color: Harmonious palettes, emotional color psychology, visual hierarchy\n- Composition: Rule of thirds, leading lines, depth layers, visual balance\n- Atmosphere: Practical effects, environmental drama, mood enhancement\n- VFX: Tasteful effects that support the story and enhance realism\n- Texture: Rich details that add visual depth and tactile quality\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"visual_spectacle\"\n- Add \"visual_enhancements\" array listing key improvements\n- Add \"cinematic_techniques\" field describing advanced camera/lighting work\n- Enhance ALL visual-related fields (camera, lighting, color, VFX, etc.)\n- Add technical specifications that support visual excellence`\n      },\n\n      emotionalResonance: {\n        name: \"Emotional Resonance\",\n        description: \"Maximize emotional impact and audience connection\",\n        systemPrompt: `Optimize this prompt to create deeper emotional impact and stronger audience connection while preserving technical quality.\n\nEMOTIONAL RESONANCE GUIDELINES:\n- Identify the core emotion and amplify it through every element\n- Use visual storytelling techniques that enhance emotional connection\n- Adjust pacing, rhythm, and timing for maximum emotional impact\n- Consider color psychology, lighting mood, and atmospheric effects\n- Add character details that make them more relatable and human\n- Incorporate universal emotional themes and experiences\n- Balance subtlety with impact for authentic emotional moments\n\nEMOTIONAL ENHANCEMENT TECHNIQUES:\n- Character Development: More specific, relatable character traits and motivations\n- Visual Metaphors: Use environment and objects to reflect emotional states\n- Color Psychology: Colors that reinforce and amplify the intended emotion\n- Lighting Mood: Lighting that supports and enhances emotional tone\n- Pacing: Rhythm and timing that builds emotional intensity\n- Sound Design: Audio elements that deepen emotional connection\n- Symbolic Elements: Visual symbols that resonate with universal experiences\n\nEMOTION AMPLIFICATION STRATEGIES:\n- Contrast: Use opposing elements to heighten emotional impact\n- Intimacy: Create closer, more personal connections with characters\n- Vulnerability: Show authentic human moments that audiences relate to\n- Stakes: Raise the emotional consequences of actions and choices\n- Memory: Tap into shared human experiences and nostalgia\n- Hope/Fear: Play with fundamental human emotions and desires\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"emotional_resonance\"\n- Add \"core_emotion\" field identifying the primary emotional target\n- Add \"emotional_techniques\" array listing enhancement methods\n- Add \"audience_connection\" field explaining how viewers will relate\n- Enhance character, mood, and atmospheric fields for emotional impact`\n      },\n\n      platformSpecific: {\n        name: \"Platform-Specific Optimization\",\n        description: \"Optimize for specific platforms (TikTok, YouTube, Instagram, etc.)\",\n        systemPrompt: `Optimize this prompt for maximum performance on the specified platform, considering technical requirements, audience expectations, and engagement patterns.\n\nPLATFORM OPTIMIZATION GUIDELINES:\n- Adjust aspect ratios and framing for platform specifications\n- Consider platform-specific audience preferences and content styles\n- Optimize pacing and timing for platform viewing patterns\n- Enhance elements that drive engagement on the specific platform\n- Adjust technical specifications for platform compression and display\n- Consider platform-specific trends and content formats\n\nPLATFORM-SPECIFIC REQUIREMENTS:\n\nTikTok Optimization:\n- Aspect ratio: 9:16 (vertical)\n- Duration: 15-60 seconds optimal\n- Hook within first 3 seconds\n- Fast-paced, engaging visuals\n- Trend-aware content\n- Mobile-optimized text and graphics\n- High contrast for small screens\n\nYouTube Optimization:\n- Aspect ratio: 16:9 (horizontal) for regular videos, 9:16 for Shorts\n- Thumbnail-worthy moments\n- Clear narrative structure\n- Searchable content elements\n- Longer-form storytelling for regular videos\n- Engaging opening and strong conclusion\n\nInstagram Optimization:\n- Square (1:1) or vertical (4:5, 9:16) for feed posts\n- Stories: 9:16 aspect ratio\n- Aesthetic consistency with brand/style\n- High visual appeal for scrolling feed\n- Clear, readable text elements\n- Filter-friendly content\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"platform_specific\"\n- Add \"target_platform\" field specifying the platform\n- Add \"platform_adaptations\" array listing specific changes made\n- Update aspect_ratio, duration, and technical specs for platform\n- Add \"engagement_strategy\" field explaining how to maximize platform performance`\n      },\n\n      narrativeCohesion: {\n        name: \"Narrative Cohesion\",\n        description: \"Improve story flow, logic, and narrative structure\",\n        systemPrompt: `Optimize this prompt to improve narrative structure, story logic, and overall cohesion while maintaining visual quality.\n\nNARRATIVE COHESION GUIDELINES:\n- Strengthen cause-and-effect relationships in the story\n- Improve character motivations and consistency\n- Enhance scene structure and pacing\n- Add narrative elements that support story logic\n- Clarify the scene's purpose within the larger story\n- Improve transitions and flow between story elements\n- Add details that support and advance the narrative\n\nNARRATIVE STRUCTURE ELEMENTS:\n- Setup: Clear establishment of situation, characters, and stakes\n- Conflict: Tension or challenge that drives the scene forward\n- Development: Progression of events that advance the story\n- Resolution: Satisfying conclusion or transition to next scene\n- Character Arc: How characters change or reveal themselves\n- Theme: Underlying message or meaning that resonates\n- Subtext: Deeper layers of meaning beneath surface action\n\nSTORY LOGIC IMPROVEMENTS:\n- Motivation: Clear reasons why characters act as they do\n- Consequences: Logical results of actions and choices\n- Continuity: Consistency with established story elements\n- Pacing: Appropriate rhythm for story development\n- Stakes: Clear understanding of what matters in the scene\n- Progression: Sense of forward movement in the narrative\n- Clarity: Easy to follow story logic and character relationships\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"narrative_cohesion\"\n- Add \"story_structure\" field outlining the scene's narrative purpose\n- Add \"character_motivations\" field explaining why characters act as they do\n- Add \"narrative_improvements\" array listing story enhancements\n- Enhance character actions, dialogue, and scene description for better story flow`\n      },\n\n      technicalExcellence: {\n        name: \"Technical Excellence\",\n        description: \"Optimize all technical specifications for professional production quality\",\n        systemPrompt: `Optimize this prompt to achieve the highest possible technical and production quality while maintaining creative intent.\n\nTECHNICAL EXCELLENCE GUIDELINES:\n- Ensure all camera specifications are professionally calibrated\n- Optimize lighting setups for maximum visual quality\n- Refine color grading and post-processing specifications\n- Enhance audio design elements for immersive experience\n- Improve technical consistency across all elements\n- Add professional-grade details that improve AI generation\n- Consider real-world production constraints and best practices\n\nTECHNICAL OPTIMIZATION AREAS:\n\nCamera Excellence:\n- Professional focal lengths and aperture settings\n- Sophisticated camera movements and angles\n- Proper depth of field for narrative focus\n- Frame composition following cinematic principles\n- Stable, motivated camera work\n\nLighting Mastery:\n- Three-point lighting or advanced setups\n- Motivated lighting sources and shadows\n- Color temperature consistency\n- Dramatic lighting that supports mood\n- Professional light quality and direction\n\nAudio Design:\n- Ambient sound that enhances immersion\n- Music that supports narrative and emotion\n- Sound effects that add realism\n- Dialogue clarity and placement\n- Audio mixing that supports the visual story\n\nPost-Production:\n- Color grading that enhances mood and story\n- Visual effects that integrate seamlessly\n- Motion blur and technical effects used appropriately\n- Filters and processing that enhance rather than distract\n- Professional finishing touches\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"technical_excellence\"\n- Add \"technical_upgrades\" array listing all technical improvements\n- Add \"production_notes\" field with professional implementation guidance\n- Enhance ALL technical fields (camera, lighting, audio, post-processing)\n- Add specific technical specifications that guide professional execution`\n      },\n\n      enhance: {\n        name: \"Enhance Quality\",\n        description: \"Improve clarity, creativity, and overall quality\",\n        systemPrompt: `Optimize this prompt to improve overall quality, clarity, and creative impact while maintaining the original intent.\n\nENHANCEMENT GUIDELINES:\n- Improve clarity and descriptiveness of all elements\n- Add creative details that enhance visual storytelling\n- Ensure all fields work harmoniously together\n- Suggest better camera angles, lighting, or composition\n- Maintain the original intent while elevating quality\n- Add professional touches that improve AI generation\n- Balance creativity with technical feasibility\n\nENHANCEMENT AREAS:\n- Scene Description: More vivid, specific, and engaging descriptions\n- Character Details: Enhanced physical and emotional characteristics\n- Visual Composition: Better framing, angles, and visual hierarchy\n- Lighting: More sophisticated and mood-appropriate lighting\n- Color Palette: Harmonious colors that support the narrative\n- Technical Specs: Professional-grade camera and audio settings\n- Narrative Elements: Stronger story beats and character motivations\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"enhance\"\n- Add \"quality_improvements\" array listing key enhancements\n- Add \"creative_additions\" field describing artistic improvements\n- Enhance descriptiveness and specificity of all fields`\n      },\n\n      platform: {\n        name: \"Platform Optimize\",\n        description: \"Optimize for specific platform requirements\",\n        systemPrompt: `Optimize this prompt for maximum performance on the target platform, considering platform-specific requirements, audience expectations, and technical constraints.\n\nPLATFORM OPTIMIZATION GUIDELINES:\n- Adapt aspect ratio and duration for platform best practices\n- Optimize content for platform-specific audience engagement patterns\n- Consider platform algorithms and ranking factors\n- Adjust technical specifications for optimal platform performance\n- Enhance elements that perform well on the target platform\n- Add platform-specific engagement strategies\n\nPLATFORM-SPECIFIC OPTIMIZATIONS:\n\nYouTube Optimization:\n- 16:9 aspect ratio for standard content\n- Engaging thumbnails and visual hooks\n- Strong opening moments to retain viewers\n- Content optimized for watch time and engagement\n- SEO-friendly descriptions and metadata\n\nTikTok/Instagram Reels Optimization:\n- 9:16 vertical aspect ratio\n- Quick, attention-grabbing opening\n- Trending audio and visual elements\n- Fast-paced, dynamic content\n- Mobile-first visual design\n\nInstagram Feed Optimization:\n- Square (1:1) or vertical (4:5) aspect ratios\n- Aesthetic consistency with brand/style\n- High visual appeal for scrolling feed\n- Story-driven content that encourages engagement\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"platform\"\n- Add \"target_platform\" field specifying the platform\n- Add \"platform_adaptations\" array listing specific changes made\n- Update aspect_ratio, duration, and technical specs for platform\n- Add \"engagement_strategy\" field explaining platform-specific optimizations`\n      },\n\n      style: {\n        name: \"Style Match\",\n        description: \"Match and enhance your creative style preferences\",\n        systemPrompt: `Optimize this prompt to match and enhance the user's preferred creative style, aesthetic preferences, and artistic influences while improving overall quality.\n\nSTYLE MATCHING GUIDELINES:\n- Apply user's preferred creative style consistently\n- Match preferred directors/influences and their techniques\n- Incorporate preferred themes and aesthetic elements\n- Ensure consistency with user's artistic vision\n- Enhance style elements while maintaining authenticity\n- Add sophisticated touches that elevate the chosen style\n\nSTYLE ENHANCEMENT AREAS:\n- Visual Aesthetic: Color palettes, composition, and visual mood\n- Cinematic Techniques: Camera work, lighting, and movement\n- Narrative Style: Storytelling approach and character development\n- Technical Approach: Production values and technical execution\n- Thematic Elements: Underlying themes and artistic messages\n- Cultural References: Style-appropriate references and influences\n\nSTYLE CATEGORIES:\n- Cinematic Styles: Film noir, neo-noir, art house, blockbuster\n- Visual Styles: Minimalist, maximalist, vintage, futuristic\n- Color Styles: Monochromatic, vibrant, muted, high contrast\n- Movement Styles: Static, dynamic, smooth, kinetic\n- Lighting Styles: Natural, dramatic, soft, hard\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"style\"\n- Add \"style_elements\" array listing applied style characteristics\n- Add \"aesthetic_enhancements\" field describing visual style improvements\n- Add \"stylistic_influences\" field noting relevant artistic references\n- Enhance all fields to match the specified style consistently`\n      },\n\n      viral: {\n        name: \"Viral Potential\",\n        description: \"Maximize shareability and engagement potential\",\n        systemPrompt: `Optimize this prompt to maximize viral potential, shareability, and audience engagement while maintaining quality and authenticity.\n\nVIRAL OPTIMIZATION GUIDELINES:\n- Identify elements that could increase shareability\n- Add hooks or surprising elements that encourage rewatching\n- Incorporate trending visual styles or themes\n- Create moments that invite audience participation\n- Balance viral potential with authentic storytelling\n- Add elements that encourage social media sharing\n\nVIRAL CONTENT STRATEGIES:\n- Hook Elements: Strong opening moments that grab attention immediately\n- Surprise Factors: Unexpected twists or reveals that encourage sharing\n- Emotional Triggers: Content that evokes strong emotional responses\n- Participatory Elements: Content that invites audience interaction\n- Trending Elements: Current cultural references or viral formats\n- Memorable Moments: Distinctive scenes that stick in viewers' minds\n- Shareability Factors: Content that people want to show others\n\nENGAGEMENT MAXIMIZERS:\n- Visual Appeal: Eye-catching visuals that stop the scroll\n- Emotional Connection: Content that resonates on a personal level\n- Curiosity Gaps: Elements that make viewers want to see more\n- Social Currency: Content that makes viewers look good for sharing\n- Conversation Starters: Elements that encourage comments and discussion\n- Accessibility: Content that's easy to understand and relate to\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"viral\"\n- Add \"viral_elements\" array listing shareability enhancements\n- Add \"engagement_hooks\" field describing attention-grabbing moments\n- Add \"trending_adaptations\" field noting current cultural relevance\n- Add \"shareability_factors\" field explaining why this content will spread`\n      },\n\n      technical: {\n        name: \"Technical Polish\",\n        description: \"Optimize technical specifications and production quality\",\n        systemPrompt: `Optimize this prompt for maximum technical excellence, professional production quality, and flawless execution across all technical specifications.\n\nTECHNICAL POLISH GUIDELINES:\n- Optimize all camera settings for professional quality\n- Enhance lighting specifications for maximum visual impact\n- Refine audio elements for immersive sound design\n- Improve post-production specifications\n- Ensure technical consistency across all elements\n- Add professional-grade details that improve AI generation quality\n\nTECHNICAL OPTIMIZATION AREAS:\n\nCamera Technical Excellence:\n- Professional focal lengths and aperture settings\n- Sophisticated camera movements and stabilization\n- Proper depth of field for narrative focus\n- Advanced composition techniques\n- Professional framing and aspect ratios\n\nLighting Technical Mastery:\n- Professional lighting setups and ratios\n- Color temperature consistency and motivation\n- Advanced lighting techniques (practical, ambient, key)\n- Shadow control and light quality\n- Professional lighting equipment specifications\n\nAudio Technical Excellence:\n- Professional microphone placement and selection\n- Ambient sound design and atmosphere\n- Music integration and mixing levels\n- Sound effects precision and realism\n- Audio post-processing specifications\n\nVisual Effects and Post-Production:\n- Color grading and color science\n- Visual effects integration\n- Motion blur and technical effects\n- Professional finishing and polish\n- Export specifications and quality standards\n\nReturn optimized JSON with these additions:\n- Add \"optimization_type\" field with value \"technical\"\n- Add \"technical_specifications\" array listing all technical improvements\n- Add \"production_requirements\" field outlining professional needs\n- Add \"quality_standards\" field defining technical excellence criteria\n- Enhance ALL technical fields with professional-grade specifications`\n      }\n    },\n\n    // Quick optimization modes for rapid enhancement\n    quickModes: {\n      clarity: \"Improve clarity and readability of all elements\",\n      creativity: \"Enhance creative and artistic elements\",\n      engagement: \"Maximize audience engagement and interest\",\n      professionalism: \"Add professional polish and technical quality\",\n      storytelling: \"Strengthen narrative and character elements\"\n    }\n  },\n\n  // SHARED UTILITY PROMPTS\n  utilities: {\n    \n    jsonValidation: `Ensure the returned JSON is properly formatted and contains all required fields. If any field is missing from the original, preserve the structure by including it with an appropriate default value.`,\n    \n    contextPreservation: `Maintain consistency with any provided scene history or user preferences. If this is part of a sequence, ensure continuity with previous scenes.`,\n    \n    errorRecovery: `If you cannot process the request as specified, return the original JSON with minimal enhancements and include an \"ai_message\" field explaining the limitation.`,\n    \n    creativeBoundaries: `Stay within the bounds of the specified creative direction while maximizing quality and impact. Do not fundamentally change the user's creative vision unless explicitly requested.`\n  }\n};\n\n// Helper function to build complete prompts\nexport const buildPrompt = (type, mode, originalJSON, additionalContext = {}) => {\n  const prompts = AI_SYSTEM_PROMPTS[type];\n  if (!prompts) throw new Error(`Unknown prompt type: ${type}`);\n  \n  let systemPrompt = prompts.baseContext;\n  \n  if (type === 'sceneExtender') {\n    const continuationType = prompts.continuationTypes[mode];\n    if (!continuationType) throw new Error(`Unknown continuation type: ${mode}`);\n    systemPrompt += `\\n\\n${continuationType.systemPrompt}`;\n  } else if (type === 'optimizer') {\n    const optimizationMode = prompts.optimizationModes[mode];\n    if (!optimizationMode) throw new Error(`Unknown optimization mode: ${mode}`);\n    systemPrompt += `\\n\\n${optimizationMode.systemPrompt}`;\n  }\n  \n  // Add utility prompts\n  systemPrompt += `\\n\\n${AI_SYSTEM_PROMPTS.utilities.jsonValidation}`;\n  systemPrompt += `\\n\\n${AI_SYSTEM_PROMPTS.utilities.contextPreservation}`;\n  systemPrompt += `\\n\\n${AI_SYSTEM_PROMPTS.utilities.creativeBoundaries}`;\n  \n  // Add original JSON\n  systemPrompt += `\\n\\nORIGINAL JSON:\\n${JSON.stringify(originalJSON, null, 2)}`;\n  \n  // Add additional context if provided\n  if (Object.keys(additionalContext).length > 0) {\n    systemPrompt += `\\n\\nADDITIONAL CONTEXT:\\n${JSON.stringify(additionalContext, null, 2)}`;\n  }\n  \n  return systemPrompt;\n};\n\n// Export continuation type metadata for UI\nexport const CONTINUATION_TYPES = Object.keys(AI_SYSTEM_PROMPTS.sceneExtender.continuationTypes).map(key => ({\n  id: key,\n  name: AI_SYSTEM_PROMPTS.sceneExtender.continuationTypes[key].name,\n  description: AI_SYSTEM_PROMPTS.sceneExtender.continuationTypes[key].description\n}));\n\n// Export optimization mode metadata for UI\nexport const OPTIMIZATION_MODES = Object.keys(AI_SYSTEM_PROMPTS.optimizer.optimizationModes).map(key => ({\n  id: key,\n  name: AI_SYSTEM_PROMPTS.optimizer.optimizationModes[key].name,\n  description: AI_SYSTEM_PROMPTS.optimizer.optimizationModes[key].description\n}));","// Hybrid Groq + OpenAI API Service for JSON Prompt Studio\n// Comprehensive error handling, retry logic, and fallback systems\n\nimport { buildPrompt } from './aiSystemPrompts.js';\n\nclass AIApiService {\n  constructor() {\n    this.groqApiKey = null;\n    this.openaiApiKey = null;\n    this.groqBaseURL = 'https://api.groq.com/openai/v1/chat/completions';\n    this.openaiBaseURL = 'https://api.openai.com/v1/chat/completions';\n    this.maxRetries = 3;\n    this.retryDelay = 1000; // ms\n    this.timeout = 30000; // 30 seconds\n    this.rateLimitDelay = 2000; // ms between requests\n    this.lastRequestTime = 0;\n    \n    // Initialize API keys from environment or localStorage\n    this.initializeApiKeys();\n  }\n\n  initializeApiKeys(envVars = null) {\n    // Try to get API keys from provided environment variables or import.meta.env\n    let groqFromEnv, openaiFromEnv;\n    \n    if (envVars) {\n      // Use provided environment variables (passed from component that has access)\n      groqFromEnv = envVars.VITE_GROQ_API_KEY;\n      openaiFromEnv = envVars.VITE_OPENAI_API_KEY;\n    } else {\n      // Fallback to import.meta.env (might be undefined in some contexts)\n      groqFromEnv = import.meta?.env?.VITE_GROQ_API_KEY;\n      openaiFromEnv = import.meta?.env?.VITE_OPENAI_API_KEY;\n    }\n    \n    this.groqApiKey = groqFromEnv || null;\n    this.openaiApiKey = openaiFromEnv || null;\n    \n    // If not in environment, try localStorage (for user-provided keys)\n    if (typeof window !== 'undefined') {\n      if (!this.groqApiKey) {\n        this.groqApiKey = localStorage.getItem('groq_api_key');\n      }\n      if (!this.openaiApiKey) {\n        this.openaiApiKey = localStorage.getItem('openai_api_key');\n      }\n    }\n    \n    // Development logging\n    if (import.meta?.env?.DEV) {\n      console.log('🔑 API Keys initialized:', {\n        groq: !!this.groqApiKey,\n        openai: !!this.openaiApiKey\n      });\n    }\n  }\n\n  setGroqApiKey(key) {\n    this.groqApiKey = key;\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('groq_api_key', key);\n    }\n  }\n\n  setOpenaiApiKey(key) {\n    this.openaiApiKey = key;\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('openai_api_key', key);\n    }\n  }\n\n  // Legacy method for backward compatibility\n  setApiKey(key) {\n    this.setGroqApiKey(key);\n  }\n\n  getGroqApiKey() {\n    return this.groqApiKey;\n  }\n\n  getOpenaiApiKey() {\n    return this.openaiApiKey;\n  }\n\n  // Legacy method for backward compatibility  \n  getApiKey() {\n    return this.groqApiKey || this.openaiApiKey;\n  }\n\n  hasGroqApiKey() {\n    return !!this.groqApiKey;\n  }\n\n  hasOpenaiApiKey() {\n    return !!this.openaiApiKey;\n  }\n\n  // Legacy method for backward compatibility\n  hasApiKey() {\n    return this.hasGroqApiKey() || this.hasOpenaiApiKey();\n  }\n\n  // Rate limiting to prevent API abuse\n  async enforceRateLimit() {\n    const now = Date.now();\n    const timeSinceLastRequest = now - this.lastRequestTime;\n    \n    if (timeSinceLastRequest < this.rateLimitDelay) {\n      const waitTime = this.rateLimitDelay - timeSinceLastRequest;\n      await new Promise(resolve => setTimeout(resolve, waitTime));\n    }\n    \n    this.lastRequestTime = Date.now();\n  }\n\n  // Helper function to clean and parse JSON responses\n  parseJsonResponse(content) {\n    try {\n      // Clean the response to extract JSON\n      let cleanedResponse = content.trim();\n      \n      // Remove markdown code blocks if present\n      cleanedResponse = cleanedResponse.replace(/```json\\s*/gi, '').replace(/```\\s*$/gi, '');\n      cleanedResponse = cleanedResponse.replace(/```\\s*/gi, '');\n      \n      // Find JSON object boundaries\n      const jsonStart = cleanedResponse.indexOf('{');\n      const jsonEnd = cleanedResponse.lastIndexOf('}');\n      \n      if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {\n        cleanedResponse = cleanedResponse.substring(jsonStart, jsonEnd + 1);\n      }\n      \n      return JSON.parse(cleanedResponse);\n    } catch (parseError) {\n      console.error('JSON parsing error:', parseError);\n      console.error('Original content:', content);\n      throw new Error('AI returned invalid JSON format. Please try again.');\n    }\n  }\n\n  // Core API request with comprehensive error handling - supports both Groq and OpenAI\n  async makeRequest(messages, options = {}) {\n    // Determine which provider to use\n    const useOpenAI = options.forceOpenAI || options.model?.includes('gpt-');\n    const provider = useOpenAI ? 'openai' : 'groq';\n    \n    // Enhanced debug logging for testing\n    if (import.meta?.env?.DEV) {\n      console.log(`🤖 AI Provider: ${provider.toUpperCase()}`);\n      console.log(`📝 Request: ${messages[0]?.content?.substring(0, 100)}...`);\n      console.log(`⚙️ Options:`, { \n        model: options.model, \n        forceOpenAI: options.forceOpenAI,\n        temperature: options.temperature \n      });\n    }\n    \n    // Check if we have the required API key\n    if (useOpenAI && !this.hasOpenaiApiKey()) {\n      throw new Error('OpenAI API key is required for this operation. Please set your OpenAI API key in settings.');\n    }\n    if (!useOpenAI && !this.hasGroqApiKey()) {\n      throw new Error('Groq API key is required. Please set your Groq API key in settings.');\n    }\n\n    await this.enforceRateLimit();\n\n    // Select appropriate model and API details\n    const baseURL = useOpenAI ? this.openaiBaseURL : this.groqBaseURL;\n    const apiKey = useOpenAI ? this.openaiApiKey : this.groqApiKey;\n    const defaultModel = useOpenAI ? 'gpt-4o-mini' : 'gemma2-9b-it';\n\n    const requestPayload = {\n      model: options.model || defaultModel,\n      messages: messages,\n      max_tokens: options.maxTokens || 2000,\n      temperature: options.temperature || 0.7,\n      top_p: options.topP || 1,\n      frequency_penalty: options.frequencyPenalty || 0,\n      presence_penalty: options.presencePenalty || 0,\n      ...options.additionalParams\n    };\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${apiKey}`\n      },\n      body: JSON.stringify(requestPayload),\n      signal: AbortSignal.timeout(options.timeout || this.timeout)\n    };\n\n    let lastError;\n    \n    for (let attempt = 1; attempt <= this.maxRetries; attempt++) {\n      try {\n        if (import.meta?.env?.DEV) console.log(`${provider.toUpperCase()} API Request attempt ${attempt}/${this.maxRetries}`);\n        \n        const response = await fetch(baseURL, requestOptions);\n        \n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          throw new APIError(\n            response.status,\n            errorData.error?.message || `HTTP ${response.status}`,\n            errorData.error?.type,\n            attempt === this.maxRetries // isLastAttempt\n          );\n        }\n\n        const data = await response.json();\n        \n        if (!data.choices || !data.choices[0] || !data.choices[0].message) {\n          throw new Error(`Invalid response format from ${provider.toUpperCase()} API`);\n        }\n\n        // Success logging\n        if (import.meta?.env?.DEV) {\n          console.log(`✅ ${provider.toUpperCase()} Success:`, {\n            model: data.model,\n            usage: data.usage,\n            responseLength: data.choices[0].message.content.length\n          });\n        }\n\n        return {\n          content: data.choices[0].message.content,\n          usage: data.usage,\n          model: data.model,\n          finishReason: data.choices[0].finish_reason\n        };\n\n      } catch (error) {\n        lastError = error;\n        console.warn(`AI API Request attempt ${attempt} failed:`, error.message);\n        \n        // Don't retry on certain error types\n        if (error instanceof APIError) {\n          if (error.shouldNotRetry()) {\n            throw error;\n          }\n        }\n        \n        if (error.name === 'AbortError') {\n          throw new Error('Request timed out. Please try again.');\n        }\n\n        // Wait before retrying (exponential backoff)\n        if (attempt < this.maxRetries) {\n          const delay = this.retryDelay * Math.pow(2, attempt - 1);\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n    }\n\n    throw lastError || new Error('All retry attempts failed');\n  }\n\n  // Scene Extension API\n  async extendScene(originalScene, continuationType, additionalContext = {}) {\n    try {\n      const systemPrompt = buildPrompt('sceneExtender', continuationType, originalScene, additionalContext);\n      \n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: 'Please create the continuation scene as specified in the system instructions.'\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: this.getTemperatureForContinuationType(continuationType),\n        maxTokens: 2500,\n        timeout: 90000 // 90 seconds for complex scene extensions\n      });\n\n      return {\n        success: true,\n        scene: response.content,\n        continuationType: continuationType,\n        usage: response.usage,\n        metadata: {\n          originalSceneFields: Object.keys(originalScene).length,\n          processingTime: Date.now(),\n          model: response.model\n        }\n      };\n\n    } catch (error) {\n      console.error('Scene extension failed:', error);\n      return this.handleSceneExtensionError(error, originalScene, continuationType);\n    }\n  }\n\n  // Simple Scene Extension API - Returns plain text summary + updated JSON\n  async extendSceneSimple(originalScene, extensionType) {\n    try {\n      // Wait for rate limiting\n      await this.enforceRateLimit();\n      \n      const prompt = this.buildSimpleExtensionPrompt(originalScene, extensionType);\n      \n      const messages = [\n        {\n          role: 'system',\n          content: prompt\n        },\n        {\n          role: 'user',\n          content: `Extend this scene with a ${extensionType}:\\n\\n${JSON.stringify(originalScene, null, 2)}`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.7,\n        maxTokens: 1500,\n        timeout: 90000 // 90 seconds for scene extensions\n      });\n\n      const result = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        summary: result.summary,\n        updatedJson: result.json,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error(`Simple scene extension error (${extensionType}):`, error);\n      \n      return {\n        success: false,\n        error: error.message,\n        summary: `Failed to generate ${extensionType}. Please try again.`,\n        updatedJson: originalScene\n      };\n    }\n  }\n\n  // Generate 5 Scene Options API - Returns array of 5 different scene extensions\n  async generateSceneOptions(originalScene, count = 5) {\n    try {\n      // Wait for rate limiting\n      await this.enforceRateLimit();\n      \n      const prompt = this.build5OptionsPrompt(originalScene, count);\n      \n      const messages = [\n        {\n          role: 'system',\n          content: prompt\n        },\n        {\n          role: 'user',\n          content: `Generate ${count} different scene extensions for:\\n\\n${JSON.stringify(originalScene, null, 2)}`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.8,\n        maxTokens: 2500,\n        timeout: 90000 // 90 seconds for generating multiple scene options\n      });\n\n      const result = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        options: result.options,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error('5 Options generation error:', error);\n      \n      return {\n        success: false,\n        error: error.message,\n        options: []\n      };\n    }\n  }\n\n  // Build 5 options generation prompt\n  build5OptionsPrompt(originalScene, count) {\n    return `You are a creative AI assistant that generates multiple scene continuation options for video scenes.\n\nYour task is to create ${count} DIFFERENT and DISTINCT scene extensions from the given JSON scene.\n\nReturn your response in this EXACT JSON format:\n{\n  \"options\": [\n    {\n      \"type\": \"Continue\",\n      \"icon\": \"🔗\", \n      \"summary\": \"1-2 sentence plain English description\",\n      \"json\": { /* complete updated JSON scene */ }\n    },\n    {\n      \"type\": \"Twist\",\n      \"icon\": \"🌪️\",\n      \"summary\": \"1-2 sentence plain English description\", \n      \"json\": { /* complete updated JSON scene */ }\n    },\n    // ... ${count} total options\n  ]\n}\n\nGenerate exactly ${count} options with these types:\n1. **Continue** (🔗) - Natural, logical progression\n2. **Twist** (🌪️) - Unexpected plot development  \n3. **Develop** (👤) - Character-focused emotional depth\n4. **Surprise** (✨) - Creative unexpected element\n5. **Escalate** (🔥) - Increase tension/drama\n\nREQUIREMENTS:\n- Each option must be significantly different from others\n- Each must have a compelling, readable summary\n- Each JSON must be complete and valid\n- Preserve core scene elements while adding extensions\n- Make summaries engaging and clear for user selection`;\n  }\n\n  // Build simple extension prompts (keeping for backward compatibility)\n  buildSimpleExtensionPrompt(originalScene, extensionType) {\n    const basePrompt = `You are a creative AI assistant that helps extend video scene descriptions. \n\nYour task is to take a JSON scene description and extend it with a ${extensionType}.\n\nReturn your response in this EXACT JSON format:\n{\n  \"summary\": \"A 1-2 sentence plain English description of what you added/changed\",\n  \"json\": { /* the complete updated JSON scene */ }\n}\n\nGuidelines for ${extensionType}:`;\n\n    const typeSpecificGuidelines = {\n      continue: `\n- Create a natural, logical progression of the current scene\n- Add new action or developments that feel like the next moment\n- Keep the same characters, setting, and tone\n- Example summary: \"The character walks toward the mysterious door and slowly opens it.\"`,\n\n      twist: `\n- Add an unexpected element that changes the scene's direction\n- Keep it believable within the scene's context\n- Can introduce new elements, revelations, or surprises\n- Example summary: \"A hidden trapdoor suddenly opens beneath the character's feet.\"`,\n\n      develop: `\n- Focus on character emotions, motivations, or backstory\n- Add internal thoughts, reactions, or character-driven details\n- Deepen the psychological or emotional aspects\n- Example summary: \"The character hesitates, remembering their childhood fear of dark spaces.\"`\n    };\n\n    return basePrompt + typeSpecificGuidelines[extensionType] + `\n\nIMPORTANT: \n- Always include both \"summary\" and \"json\" fields in your response\n- The JSON must be valid and complete\n- Keep the summary concise but descriptive\n- Preserve the original scene's core elements while adding your extension`;\n  }\n\n  // Prompt Optimization API\n  async optimizePrompt(originalPrompt, optimizationMode, userPreferences = {}) {\n    try {\n      const systemPrompt = buildPrompt('optimizer', optimizationMode, originalPrompt, { \n        userPreferences,\n        targetPlatform: userPreferences.platform || 'video'\n      });\n\n      const messages = [\n        {\n          role: 'system', \n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: 'Please optimize this prompt according to the specified mode and return the enhanced JSON.'\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: this.getTemperatureForOptimizationMode(optimizationMode),\n        maxTokens: 3000\n      });\n\n      return {\n        success: true,\n        optimizedPrompt: response.content,\n        optimizationMode: optimizationMode,\n        usage: response.usage,\n        metadata: {\n          originalPromptFields: Object.keys(originalPrompt).length,\n          processingTime: Date.now(),\n          model: response.model\n        }\n      };\n\n    } catch (error) {\n      console.error('Prompt optimization failed:', error);\n      return this.handleOptimizationError(error, originalPrompt, optimizationMode);\n    }\n  }\n\n  // Character Generation API (legacy method)\n  async generateCharacter(name, trait) {\n    try {\n      const systemPrompt = `You are an expert character creator for video and storytelling. Generate a complete, detailed character based on the provided name and primary trait.\n\nCreate a character with:\n- Rich physical appearance details\n- Deep personality traits and quirks\n- Compelling background/backstory\n- Unique mannerisms or speech patterns\n- How they would integrate into video scenes\n\nReturn your response in this EXACT JSON format:\n{\n  \"name\": \"${name}\",\n  \"appearance\": \"Detailed physical description including clothing, build, distinctive features\",\n  \"personality\": \"Core personality traits, motivations, fears, desires\",\n  \"background\": \"Personal history, occupation, important life events\",\n  \"quirks\": \"Unique mannerisms, speech patterns, or behavioral traits\",\n  \"sceneIntegration\": {\n    \"acting_style\": \"How they move and behave on camera\",\n    \"dialogue_style\": \"How they speak (formal, casual, accent, etc.)\",\n    \"emotional_range\": \"Their typical emotional expressions\"\n  }\n}\n\nCharacter Details:\n- Name: ${name}\n- Primary Trait: ${trait}\n\nMake the character feel authentic, three-dimensional, and visually interesting for video production.`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: `Create a ${trait} character named ${name}.`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.8,\n        maxTokens: 1500\n      });\n\n      const character = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        character: character,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error('Character generation error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to generate character',\n        character: null\n      };\n    }\n  }\n\n  // Enhanced Character Generation from Free-form Text\n  async generateCharacterFromText(description) {\n    try {\n      const systemPrompt = `You are an expert character creator for video and storytelling. Generate a complete, detailed character based on the provided free-form description.\n\nParse the description and create a character with:\n- Rich physical appearance details\n- Deep personality traits and quirks  \n- Compelling background/backstory\n- Unique mannerisms or speech patterns\n- How they would integrate into video scenes\n- Form field mappings for easy editing\n\nReturn your response in this EXACT JSON format:\n{\n  \"name\": \"Character name (extract or create from description)\",\n  \"appearance\": \"Detailed physical description including clothing, build, distinctive features\",\n  \"personality\": \"Core personality traits, motivations, fears, desires\", \n  \"background\": \"Personal history, occupation, important life events\",\n  \"quirks\": \"Unique mannerisms, speech patterns, or behavioral traits\",\n  \"sceneIntegration\": {\n    \"acting_style\": \"How they move and behave on camera\",\n    \"dialogue_style\": \"How they speak (formal, casual, accent, etc.)\",\n    \"emotional_range\": \"Their typical emotional expressions\"\n  },\n  \"formFieldMappings\": {\n    \"character\": \"Primary character name\",\n    \"age\": \"Character age (if mentioned or inferred)\",\n    \"personality\": \"Brief personality summary\",\n    \"clothing\": \"Main clothing/style description\",\n    \"hair\": \"Hair description\",\n    \"build\": \"Body build/physique\",\n    \"occupation\": \"Job or role\",\n    \"distinctive_features\": \"Notable physical features\",\n    \"mannerisms\": \"Key behavioral traits\",\n    \"speech_pattern\": \"How they talk\",\n    \"motivation\": \"Primary drive/goal\",\n    \"fear\": \"Main fear or weakness\"\n  }\n}\n\nCharacter Description: ${description}\n\nExtract details from the description and expand them into a full character. If details are missing, create appropriate ones that fit the description's tone and style. Make the character feel authentic, three-dimensional, and visually interesting for video production.`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: `Create a character from this description: ${description}`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.8,\n        maxTokens: 2000\n      });\n\n      const character = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        character: character,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error('Character from text generation error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to generate character from description',\n        character: null\n      };\n    }\n  }\n\n  // World Building API\n  async generateWorld(currentScene, expansionType) {\n    try {\n      const systemPrompt = `You are an expert world builder for video and storytelling. Analyze the provided scene and create a rich world expansion based on the requested type.\n\nCurrent Scene Context:\n${JSON.stringify(currentScene, null, 2)}\n\nExpansion Type: ${expansionType}\n\nReturn your response in this EXACT JSON format based on expansion type:\n\nFor \"full\" expansion:\n{\n  \"name\": \"World/Setting name\",\n  \"lore\": \"Rich backstory and history of this world\",\n  \"rules\": \"How this world works, what makes it unique\",\n  \"atmosphere\": \"Overall mood and environmental feeling\",\n  \"culture\": \"Social norms, customs, way of life\",\n  \"locations\": [\n    {\n      \"name\": \"Location name\",\n      \"description\": \"Detailed description\",\n      \"atmosphere\": \"Mood and feeling\",\n      \"details\": \"Specific visual and environmental elements\"\n    }\n  ]\n}\n\nFor \"locations\" expansion:\n{\n  \"locations\": [\n    {\n      \"name\": \"Location name\",\n      \"description\": \"Detailed description\",\n      \"atmosphere\": \"Mood and feeling\", \n      \"details\": \"Specific visual and environmental elements\",\n      \"relationship\": \"How this connects to the original scene\"\n    }\n  ]\n}\n\nFor \"lore\" expansion:\n{\n  \"lore\": \"Rich backstory and history\",\n  \"culture\": \"Social norms and customs\",\n  \"significance\": \"Why this matters to the story\"\n}\n\nFor \"atmosphere\" expansion:\n{\n  \"atmosphere\": \"Enhanced atmospheric description\",\n  \"sounds\": \"Environmental and ambient sounds\",\n  \"lighting\": \"Detailed lighting and mood elements\",\n  \"weather\": \"Weather and climate effects\"\n}\n\nCreate a world that feels lived-in, authentic, and visually compelling for video production.`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: `Generate a ${expansionType} world expansion for this scene.`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.7,\n        maxTokens: 2000\n      });\n\n      const world = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        world: world,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error('World generation error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to generate world',\n        world: null\n      };\n    }\n  }\n\n  // Storyboard Generation API\n  async generateStyleSuggestion(currentScene) {\n    try {\n      const systemPrompt = `You are an expert cinematographer and film style consultant. Analyze the provided scene and generate intelligent style recommendations that would enhance the visual storytelling.\n\nCurrent Scene Context:\n${JSON.stringify(currentScene, null, 2)}\n\nBased on the scene's content, mood, genre, and setting, suggest appropriate:\n- Cinematography style and techniques\n- Color palette and lighting approach\n- Camera movement and framing\n- Overall visual mood and atmosphere\n- Specific technical recommendations\n\nReturn your response in this EXACT JSON format:\n{\n  \"cinematography_style\": \"specific cinematography approach and techniques\",\n  \"color_palette\": \"recommended color scheme and palette\",\n  \"lighting_approach\": \"lighting style and setup recommendations\", \n  \"camera_movement\": \"recommended camera movements and techniques\",\n  \"visual_mood\": \"overall visual atmosphere and tone\",\n  \"framing_style\": \"shot composition and framing approach\",\n  \"technical_notes\": \"specific equipment or technique suggestions\"\n}\n\nFocus on practical, actionable recommendations that match the scene's narrative needs.`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: `Analyze this scene and provide smart cinematographic style suggestions that would enhance the visual storytelling.`\n        }\n      ];\n\n      const response = await this.makeRequest(messages);\n      \n      if (response.success) {\n        return {\n          success: true,\n          style: response.data\n        };\n      } else {\n        return {\n          success: false,\n          error: response.error\n        };\n      }\n    } catch (error) {\n      console.error('Style suggestion generation error:', error);\n      return {\n        success: false,\n        error: 'Failed to generate style suggestions. Please try again.'\n      };\n    }\n  }\n\n  async generateStoryboard(currentScene, sceneCount, narrativeStructure) {\n    try {\n      const systemPrompt = `You are an expert storyboard creator and narrative designer. Create a compelling ${sceneCount}-scene sequence using ${narrativeStructure} structure, building from the provided starting scene.\n\nStarting Scene:\n${JSON.stringify(currentScene, null, 2)}\n\nCreate ${sceneCount} scenes that form a complete narrative arc using ${narrativeStructure} structure.\n\nReturn your response in this EXACT JSON format:\n{\n  \"title\": \"Compelling title for this story sequence\",\n  \"structure\": \"${narrativeStructure}\",\n  \"scenes\": [\n    {\n      \"title\": \"Scene title\",\n      \"position\": \"opening|development|climax|resolution|transition\",\n      \"description\": \"Detailed scene description for video production\",\n      \"context\": \"How this scene connects to the overall story\",\n      \"sceneData\": {\n        \"scene\": \"Complete scene description\",\n        \"setting\": \"Location/environment\",\n        \"character_action\": \"What characters are doing\",\n        \"mood\": \"Emotional tone\",\n        \"camera_work\": \"Suggested camera angles/movements\",\n        \"lighting\": \"Lighting suggestions\",\n        \"pacing\": \"Scene rhythm and timing\"\n      }\n    }\n  ]\n}\n\nStructure Guidelines:\n- three-act: Setup → Conflict → Resolution  \n- hero-journey: Call → Challenge → Return\n- tension-build: Calm → Rising tension → Climax\n- character-arc: Introduction → Development → Transformation\n- mystery: Question → Investigation → Revelation\n\nMake each scene visually distinct, emotionally engaging, and suitable for video production.`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: `Create a ${sceneCount}-scene storyboard using ${narrativeStructure} structure.`\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        temperature: 0.8,\n        maxTokens: 3000\n      });\n\n      const storyboard = this.parseJsonResponse(response.content);\n      \n      return {\n        success: true,\n        storyboard: storyboard,\n        usage: response.usage\n      };\n\n    } catch (error) {\n      console.error('Storyboard generation error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to generate storyboard',\n        storyboard: null\n      };\n    }\n  }\n\n  // Multi-scene extension for timeline building\n  async extendMultipleScenes(scenes, globalContext = {}) {\n    const results = [];\n    \n    for (let i = 0; i < scenes.length; i++) {\n      const scene = scenes[i];\n      const context = {\n        ...globalContext,\n        sceneIndex: i,\n        totalScenes: scenes.length,\n        previousScenes: scenes.slice(0, i)\n      };\n\n      try {\n        const result = await this.extendScene(scene.content, scene.continuationType, context);\n        results.push({\n          ...result,\n          sceneId: scene.id,\n          sceneIndex: i\n        });\n      } catch (error) {\n        results.push({\n          success: false,\n          error: error.message,\n          sceneId: scene.id,\n          sceneIndex: i\n        });\n      }\n    }\n\n    return results;\n  }\n\n  // Batch optimization for multiple prompts\n  async optimizeMultiplePrompts(prompts, sharedSettings = {}) {\n    const results = [];\n    \n    for (let i = 0; i < prompts.length; i++) {\n      const prompt = prompts[i];\n      \n      try {\n        const result = await this.optimizePrompt(\n          prompt.content, \n          prompt.optimizationMode, \n          { ...sharedSettings, ...prompt.userPreferences }\n        );\n        results.push({\n          ...result,\n          promptId: prompt.id,\n          promptIndex: i\n        });\n      } catch (error) {\n        results.push({\n          success: false,\n          error: error.message,\n          promptId: prompt.id,\n          promptIndex: i\n        });\n      }\n    }\n\n    return results;\n  }\n\n  // Error handling for scene extension\n  handleSceneExtensionError(error, originalScene, continuationType) {\n    if (error instanceof APIError) {\n      if (error.status === 401) {\n        return {\n          success: false,\n          error: 'Invalid API key. Please check your API keys in settings.',\n          fallback: null\n        };\n      } else if (error.status === 429) {\n        return {\n          success: false,\n          error: 'Rate limit exceeded. Please wait a moment before trying again.',\n          fallback: null\n        };\n      } else if (error.status === 500) {\n        return {\n          success: false,\n          error: 'AI service is temporarily unavailable. Please try again later.',\n          fallback: this.generateFallbackExtension(originalScene, continuationType)\n        };\n      }\n    }\n\n    return {\n      success: false,\n      error: error.message || 'Unknown error occurred',\n      fallback: this.generateFallbackExtension(originalScene, continuationType)\n    };\n  }\n\n  // Error handling for optimization\n  handleOptimizationError(error, originalPrompt, optimizationMode) {\n    if (error instanceof APIError) {\n      if (error.status === 401) {\n        return {\n          success: false,\n          error: 'Invalid API key. Please check your API keys in settings.',\n          fallback: null\n        };\n      } else if (error.status === 429) {\n        return {\n          success: false,\n          error: 'Rate limit exceeded. Please wait a moment before trying again.',\n          fallback: null\n        };\n      }\n    }\n\n    return {\n      success: false,\n      error: error.message || 'Unknown error occurred',\n      fallback: this.generateFallbackOptimization(originalPrompt, optimizationMode)\n    };\n  }\n\n  // Fallback scene generation when API fails\n  generateFallbackExtension(originalScene, continuationType) {\n    const fallbackExtensions = {\n      logical: {\n        continuation_type: 'logical',\n        narrative_connection: 'Automatic fallback continuation',\n        ai_message: 'This is a fallback scene generated when AI service was unavailable.'\n      },\n      twist: {\n        continuation_type: 'twist',\n        twist_type: 'unexpected_element',\n        ai_message: 'This is a fallback scene generated when AI service was unavailable.'\n      },\n      genreShift: {\n        continuation_type: 'genre_shift',\n        original_genre: 'unknown',\n        target_genre: 'enhanced',\n        ai_message: 'This is a fallback scene generated when AI service was unavailable.'\n      }\n    };\n\n    return {\n      ...originalScene,\n      ...fallbackExtensions[continuationType] || fallbackExtensions.logical\n    };\n  }\n\n  // Fallback optimization when API fails\n  generateFallbackOptimization(originalPrompt, optimizationMode) {\n    const basicEnhancements = {\n      optimization_type: optimizationMode,\n      optimization_notes: 'Basic fallback optimization applied when AI service was unavailable.',\n      ai_message: 'This is a fallback optimization generated when AI service was unavailable.'\n    };\n\n    return {\n      ...originalPrompt,\n      ...basicEnhancements\n    };\n  }\n\n  // Get appropriate temperature for different continuation types\n  getTemperatureForContinuationType(type) {\n    const temperatures = {\n      logical: 0.5,        // More deterministic for logical progression\n      twist: 0.9,          // Higher creativity for unexpected twists\n      genreShift: 0.8,     // High creativity for genre changes\n      characterDevelopment: 0.6, // Moderate creativity for character work\n      flashback: 0.7,      // Creative but grounded in character history\n      timeSkip: 0.6,       // Moderate creativity for consequence exploration\n      alternateReality: 0.9, // High creativity for parallel possibilities\n      environmentalEscalation: 0.8 // Creative environmental storytelling\n    };\n    \n    return temperatures[type] || 0.7;\n  }\n\n  // Get appropriate temperature for optimization modes\n  getTemperatureForOptimizationMode(mode) {\n    const temperatures = {\n      visualSpectacle: 0.8,     // Creative visual enhancements\n      emotionalResonance: 0.7,  // Balanced creativity for emotional depth\n      platformSpecific: 0.5,    // More deterministic for platform requirements\n      narrativeCohesion: 0.6,    // Moderate creativity for story logic\n      technicalExcellence: 0.4   // Low creativity for technical precision\n    };\n    \n    return temperatures[mode] || 0.6;\n  }\n\n  // Utility function to clean JSON responses that may be wrapped in markdown\n  cleanJsonResponse(content) {\n    if (!content || typeof content !== 'string') {\n      throw new Error('Invalid response content');\n    }\n\n    // Remove leading/trailing whitespace\n    let cleaned = content.trim();\n\n    // First, try to extract from markdown code blocks\n    const codeBlockPatterns = [\n      /```json\\s*([\\s\\S]*?)\\s*```/i,  // ```json ... ```\n      /```\\s*([\\s\\S]*?)\\s*```/i,      // ``` ... ```\n      /`([\\s\\S]*?)`/i                 // `...` (single backticks)\n    ];\n\n    for (const pattern of codeBlockPatterns) {\n      const match = cleaned.match(pattern);\n      if (match && match[1]) {\n        cleaned = match[1].trim();\n        break;\n      }\n    }\n\n    // Additional cleaning - remove any remaining markdown artifacts\n    cleaned = cleaned\n      .replace(/^```json/i, '')\n      .replace(/^```/i, '')\n      .replace(/```$/i, '')\n      .trim();\n\n    // If we still don't have JSON, try to extract JSON objects from anywhere in the text\n    if (!cleaned.startsWith('{') && !cleaned.startsWith('[')) {\n      // Try to find JSON objects anywhere in the response\n      const jsonObjectPatterns = [\n        /\\{[\\s\\S]*?\\}/,  // Find first complete JSON object\n        /\\[[\\s\\S]*?\\]/   // Find first complete JSON array\n      ];\n\n      for (const pattern of jsonObjectPatterns) {\n        const match = cleaned.match(pattern);\n        if (match && match[0]) {\n          // Try to parse it to make sure it's valid\n          try {\n            JSON.parse(match[0]);\n            cleaned = match[0];\n            break;\n          } catch (e) {\n            // Continue to next pattern if this doesn't parse\n            continue;\n          }\n        }\n      }\n    }\n\n    // More aggressive JSON extraction - find the largest JSON-like structure\n    if (!cleaned.startsWith('{') && !cleaned.startsWith('[')) {\n      // Look for balanced braces starting with {\n      const braceMatch = this.extractBalancedJson(cleaned, '{', '}');\n      if (braceMatch) {\n        try {\n          JSON.parse(braceMatch);\n          cleaned = braceMatch;\n        } catch (e) {\n          // Continue with bracket extraction\n          const bracketMatch = this.extractBalancedJson(cleaned, '[', ']');\n          if (bracketMatch) {\n            try {\n              JSON.parse(bracketMatch);\n              cleaned = bracketMatch;\n            } catch (e) {\n              // Last resort - just take what we have and let it fail downstream\n            }\n          }\n        }\n      }\n    }\n\n    // Final validation that we have something that looks like JSON\n    if (!cleaned.startsWith('{') && !cleaned.startsWith('[')) {\n      throw new Error('Response does not contain valid JSON structure');\n    }\n\n    return cleaned;\n  }\n\n  // Helper function to extract balanced JSON (handles nested braces/brackets)\n  extractBalancedJson(text, openChar, closeChar) {\n    const startIndex = text.indexOf(openChar);\n    if (startIndex === -1) return null;\n\n    let count = 0;\n    let inString = false;\n    let escaped = false;\n\n    for (let i = startIndex; i < text.length; i++) {\n      const char = text[i];\n\n      if (escaped) {\n        escaped = false;\n        continue;\n      }\n\n      if (char === '\\\\') {\n        escaped = true;\n        continue;\n      }\n\n      if (char === '\"') {\n        inString = !inString;\n        continue;\n      }\n\n      if (!inString) {\n        if (char === openChar) {\n          count++;\n        } else if (char === closeChar) {\n          count--;\n          if (count === 0) {\n            return text.substring(startIndex, i + 1);\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  // Image Analysis API - Analyze image and extract JSON fields\n  async analyzeImage(imageBase64) {\n    try {\n      await this.enforceRateLimit();\n\n      // Extract base64 data without data URL prefix\n      const base64Data = imageBase64.includes(',') \n        ? imageBase64.split(',')[1] \n        : imageBase64;\n\n      const systemPrompt = `You are an expert visual scene analysis AI specialized in creating detailed video generation prompts from images. Your focus is on describing scenes, environments, objects, and artistic elements for creative video production.\n\nYour mission: Analyze the visual elements, composition, setting, objects, colors, lighting, and artistic style to create comprehensive video generation parameters.\n\nANALYSIS FOCUS AREAS:\n1. SCENE COMPOSITION: Overall layout, framing, visual elements\n2. ENVIRONMENT: Setting, location, background elements\n3. OBJECTS & ITEMS: Visible objects, props, decorative elements  \n4. VISUAL STYLE: Art style, color palette, lighting, mood\n5. TECHNICAL ASPECTS: Camera angle, composition, visual effects\n\nSCENE ANALYSIS GUIDE:\n\n**SETTINGS & ENVIRONMENTS**: Describe specific locations (indoor/outdoor, architectural style, natural environments, fantasy realms, sci-fi settings, time period indicators)\n\n**OBJECTS & PROPS**: Focus on visible items, furniture, vehicles, equipment, decorative elements, clothing styles, accessories (avoid personal identification)\n\n**ARTISTIC ELEMENTS**: Color schemes, lighting conditions, artistic style (realistic, animated, painted, photographic), visual effects, textures, materials\n\n**COMPOSITION**: Camera angles, framing, depth of field, focal points, visual hierarchy, symmetry/asymmetry\n\n**MOOD & ATMOSPHERE**: Overall feeling, time of day, weather conditions, lighting quality (dramatic, soft, harsh, colorful, monochrome)\n\nDETAIL EXTRACTION REQUIREMENTS:\n- Be SPECIFIC: Instead of \"robot\" → \"steampunk robot with brass plating and Victorian-era pressure gauges\"\n- Include VISUAL SPECIFICS: Colors, patterns, textures, conditions, proportions\n- Note UNIQUE FEATURES: Scars, markings, wear patterns, modifications, decorative elements\n- Describe INTERACTIONS: How subjects relate to each other and objects\n\nFIELD MAPPING (use these exact field names):\n- scene: Overall scene description with specific visual details\n- setting: Specific environment type (indoor, outdoor, urban, natural, fantasy, etc.)\n- location: More detailed location description (office, forest, space station, etc.)\n- objects: Visible objects, props, items in the scene\n- style: Visual/artistic style (realistic, animated, cinematic, artistic, etc.)\n- color_palette: Dominant colors and color schemes\n- lighting_type: Quality and direction of light (natural, artificial, dramatic, soft, etc.)\n- time_of_day: Lighting conditions and time indicators\n- weather: Weather conditions if visible\n- camera_angle: Perspective (close-up, wide shot, aerial, eye-level, etc.)\n- camera_distance: Distance from subject (extreme close-up, medium, wide, etc.)\n- mood: Overall atmosphere and feeling of the scene\n- composition: Visual arrangement and framing\n- texture: Materials and surface qualities visible\n- movement: Any implied motion or dynamic elements\n- background: Background elements and details\n- foreground: Foreground elements and details\n\nCRITICAL RULES:\n- RETURN ONLY VALID JSON - NO EXPLANATORY TEXT BEFORE OR AFTER\n- DO NOT include any markdown formatting, backticks, or code blocks\n- DO NOT add any commentary, explanations, or text outside the JSON object\n- START your response immediately with { and END with }\n- FOCUS ON VISUAL ELEMENTS: scenes, objects, settings, not personal identification\n- If people are present, describe only general scene elements, clothing styles, and environmental context\n- BE EXTREMELY SPECIFIC in descriptions\n- Include enough detail for accurate recreation\n- Use confidence 0.8+ for clear visual elements\n- Use confidence 0.6-0.8 for probable elements  \n- Use confidence 0.5-0.6 for possible elements\n- Focus on RECREATABLE details, not generic categories\n\nRESPONSE MUST BE PURE JSON ONLY - EXAMPLE:\n{\"fields\":{\"scene\":{\"value\":\"...\",\"confidence\":0.9,\"reasoning\":\"...\"}},\"overall_analysis\":\"...\"}\n\nJSON FORMAT:\n{\n  \"fields\": {\n    \"field_name\": {\n      \"value\": \"extremely detailed, specific description\",\n      \"confidence\": 0.85,\n      \"reasoning\": \"specific visual evidence observed\"\n    }\n  },\n  \"overall_analysis\": \"Detailed 2-3 sentence summary focusing on what makes this scene unique and recreatable\"\n}`;\n\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt\n        },\n        {\n          role: 'user',\n          content: [\n            {\n              type: 'text',\n              text: 'Analyze this image with extreme attention to detail. Focus on extracting specific, recreatable characteristics of each subject. For robots: note exact style, materials, mechanical details, and condition. For creatures like griffins: describe size, proportions, coloring patterns, wing details, and distinguishing features. For all subjects: capture what makes them unique and visually distinct.'\n            },\n            {\n              type: 'image_url',\n              image_url: {\n                url: `data:image/jpeg;base64,${base64Data}`,\n                detail: 'high'\n              }\n            }\n          ]\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        model: 'gpt-4o', // Use GPT-4o for vision capabilities\n        forceOpenAI: true, // Force OpenAI for image analysis\n        temperature: 0.2, // Lower temperature for more consistent, detailed analysis\n        maxTokens: 2500, // Increased for detailed character descriptions\n        timeout: 90000 // Override default timeout for image analysis (90 seconds instead of 30)\n      });\n\n      // Check for safety refusal responses\n      const safetyRefusalPatterns = [\n        /I'm sorry, I can't help with identifying or analyzing people/i,\n        /I can't identify or describe people/i,\n        /I'm not able to identify individuals/i,\n        /I cannot provide information about people/i,\n        /I'm unable to analyze or identify people/i\n      ];\n\n      const isSafetyRefusal = safetyRefusalPatterns.some(pattern => \n        pattern.test(response.content)\n      );\n\n      if (isSafetyRefusal) {\n        console.log('🚫 Image Analysis - Safety refusal detected, providing generic scene analysis');\n        // Return a generic but valid JSON response for scenes with people\n        const fallbackResponse = {\n          fields: {\n            scene: {\n              value: \"Scene contains human subjects in an indoor/outdoor setting with visible environmental elements\",\n              confidence: 0.7,\n              reasoning: \"Image contains people, focusing on general scene description due to safety guidelines\"\n            },\n            setting: {\n              value: \"General scene setting with human subjects present\",\n              confidence: 0.8,\n              reasoning: \"Can observe general environmental context\"\n            },\n            objects: {\n              value: \"Various objects and environmental elements visible in scene\",\n              confidence: 0.6,\n              reasoning: \"Objects can be observed around human subjects\"\n            },\n            lighting_type: {\n              value: \"Standard lighting conditions\",\n              confidence: 0.7,\n              reasoning: \"General lighting assessment possible\"\n            },\n            camera_angle: {\n              value: \"Standard camera perspective\",\n              confidence: 0.8,\n              reasoning: \"Image framing and composition observable\"\n            }\n          },\n          overall_analysis: \"Image contains human subjects. Analysis focused on general scene elements and environmental context due to safety guidelines. For more detailed analysis, try using images without people.\"\n        };\n        return fallbackResponse;\n      }\n\n      // Clean the response content to handle markdown formatting\n      let cleanedContent;\n      try {\n        console.log('🖼️ Image Analysis - Raw AI Response:', response.content.substring(0, 500) + '...');\n        cleanedContent = this.cleanJsonResponse(response.content);\n        console.log('🧹 Image Analysis - Cleaned Content:', cleanedContent.substring(0, 300) + '...');\n      } catch (cleanError) {\n        console.error('❌ Image Analysis - JSON cleaning error:', cleanError.message);\n        console.error('📄 Image Analysis - Full raw response:', response.content);\n        console.error('🔍 Image Analysis - Response length:', response.content.length);\n        console.error('🔍 Image Analysis - Response starts with:', response.content.substring(0, 100));\n        throw new Error(`Failed to extract JSON from AI response: ${cleanError.message}`);\n      }\n\n      // Parse the cleaned JSON\n      let result;\n      try {\n        result = JSON.parse(cleanedContent);\n        console.log('✅ Image Analysis - Successfully parsed JSON');\n      } catch (parseError) {\n        console.error('❌ Image Analysis - JSON parsing error:', parseError.message);\n        console.error('🧹 Image Analysis - Cleaned content that failed to parse:', cleanedContent);\n        console.error('📄 Image Analysis - Original raw response:', response.content);\n        console.error('🔍 Image Analysis - Cleaned content length:', cleanedContent.length);\n        throw new Error(`AI returned invalid JSON format. Please try again.`);\n      }\n\n      // Validate the response structure\n      if (!result || typeof result !== 'object') {\n        throw new Error('AI response is not a valid object');\n      }\n\n      // Validate and enhance field data\n      const validatedFields = {};\n      const fieldStats = { high: 0, medium: 0, low: 0, total: 0 };\n\n      if (result.fields && typeof result.fields === 'object') {\n        Object.entries(result.fields).forEach(([fieldKey, fieldData]) => {\n          if (fieldData && typeof fieldData === 'object' && fieldData.value) {\n            // Ensure confidence is a number\n            const confidence = typeof fieldData.confidence === 'number' \n              ? fieldData.confidence \n              : 0.7; // Default confidence if not provided\n            \n            // Only include fields with reasonable confidence\n            if (confidence >= 0.5) {\n              validatedFields[fieldKey] = {\n                value: fieldData.value,\n                confidence: Math.min(Math.max(confidence, 0), 1), // Clamp between 0 and 1\n                reasoning: fieldData.reasoning || 'Visual analysis detected this feature'\n              };\n\n              // Track confidence statistics\n              fieldStats.total++;\n              if (confidence >= 0.8) fieldStats.high++;\n              else if (confidence >= 0.6) fieldStats.medium++;\n              else fieldStats.low++;\n            }\n          }\n        });\n      }\n\n      return {\n        success: true,\n        fields: validatedFields,\n        analysis: result.overall_analysis || result.analysis || 'Image analyzed successfully',\n        usage: response.usage,\n        stats: {\n          totalFields: fieldStats.total,\n          highConfidence: fieldStats.high,\n          mediumConfidence: fieldStats.medium,\n          lowConfidence: fieldStats.low\n        }\n      };\n\n    } catch (error) {\n      console.error('Image analysis error:', error);\n      \n      // Handle specific API errors\n      if (error.message.includes('API key')) {\n        return {\n          success: false,\n          error: 'OpenAI API key is required for image analysis. Please set your API key in settings.',\n          fields: {}\n        };\n      } else if (error.message.includes('rate limit')) {\n        return {\n          success: false,\n          error: 'Rate limit exceeded. Please wait a moment before analyzing another image.',\n          fields: {}\n        };\n      } else if (error.message.includes('model')) {\n        return {\n          success: false,\n          error: 'Image analysis requires GPT-4o model access. Please check your API key permissions.',\n          fields: {}\n        };\n      }\n      \n      return {\n        success: false,\n        error: error.message || 'Failed to analyze image. Please try again.',\n        fields: {}\n      };\n    }\n  }\n\n  // Category-specific AI suggestions with user seed ideas\n  async generateCategorySuggestions(categoryKey, currentScene = {}, userSeedIdea = '', isProgressive = false) {\n    try {\n      if (!this.hasApiKey()) {\n        throw new Error('API key required for category suggestions');\n      }\n\n      const categoryPrompts = {\n        characters: {\n          systemPrompt: `You are an expert character designer for video content. Generate compelling character suggestions that would work well in video scenes.`,\n          fieldMap: {\n            character: ['user input preserved as main character description'],\n            character_type: ['person', 'animal', 'robot', 'fantasy creature', 'stylized character'],\n            age: ['child (5-12)', 'teenager (13-19)', 'young adult (20-35)', 'middle-aged (36-55)', 'elderly (55+)'],\n            gender: ['male', 'female', 'non-binary'],\n            hair_color: ['brown', 'blonde', 'black', 'red', 'gray', 'white', 'unusual color'],\n            hair_style: ['short', 'medium', 'long', 'curly', 'straight', 'wavy', 'braided'],\n            clothing: ['casual', 'formal', 'business', 'athletic', 'vintage', 'futuristic', 'cultural'],\n            emotions: ['happy', 'serious', 'contemplative', 'excited', 'mysterious', 'confident']\n          }\n        },\n        actions: {\n          systemPrompt: `You are an expert in video storytelling and action direction. Suggest compelling actions and movements for video scenes.`,\n          fieldMap: {\n            actions: ['user input preserved as main action description'],\n            emotions: ['joyful', 'determined', 'peaceful', 'energetic', 'focused', 'playful'],\n            dialogue: ['friendly conversation', 'important announcement', 'quiet reflection', 'animated discussion'],\n            performance_style: ['natural', 'theatrical', 'subtle', 'expressive', 'comedic', 'dramatic']\n          }\n        },\n        settings: {\n          systemPrompt: `You are an expert location scout and set designer. Suggest visually compelling settings for video content.`,\n          fieldMap: {\n            setting: ['user input preserved as main setting description'],\n            time_of_day: ['golden hour', 'blue hour', 'midday', 'night', 'dawn', 'dusk'],\n            weather: ['sunny', 'partly cloudy', 'overcast', 'light rain', 'dramatic clouds'],\n            environment: ['indoor', 'outdoor', 'mixed indoor/outdoor'],\n            lighting_type: ['natural light', 'artificial light', 'mixed lighting', 'dramatic lighting']\n          }\n        },\n        style: {\n          systemPrompt: `You are a cinematographer and visual style expert. Suggest camera angles, lighting, and visual styles for compelling video content.`,\n          fieldMap: {\n            style: ['user input preserved as main style description'],\n            camera_angle: ['eye level', 'low angle', 'high angle', 'dutch angle', 'over shoulder'],\n            camera_distance: ['close-up', 'medium shot', 'wide shot', 'establishing shot'],\n            lighting_type: ['soft natural', 'dramatic side', 'rim lighting', 'golden hour', 'blue hour'],\n            color_palette: ['warm tones', 'cool tones', 'monochromatic', 'high contrast', 'muted colors']\n          }\n        },\n        audio: {\n          systemPrompt: `You are an audio designer and music supervisor. Suggest audio elements that enhance video storytelling.`,\n          fieldMap: {\n            audio: ['user input preserved as main audio description'],\n            ambient_sound: ['city ambiance', 'nature sounds', 'indoor atmosphere', 'quiet background'],\n            music_style: ['subtle instrumental', 'upbeat', 'emotional', 'minimal', 'cinematic'],\n            sound_effects: ['subtle', 'realistic', 'enhanced', 'minimal'],\n            audio_mood: ['uplifting', 'contemplative', 'energetic', 'peaceful', 'inspiring']\n          }\n        }\n      };\n\n      const categoryConfig = categoryPrompts[categoryKey];\n      if (!categoryConfig) {\n        throw new Error(`Unknown category: ${categoryKey}`);\n      }\n\n      // Build context from current scene\n      const sceneContext = currentScene.field_values ? \n        Object.entries(currentScene.field_values)\n          .filter(([key, value]) => value && value.trim() !== '')\n          .map(([key, value]) => `${key}: ${value}`)\n          .join(', ') : 'No current scene context';\n\n      // Determine if this is expansion or generation\n      const isExpansion = userSeedIdea && userSeedIdea.trim().length > 0;\n      \n      // Check if this is a progressive expansion (existing fields have content)\n      const existingFields = currentScene.field_values || {};\n      const hasExistingContent = Object.keys(existingFields).some(key => \n        categoryConfig.fieldMap[key] && existingFields[key] && existingFields[key].trim() !== ''\n      );\n      \n      const userPrompt = isExpansion \n        ? (isProgressive && hasExistingContent \n          ? `Given the current scene context: ${sceneContext}\n\nPROGRESSIVE EXPANSION: Enhance existing ${categoryKey} details with more depth and specificity.\n\nOriginal input: \"${userSeedIdea.trim()}\"\n\nCurrent field values to enhance:\n${Object.entries(existingFields)\n  .filter(([key, value]) => categoryConfig.fieldMap[key] && value && value.trim() !== '')\n  .map(([key, value]) => `- ${key}: \"${value}\"`)\n  .join('\\n')}\n\nINSTRUCTIONS:\n1. Keep all existing content but make it MORE detailed and specific\n2. Add new complementary fields that weren't filled before  \n3. Preserve the original concept \"${userSeedIdea.trim()}\" in the primary field\n4. Focus on adding layers of detail, specificity, and richness\n\nAvailable fields to enhance or add:\n${Object.entries(categoryConfig.fieldMap).map(([field, options]) => {\n  const primaryFieldNames = ['character', 'actions', 'setting', 'style', 'audio'];\n  const currentValue = existingFields[field];\n  if (primaryFieldNames.includes(field)) {\n    return `- ${field}: ${currentValue ? `Enhance \"${currentValue}\" with more detail` : `MUST be exactly \"${userSeedIdea.trim()}\"`}`;\n  }\n  return `- ${field}: ${currentValue ? `Enhance \"${currentValue}\" with more specificity` : `(choose from: ${options.join(', ')} or suggest similar)`}`;\n}).join('\\n')}\n\nReturn enhanced JSON with richer, more detailed descriptions. Don't remove existing content - build upon it.`\n          : `Given the current scene context: ${sceneContext}\n\nExpand this ${categoryKey} idea: \"${userSeedIdea.trim()}\"\n\nCRITICAL INSTRUCTION: You must preserve the user's exact input \"${userSeedIdea.trim()}\" as the primary field value. Do not change or interpret it - use it exactly as provided.\n\nThen add complementary details that enhance and describe this specific concept.\n\nRespond with a JSON object containing field suggestions. Use these available fields:\n${Object.entries(categoryConfig.fieldMap).map(([field, options]) => {\n  const primaryFieldNames = ['character', 'actions', 'setting', 'style', 'audio'];\n  if (primaryFieldNames.includes(field)) {\n    return `- ${field}: MUST be exactly \"${userSeedIdea.trim()}\" (preserve user input exactly)`;\n  }\n  return `- ${field}: (choose from: ${options.join(', ')} or suggest similar that fits \"${userSeedIdea.trim()}\")`;\n}).join('\\n')}\n\nExample: If user says \"scarecrow\", the primary field should be \"scarecrow\" and other fields should describe scarecrow-specific attributes (straw hair, burlap clothing, etc.).\n\nFocus on expanding \"${userSeedIdea.trim()}\" while preserving it as the core value. Return only the JSON object, no explanation.`)\n        : `Given the current scene context: ${sceneContext}\n\nPlease suggest appropriate values for a ${categoryKey} category that would complement the existing scene elements. \n\nRespond with a JSON object containing field suggestions. Use these available fields and choose values that work well together:\n${Object.entries(categoryConfig.fieldMap).map(([field, options]) => \n  `- ${field}: (choose from: ${options.join(', ')} or suggest similar)`\n).join('\\n')}\n\nFocus on creating cohesive suggestions that enhance the overall scene. Return only the JSON object, no explanation.`;\n\n      const messages = [\n        { role: 'system', content: categoryConfig.systemPrompt },\n        { role: 'user', content: userPrompt }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        maxTokens: 500,\n        temperature: 0.7\n      });\n\n      // Parse JSON response\n      let suggestions = {};\n      try {\n        suggestions = this.parseJsonResponse(response.content);\n      } catch (parseError) {\n        // If JSON parsing fails, try to extract reasonable defaults\n        console.warn('Failed to parse AI suggestions, using defaults');\n        const fieldMap = categoryConfig.fieldMap;\n        const keys = Object.keys(fieldMap);\n        keys.slice(0, 3).forEach(key => {\n          suggestions[key] = fieldMap[key][Math.floor(Math.random() * fieldMap[key].length)];\n        });\n      }\n\n      return {\n        success: true,\n        category: categoryKey,\n        suggestions,\n        isExpansion,\n        originalIdea: userSeedIdea.trim(),\n        model: response.model\n      };\n\n    } catch (error) {\n      console.error(`Category suggestion error for ${categoryKey}:`, error);\n      return {\n        success: false,\n        error: error.message,\n        category: categoryKey\n      };\n    }\n  }\n\n  // Health check for API connectivity\n  async healthCheck() {\n    try {\n      const messages = [\n        {\n          role: 'user',\n          content: 'Please respond with just the word \"healthy\" to confirm API connectivity.'\n        }\n      ];\n\n      const response = await this.makeRequest(messages, {\n        maxTokens: 10,\n        temperature: 0\n      });\n\n      return {\n        healthy: response.content.toLowerCase().includes('healthy'),\n        responseTime: Date.now() - this.lastRequestTime,\n        model: response.model\n      };\n    } catch (error) {\n      return {\n        healthy: false,\n        error: error.message\n      };\n    }\n  }\n}\n\n// Custom error class for API-specific errors\nclass APIError extends Error {\n  constructor(status, message, type, isLastAttempt = false) {\n    super(message);\n    this.name = 'APIError';\n    this.status = status;\n    this.type = type;\n    this.isLastAttempt = isLastAttempt;\n  }\n\n  shouldNotRetry() {\n    // Don't retry on authentication, permission, or client errors\n    return this.status === 401 || this.status === 403 || this.status === 400;\n  }\n}\n\n// Create and export singleton instance\nconst aiApiService = new AIApiService();\nexport default aiApiService;\n\n// Export class for testing or multiple instances\nexport { AIApiService, APIError };","import React, { useState, useEffect } from 'react';\nimport usePromptStore from './store';\n\nconst AvatarCreator = ({ isOpen, onClose, onSave }) => {\n  const { setFieldValue } = usePromptStore();\n  \n  // Avatar customization state\n  const [avatar, setAvatar] = useState({\n    // Basic Info\n    gender: 'male',\n    age_range: 'adult',\n    ethnicity: 'caucasian',\n    \n    // Physical Features\n    body_type: 'average',\n    height: 'average',\n    skin_tone: 'light',\n    \n    // Face\n    face_shape: 'oval',\n    eye_color: 'brown',\n    eye_shape: 'almond',\n    \n    // Hair\n    hair_color: 'brown',\n    hair_style: 'short',\n    hair_texture: 'straight',\n    \n    // Facial Hair (if applicable)\n    facial_hair: 'none',\n    \n    // Distinguishing Features\n    distinguishing_features: '',\n    \n    // Style\n    clothing_style: 'casual',\n    accessories: ''\n  });\n\n  // Avatar options\n  const avatarOptions = {\n    gender: ['male', 'female', 'non-binary'],\n    age_range: ['child', 'teenager', 'young adult', 'adult', 'middle-aged', 'elderly'],\n    ethnicity: ['caucasian', 'african', 'asian', 'hispanic', 'middle eastern', 'mixed', 'other'],\n    body_type: ['slim', 'average', 'athletic', 'curvy', 'heavy-set', 'muscular'],\n    height: ['short', 'average', 'tall'],\n    skin_tone: ['very light', 'light', 'medium light', 'medium', 'medium dark', 'dark', 'very dark'],\n    face_shape: ['oval', 'round', 'square', 'heart', 'long', 'diamond'],\n    eye_color: ['brown', 'blue', 'green', 'hazel', 'gray', 'amber'],\n    eye_shape: ['almond', 'round', 'hooded', 'monolid', 'upturned', 'downturned'],\n    hair_color: ['black', 'brown', 'blonde', 'red', 'gray', 'white', 'Auburn', 'strawberry blonde'],\n    hair_style: ['short', 'medium', 'long', 'buzz cut', 'pixie', 'bob', 'ponytail', 'braids', 'curly', 'wavy', 'straight', 'bald'],\n    hair_texture: ['straight', 'wavy', 'curly', 'coily'],\n    facial_hair: ['none', 'mustache', 'beard', 'goatee', 'stubble', 'full beard'],\n    clothing_style: ['casual', 'formal', 'business', 'sporty', 'vintage', 'gothic', 'bohemian', 'punk', 'minimalist']\n  };\n\n  // Update avatar state\n  const updateAvatar = (field, value) => {\n    setAvatar(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Generate character description from avatar\n  const generateCharacterDescription = () => {\n    const description = [];\n    \n    // Basic info\n    description.push(`${avatar.age_range} ${avatar.gender}`);\n    description.push(`${avatar.ethnicity} ethnicity`);\n    description.push(`${avatar.body_type} build`);\n    description.push(`${avatar.height} height`);\n    description.push(`${avatar.skin_tone} skin tone`);\n    \n    // Face features\n    description.push(`${avatar.face_shape} face shape`);\n    description.push(`${avatar.eye_color} ${avatar.eye_shape} eyes`);\n    \n    // Hair\n    if (avatar.hair_style !== 'bald') {\n      description.push(`${avatar.hair_color} ${avatar.hair_texture} ${avatar.hair_style} hair`);\n    } else {\n      description.push('bald');\n    }\n    \n    // Facial hair\n    if (avatar.facial_hair !== 'none') {\n      description.push(`${avatar.facial_hair}`);\n    }\n    \n    // Style\n    description.push(`${avatar.clothing_style} clothing style`);\n    \n    return description.join(', ');\n  };\n\n  // Apply avatar to character fields\n  const applyToCharacter = () => {\n    const description = generateCharacterDescription();\n    \n    // Set individual fields\n    setFieldValue('gender', avatar.gender);\n    setFieldValue('age_range', avatar.age_range);\n    setFieldValue('ethnicity', avatar.ethnicity);\n    setFieldValue('body_type', avatar.body_type);\n    setFieldValue('skin_tone', avatar.skin_tone);\n    setFieldValue('hair_color', avatar.hair_color);\n    setFieldValue('hair_style', avatar.hair_style);\n    setFieldValue('eye_color', avatar.eye_color);\n    setFieldValue('clothing', `${avatar.clothing_style} attire`);\n    \n    // Set combined description\n    setFieldValue('character', description);\n    \n    if (avatar.distinguishing_features) {\n      setFieldValue('distinguishing_features', avatar.distinguishing_features);\n    }\n    \n    if (avatar.accessories) {\n      setFieldValue('accessories', avatar.accessories);\n    }\n    \n    if (onSave) {\n      onSave(avatar, description);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white dark:bg-cinema-panel border-b border-gray-200 dark:border-cinema-border p-6 rounded-t-lg\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center\">\n              🎨 Avatar Creator\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl\"\n            >\n              ✕\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">\n            Create and customize your character's appearance\n          </p>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {/* Preview Section */}\n          <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-700/50\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">👤 Character Preview</h3>\n            <div className=\"bg-white dark:bg-cinema-card rounded-lg p-4 border border-gray-200 dark:border-cinema-border\">\n              <p className=\"text-sm text-gray-700 dark:text-cinema-text leading-relaxed\">\n                {generateCharacterDescription()}\n              </p>\n            </div>\n          </div>\n\n          {/* Customization Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            \n            {/* Basic Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-cinema-border pb-2\">\n                👤 Basic Information\n              </h3>\n              \n              {['gender', 'age_range', 'ethnicity', 'body_type', 'height'].map(field => (\n                <div key={field}>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 capitalize\">\n                    {field.replace('_', ' ')}\n                  </label>\n                  <select\n                    value={avatar[field]}\n                    onChange={(e) => updateAvatar(field, e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\n                  >\n                    {avatarOptions[field]?.map(option => (\n                      <option key={option} value={option}>\n                        {option.charAt(0).toUpperCase() + option.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              ))}\n            </div>\n\n            {/* Physical Features */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-cinema-border pb-2\">\n                👁️ Physical Features\n              </h3>\n              \n              {['skin_tone', 'face_shape', 'eye_color', 'eye_shape'].map(field => (\n                <div key={field}>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 capitalize\">\n                    {field.replace('_', ' ')}\n                  </label>\n                  <select\n                    value={avatar[field]}\n                    onChange={(e) => updateAvatar(field, e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\n                  >\n                    {avatarOptions[field]?.map(option => (\n                      <option key={option} value={option}>\n                        {option.charAt(0).toUpperCase() + option.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              ))}\n            </div>\n\n            {/* Hair & Style */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-cinema-border pb-2\">\n                💇 Hair & Style\n              </h3>\n              \n              {['hair_color', 'hair_style', 'hair_texture', 'facial_hair'].map(field => (\n                <div key={field}>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 capitalize\">\n                    {field.replace('_', ' ')}\n                  </label>\n                  <select\n                    value={avatar[field]}\n                    onChange={(e) => updateAvatar(field, e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\n                  >\n                    {avatarOptions[field]?.map(option => (\n                      <option key={option} value={option}>\n                        {option.charAt(0).toUpperCase() + option.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              ))}\n            </div>\n\n            {/* Additional Details */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-cinema-border pb-2\">\n                ✨ Additional Details\n              </h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Clothing Style\n                </label>\n                <select\n                  value={avatar.clothing_style}\n                  onChange={(e) => updateAvatar('clothing_style', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\n                >\n                  {avatarOptions.clothing_style?.map(option => (\n                    <option key={option} value={option}>\n                      {option.charAt(0).toUpperCase() + option.slice(1)}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Distinguishing Features\n                </label>\n                <textarea\n                  value={avatar.distinguishing_features}\n                  onChange={(e) => updateAvatar('distinguishing_features', e.target.value)}\n                  placeholder=\"e.g., scar on left cheek, tattoo on arm, dimples...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 resize-none\"\n                  rows=\"3\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Accessories\n                </label>\n                <textarea\n                  value={avatar.accessories}\n                  onChange={(e) => updateAvatar('accessories', e.target.value)}\n                  placeholder=\"e.g., glasses, watch, necklace, hat...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 resize-none\"\n                  rows=\"3\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"sticky bottom-0 bg-white dark:bg-cinema-panel border-t border-gray-200 dark:border-cinema-border p-6 rounded-b-lg\">\n          <div className=\"flex flex-col sm:flex-row gap-3 justify-end\">\n            <button\n              onClick={onClose}\n              className=\"px-6 py-2 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-lg transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={applyToCharacter}\n              className=\"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg transition-all shadow-lg hover:shadow-xl\"\n            >\n              🎯 Apply to Character\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AvatarCreator;","import React, { useState, useEffect } from 'react';\nimport aiApiService from './aiApiService';\nimport AvatarCreator from './AvatarCreator';\n\nconst CharacterEngine = ({ currentJson, onResult }) => {\n  const [characterDescription, setCharacterDescription] = useState('');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedCharacter, setGeneratedCharacter] = useState(null);\n  const [error, setError] = useState(null);\n  const [showAvatarCreator, setShowAvatarCreator] = useState(false);\n  const [activeTab, setActiveTab] = useState('description'); // 'description' or 'avatar'\n\n  // Auto-scroll to generated character when created\n  useEffect(() => {\n    if (generatedCharacter) {\n      const timer = setTimeout(() => {\n        const element = document.querySelector('[data-character-results]');\n        if (element) {\n          element.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'start',\n            inline: 'nearest' \n          });\n        }\n      }, 300);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [generatedCharacter]);\n\n  const generateCharacter = async () => {\n    if (!characterDescription.trim()) {\n      setError('Please describe your character idea');\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      setError('OpenAI API key required. Please set your API key in settings.');\n      return;\n    }\n\n    setIsGenerating(true);\n    setError(null);\n    setGeneratedCharacter(null);\n\n    try {\n      const response = await aiApiService.generateCharacterFromText(characterDescription);\n      \n      if (response.success) {\n        setGeneratedCharacter(response.character);\n      } else {\n        setError(response.error || 'Failed to generate character. Please try again.');\n      }\n    } catch (err) {\n      console.error('Character generation error:', err);\n      setError('Failed to generate character. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const applyCharacterToScene = () => {\n    if (generatedCharacter) {\n      // Update the current JSON with character information\n      const updatedJson = {\n        ...currentJson,\n        character_name: generatedCharacter.name,\n        character_description: generatedCharacter.appearance,\n        character_personality: generatedCharacter.personality,\n        character_background: generatedCharacter.background,\n        ...generatedCharacter.sceneIntegration\n      };\n\n      // Apply form field mappings if available\n      if (generatedCharacter.formFieldMappings) {\n        Object.entries(generatedCharacter.formFieldMappings).forEach(([field, value]) => {\n          if (value && value.trim()) {\n            updatedJson[field] = value;\n          }\n        });\n      }\n      \n      onResult(updatedJson);\n      setGeneratedCharacter(null);\n    }\n  };\n\n  const handleAvatarSave = (avatarData, description) => {\n    // Create a character object similar to AI-generated one\n    const avatarCharacter = {\n      name: 'Custom Avatar Character',\n      appearance: description,\n      personality: 'Customizable personality traits',\n      background: 'Custom character background',\n      formFieldMappings: {\n        gender: avatarData.gender,\n        age_range: avatarData.age_range,\n        ethnicity: avatarData.ethnicity,\n        body_type: avatarData.body_type,\n        skin_tone: avatarData.skin_tone,\n        hair_color: avatarData.hair_color,\n        hair_style: avatarData.hair_style,\n        eye_color: avatarData.eye_color,\n        clothing: `${avatarData.clothing_style} attire`,\n        character: description,\n        ...(avatarData.distinguishing_features && { distinguishing_features: avatarData.distinguishing_features }),\n        ...(avatarData.accessories && { accessories: avatarData.accessories })\n      }\n    };\n    \n    setGeneratedCharacter(avatarCharacter);\n    setShowAvatarCreator(false);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"text-center mb-4\">\n        <h4 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text mb-2\">\n          AI Character Engine\n        </h4>\n        <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n          Create characters using AI description or visual avatar builder\n        </p>\n      </div>\n\n      {/* Character Creation Tabs */}\n      <div className=\"bg-white dark:bg-cinema-card rounded-lg border border-gray-200 dark:border-cinema-border overflow-hidden\">\n        <div className=\"flex border-b border-gray-200 dark:border-cinema-border\">\n          <button\n            onClick={() => setActiveTab('description')}\n            className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n              activeTab === 'description'\n                ? 'bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 border-b-2 border-purple-500'\n                : 'bg-gray-50 dark:bg-cinema-panel text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'\n            }`}\n          >\n            📝 AI Description\n          </button>\n          <button\n            onClick={() => setActiveTab('avatar')}\n            className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n              activeTab === 'avatar'\n                ? 'bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 border-b-2 border-purple-500'\n                : 'bg-gray-50 dark:bg-cinema-panel text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'\n            }`}\n          >\n            🎨 Avatar Creator\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n          {activeTab === 'description' && (\n            <div>\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                  Describe your character idea and AI will create a complete character with detailed form fields\n                </p>\n              </div>\n\n      {/* Character Input Form */}\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n            Character Description\n          </label>\n          <textarea\n            value={characterDescription}\n            onChange={(e) => setCharacterDescription(e.target.value)}\n            placeholder=\"Describe your character idea... e.g., 'A mysterious detective with a hidden past who speaks in riddles and wears vintage clothing' or 'A comedic chef who's afraid of fire but makes the best desserts in town'\"\n            rows={3}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text resize-none\"\n          />\n        </div>\n        \n        {/* Example prompts for inspiration */}\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg p-3\">\n          <p className=\"text-xs font-medium text-blue-800 dark:text-blue-300 mb-2\">Example descriptions:</p>\n          <div className=\"space-y-1\">\n            <button\n              onClick={() => setCharacterDescription('A wise old librarian who can speak to books and remembers every story ever written')}\n              className=\"block w-full text-left text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors\"\n            >\n              • A wise old librarian who can speak to books and remembers every story ever written\n            </button>\n            <button\n              onClick={() => setCharacterDescription('A rebellious street artist with neon-colored hair who only paints at midnight')}\n              className=\"block w-full text-left text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors\"\n            >\n              • A rebellious street artist with neon-colored hair who only paints at midnight\n            </button>\n            <button\n              onClick={() => setCharacterDescription('A heroic firefighter who is secretly afraid of heights but never shows it')}\n              className=\"block w-full text-left text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors\"\n            >\n              • A heroic firefighter who is secretly afraid of heights but never shows it\n            </button>\n          </div>\n        </div>\n\n        {/* Generate Button */}\n        <button\n          onClick={generateCharacter}\n          disabled={isGenerating || !characterDescription.trim()}\n          className={`w-full py-2 rounded-lg text-sm font-medium transition-all duration-300 ${\n            isGenerating || !characterDescription.trim()\n              ? 'bg-gray-400 cursor-not-allowed text-white'\n              : 'bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl'\n          }`}\n        >\n          {isGenerating ? (\n            <>\n              <svg className=\"animate-spin w-4 h-4 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Generating Character...\n            </>\n          ) : (\n            '✨ Generate Character'\n          )}\n        </button>\n      </div>\n\n              {/* Error Display */}\n              {error && (\n                <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg\">\n                  <div className=\"flex items-center space-x-2\">\n                    <svg className=\"w-4 h-4 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n                  </div>\n                </div>\n              )}\n              \n              {/* Loading state with scroll hint */}\n              {isGenerating && (\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\n                    <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">Generating character...</span>\n                  </div>\n                  <div className=\"text-xs text-blue-600 dark:text-blue-300 mt-2 flex items-center space-x-1\">\n                    <span>⬇️</span>\n                    <span>Character details will appear below - we'll scroll you there automatically</span>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'avatar' && (\n            <div>\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                  Create your character visually using the avatar creator tool\n                </p>\n              </div>\n              \n              <div className=\"text-center\">\n                <button\n                  onClick={() => setShowAvatarCreator(true)}\n                  className=\"w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white rounded-lg text-sm font-medium transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2\"\n                >\n                  <span>🎨</span>\n                  <span>Open Avatar Creator</span>\n                </button>\n                \n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n                  Customize appearance, style, and features visually\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n\n      {/* Generated Character Display */}\n      {generatedCharacter && (\n        <div data-character-results className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg p-4\">\n          {/* Success indicator */}\n          <div className=\"bg-green-100 dark:bg-green-800/20 border border-green-300 dark:border-green-600 rounded-lg p-3 mb-4\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">✅</span>\n              <span className=\"font-medium text-green-800 dark:text-green-200\">Character generated successfully!</span>\n            </div>\n            <p className=\"text-sm text-green-600 dark:text-green-300 mt-1\">\n              Review the character details below and apply to your scene when ready.\n            </p>\n          </div>\n          \n          <div className=\"mb-3\">\n            <h5 className=\"font-semibold text-green-800 dark:text-green-300 mb-2\">\n              Generated Character: {generatedCharacter.name}\n            </h5>\n          </div>\n          \n          <div className=\"space-y-3 text-sm\">\n            <div>\n              <strong className=\"text-green-700 dark:text-green-400\">Appearance:</strong>\n              <p className=\"text-green-600 dark:text-green-300 mt-1\">{generatedCharacter.appearance}</p>\n            </div>\n            \n            <div>\n              <strong className=\"text-green-700 dark:text-green-400\">Personality:</strong>\n              <p className=\"text-green-600 dark:text-green-300 mt-1\">{generatedCharacter.personality}</p>\n            </div>\n            \n            <div>\n              <strong className=\"text-green-700 dark:text-green-400\">Background:</strong>\n              <p className=\"text-green-600 dark:text-green-300 mt-1\">{generatedCharacter.background}</p>\n            </div>\n\n            {generatedCharacter.quirks && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">Notable Quirks:</strong>\n                <p className=\"text-green-600 dark:text-green-300 mt-1\">{generatedCharacter.quirks}</p>\n              </div>\n            )}\n\n            {/* Form Field Mappings for Easy Editing */}\n            {generatedCharacter.formFieldMappings && (\n              <div className=\"border-t border-green-200 dark:border-green-700/50 pt-3 mt-3\">\n                <strong className=\"text-green-700 dark:text-green-400 mb-2 block\">🎛️ Form Field Mappings (for easy editing):</strong>\n                <div className=\"grid grid-cols-1 gap-2\">\n                  {Object.entries(generatedCharacter.formFieldMappings).map(([field, value]) => (\n                    value && (\n                      <div key={field} className=\"bg-white dark:bg-cinema-card rounded p-2 border border-green-200 dark:border-green-700/30\">\n                        <div className=\"flex justify-between items-start\">\n                          <span className=\"text-xs font-medium text-gray-600 dark:text-cinema-text-muted capitalize\">\n                            {field.replace('_', ' ')}:\n                          </span>\n                          <span className=\"text-xs text-gray-800 dark:text-cinema-text ml-2 flex-1 text-right\">\n                            {value}\n                          </span>\n                        </div>\n                      </div>\n                    )\n                  ))}\n                </div>\n                <p className=\"text-xs text-green-600 dark:text-green-400 mt-2 italic\">\n                  💡 These mappings help you edit the character using the regular form fields after applying to your scene.\n                </p>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-4\">\n            <button\n              onClick={applyCharacterToScene}\n              className=\"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Apply to Scene\n            </button>\n            <button\n              onClick={() => setGeneratedCharacter(null)}\n              className=\"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Dismiss\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* API Key Setup Prompt */}\n      {!aiApiService.hasApiKey() && (\n        <div className=\"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <svg className=\"w-4 h-4 text-orange-600 dark:text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n            <span className=\"text-sm font-medium text-orange-800 dark:text-orange-200\">\n              OpenAI API Key Required\n            </span>\n          </div>\n          <p className=\"text-sm text-orange-700 dark:text-orange-300 mb-3\">\n            Character Engine requires an OpenAI API key to generate characters.\n          </p>\n          <button \n            onClick={() => {\n              const key = prompt('Enter your OpenAI API key:');\n              if (key) {\n                aiApiService.setApiKey(key);\n              }\n            }}\n            className=\"px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm rounded-lg transition-colors\"\n          >\n            Set API Key\n          </button>\n        </div>\n      )}\n\n      {/* Avatar Creator Modal */}\n      <AvatarCreator\n        isOpen={showAvatarCreator}\n        onClose={() => setShowAvatarCreator(false)}\n        onSave={handleAvatarSave}\n      />\n    </div>\n  );\n};\n\nexport default CharacterEngine;","import React, { useState, useEffect } from 'react';\nimport aiApiService from './aiApiService';\n\nconst WorldBuilder = ({ currentJson, onResult }) => {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [worldData, setWorldData] = useState(null);\n  const [error, setError] = useState(null);\n  const [selectedExpansionType, setSelectedExpansionType] = useState('full');\n\n  const expansionTypes = [\n    { \n      value: 'full', \n      label: 'Complete World', \n      description: 'Generate locations, lore, rules, and atmosphere' \n    },\n    { \n      value: 'locations', \n      label: 'Related Locations', \n      description: 'Create 3 connected locations for this scene' \n    },\n    { \n      value: 'lore', \n      label: 'World Lore', \n      description: 'Develop backstory, culture, and history' \n    },\n    { \n      value: 'atmosphere', \n      label: 'Atmospheric Details', \n      description: 'Enhance mood, sounds, and environmental elements' \n    }\n  ];\n\n  // Auto-scroll to generated world data when created\n  useEffect(() => {\n    if (worldData) {\n      const timer = setTimeout(() => {\n        const element = document.querySelector('[data-world-results]');\n        if (element) {\n          element.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'start',\n            inline: 'nearest' \n          });\n        }\n      }, 300);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [worldData]);\n\n  const generateWorld = async () => {\n    if (!currentJson || Object.keys(currentJson).length === 0) {\n      setError('No scene to expand. Please create a scene first.');\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      setError('OpenAI API key required. Please set your API key in settings.');\n      return;\n    }\n\n    setIsGenerating(true);\n    setError(null);\n    setWorldData(null);\n\n    try {\n      const response = await aiApiService.generateWorld(currentJson, selectedExpansionType);\n      \n      if (response.success) {\n        setWorldData(response.world);\n      } else {\n        setError(response.error || 'Failed to generate world. Please try again.');\n      }\n    } catch (err) {\n      console.error('World generation error:', err);\n      setError('Failed to generate world. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const applyLocationToScene = (location) => {\n    // Only update scene/setting related fields, preserve everything else\n    const updatedJson = { ...currentJson };\n    \n    // Only change scene description fields\n    updatedJson.setting = location.name;\n    updatedJson.location_description = location.description;\n    updatedJson.atmosphere = location.atmosphere;\n    updatedJson.environmental_details = location.details;\n    \n    onResult(updatedJson);\n  };\n\n  const applyFullWorldToScene = () => {\n    if (worldData) {\n      // Only update world/scene related fields, preserve everything else\n      const updatedJson = { ...currentJson };\n      \n      // Only change world/scene description fields\n      if (worldData.name) updatedJson.world_name = worldData.name;\n      if (worldData.lore) updatedJson.world_lore = worldData.lore;\n      if (worldData.rules) updatedJson.world_rules = worldData.rules;\n      if (worldData.atmosphere) updatedJson.atmospheric_elements = worldData.atmosphere;\n      if (worldData.sounds) updatedJson.environmental_sounds = worldData.sounds;\n      if (worldData.culture) updatedJson.cultural_context = worldData.culture;\n      \n      onResult(updatedJson);\n      setWorldData(null);\n    }\n  };\n\n  const getExpansionIcon = (type) => {\n    const icons = {\n      full: '🌍',\n      locations: '📍',\n      lore: '📜',\n      atmosphere: '🌫️'\n    };\n    return icons[type] || '🌍';\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"text-center mb-4\">\n        <h4 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text mb-2\">\n          Expand Your World\n        </h4>\n        <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n          Transform your scene setting into a rich, detailed world\n        </p>\n      </div>\n\n      {/* Expansion Type Selection */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n          Expansion Type\n        </label>\n        <div className=\"grid grid-cols-1 gap-2\">\n          {expansionTypes.map((type) => (\n            <label\n              key={type.value}\n              className={`flex items-center p-3 border rounded-lg cursor-pointer transition-all ${\n                selectedExpansionType === type.value\n                  ? 'border-purple-500 bg-purple-50 dark:bg-purple-900/20'\n                  : 'border-gray-200 dark:border-cinema-border hover:border-purple-300'\n              }`}\n            >\n              <input\n                type=\"radio\"\n                name=\"expansionType\"\n                value={type.value}\n                checked={selectedExpansionType === type.value}\n                onChange={(e) => setSelectedExpansionType(e.target.value)}\n                className=\"mr-3\"\n              />\n              <div className=\"flex-1\">\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-lg\">{getExpansionIcon(type.value)}</span>\n                  <span className=\"font-medium text-gray-800 dark:text-cinema-text\">\n                    {type.label}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-1\">\n                  {type.description}\n                </p>\n              </div>\n            </label>\n          ))}\n        </div>\n      </div>\n\n      {/* Current Scene Context */}\n      {currentJson?.setting && (\n        <div className=\"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-1\">\n            <span className=\"text-blue-600 dark:text-blue-400\">📍</span>\n            <span className=\"text-sm font-medium text-blue-800 dark:text-blue-300\">\n              Current Setting: {currentJson.setting}\n            </span>\n          </div>\n          {currentJson.location_description && (\n            <p className=\"text-sm text-blue-700 dark:text-blue-400 ml-6\">\n              {currentJson.location_description}\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Generate Button */}\n      <button\n        onClick={generateWorld}\n        disabled={isGenerating}\n        className={`w-full py-2 rounded-lg text-sm font-medium transition-all duration-300 ${\n          isGenerating\n            ? 'bg-gray-400 cursor-not-allowed text-white'\n            : 'bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl'\n        }`}\n      >\n        {isGenerating ? (\n          <>\n            <svg className=\"animate-spin w-4 h-4 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            Building World...\n          </>\n        ) : (\n          `🌍 Generate ${expansionTypes.find(t => t.value === selectedExpansionType)?.label}`\n        )}\n      </button>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <svg className=\"w-4 h-4 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n          </div>\n        </div>\n      )}\n      \n      {/* Loading state with scroll hint */}\n      {isGenerating && (\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\n            <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">Building world expansion...</span>\n          </div>\n          <div className=\"text-xs text-blue-600 dark:text-blue-300 mt-2 flex items-center space-x-1\">\n            <span>⬇️</span>\n            <span>World details will appear below - we'll scroll you there automatically</span>\n          </div>\n        </div>\n      )}\n\n      {/* Generated World Display */}\n      {worldData && (\n        <div data-world-results className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg p-4\">\n          {/* Success indicator */}\n          <div className=\"bg-green-100 dark:bg-green-800/20 border border-green-300 dark:border-green-600 rounded-lg p-3 mb-4\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">✅</span>\n              <span className=\"font-medium text-green-800 dark:text-green-200\">World expansion created successfully!</span>\n            </div>\n            <p className=\"text-sm text-green-600 dark:text-green-300 mt-1\">\n              Explore the generated world details and apply elements to enhance your scene.\n            </p>\n          </div>\n          \n          <div className=\"mb-4\">\n            <h5 className=\"font-semibold text-green-800 dark:text-green-300 mb-2\">\n              Generated World Expansion\n            </h5>\n          </div>\n          \n          <div className=\"space-y-4 text-sm\">\n            {/* Locations */}\n            {worldData.locations && worldData.locations.length > 0 && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">Related Locations:</strong>\n                <div className=\"grid grid-cols-1 sm:grid-cols-1 gap-2 mt-2\">\n                  {worldData.locations.map((location, index) => (\n                    <div key={index} className=\"bg-white dark:bg-cinema-card p-3 rounded border border-green-200 dark:border-green-700/30\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"font-medium text-gray-800 dark:text-cinema-text\">\n                          {location.name}\n                        </span>\n                        <button\n                          onClick={() => applyLocationToScene(location)}\n                          className=\"px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors\"\n                        >\n                          Use Setting\n                        </button>\n                      </div>\n                      <p className=\"text-gray-600 dark:text-cinema-text-muted text-xs\">\n                        {location.description}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Lore */}\n            {worldData.lore && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">World Lore:</strong>\n                <p className=\"text-green-600 dark:text-green-300 mt-1\">{worldData.lore}</p>\n              </div>\n            )}\n\n            {/* Rules */}\n            {worldData.rules && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">World Rules:</strong>\n                <p className=\"text-green-600 dark:text-green-300 mt-1\">{worldData.rules}</p>\n              </div>\n            )}\n\n            {/* Atmosphere */}\n            {worldData.atmosphere && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">Atmosphere:</strong>\n                <p className=\"text-green-600 dark:text-green-300 mt-1\">{worldData.atmosphere}</p>\n              </div>\n            )}\n\n            {/* Culture */}\n            {worldData.culture && (\n              <div>\n                <strong className=\"text-green-700 dark:text-green-400\">Cultural Context:</strong>\n                <p className=\"text-green-600 dark:text-green-300 mt-1\">{worldData.culture}</p>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-4\">\n            <button\n              onClick={applyFullWorldToScene}\n              className=\"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Apply All to Scene\n            </button>\n            <button\n              onClick={() => setWorldData(null)}\n              className=\"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Dismiss\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* API Key Setup Prompt */}\n      {!aiApiService.hasApiKey() && (\n        <div className=\"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <svg className=\"w-4 h-4 text-orange-600 dark:text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n            <span className=\"text-sm font-medium text-orange-800 dark:text-orange-200\">\n              OpenAI API Key Required\n            </span>\n          </div>\n          <p className=\"text-sm text-orange-700 dark:text-orange-300 mb-3\">\n            World Builder requires an OpenAI API key to generate world expansions.\n          </p>\n          <button \n            onClick={() => {\n              const key = prompt('Enter your OpenAI API key:');\n              if (key) {\n                aiApiService.setApiKey(key);\n              }\n            }}\n            className=\"px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm rounded-lg transition-colors\"\n          >\n            Set API Key\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WorldBuilder;","import React, { useState, useEffect } from 'react';\nimport aiApiService from './aiApiService';\n\nconst StoryboardGenerator = ({ currentJson, onResult }) => {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [storyboard, setStoryboard] = useState(null);\n  const [error, setError] = useState(null);\n  const [sceneCount, setSceneCount] = useState(3);\n  const [narrativeStructure, setNarrativeStructure] = useState('three-act');\n\n  const narrativeStructures = [\n    { \n      value: 'three-act', \n      label: '3-Act Structure', \n      description: 'Setup → Conflict → Resolution' \n    },\n    { \n      value: 'hero-journey', \n      label: 'Hero\\'s Journey', \n      description: 'Call to adventure → Challenge → Return' \n    },\n    { \n      value: 'tension-build', \n      label: 'Tension Builder', \n      description: 'Calm → Rising tension → Climax' \n    },\n    { \n      value: 'character-arc', \n      label: 'Character Arc', \n      description: 'Introduction → Development → Transformation' \n    },\n    { \n      value: 'mystery', \n      label: 'Mystery Structure', \n      description: 'Question → Investigation → Revelation' \n    }\n  ];\n\n  // Auto-scroll to generated storyboard when created\n  useEffect(() => {\n    if (storyboard) {\n      const timer = setTimeout(() => {\n        const element = document.querySelector('[data-storyboard-results]');\n        if (element) {\n          element.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'start',\n            inline: 'nearest' \n          });\n        }\n      }, 300);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [storyboard]);\n\n  const generateStoryboard = async () => {\n    if (!currentJson || Object.keys(currentJson).length === 0) {\n      setError('No scene to expand. Please create a scene first.');\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      setError('OpenAI API key required. Please set your API key in settings.');\n      return;\n    }\n\n    setIsGenerating(true);\n    setError(null);\n    setStoryboard(null);\n\n    try {\n      const response = await aiApiService.generateStoryboard(\n        currentJson, \n        sceneCount, \n        narrativeStructure\n      );\n      \n      if (response.success) {\n        setStoryboard(response.storyboard);\n      } else {\n        setError(response.error || 'Failed to generate storyboard. Please try again.');\n      }\n    } catch (err) {\n      console.error('Storyboard generation error:', err);\n      setError('Failed to generate storyboard. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const applySceneToProject = (scene, index) => {\n    const updatedJson = {\n      ...scene.sceneData,\n      scene_number: index + 1,\n      narrative_position: scene.position,\n      story_context: scene.context\n    };\n    \n    onResult(updatedJson);\n  };\n\n  const applyFullStoryboard = () => {\n    if (storyboard && storyboard.scenes && storyboard.scenes.length > 0) {\n      // Apply the first scene as the current scene\n      const firstScene = storyboard.scenes[0];\n      const updatedJson = {\n        ...firstScene.sceneData,\n        storyboard_title: storyboard.title,\n        narrative_structure: storyboard.structure,\n        total_scenes: storyboard.scenes.length,\n        scene_number: 1\n      };\n      \n      onResult(updatedJson);\n      setStoryboard(null);\n    }\n  };\n\n  const getSceneIcon = (position) => {\n    const icons = {\n      opening: '🎬',\n      development: '⚡',\n      climax: '🔥',\n      resolution: '✨',\n      transition: '🔄'\n    };\n    return icons[position] || '🎯';\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"text-center mb-4\">\n        <h4 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text mb-2\">\n          Generate Story Sequence\n        </h4>\n        <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n          Create a multi-scene narrative from your current scene\n        </p>\n      </div>\n\n      {/* Configuration Options */}\n      <div className=\"grid grid-cols-1 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-1\">\n            Number of Scenes\n          </label>\n          <select\n            value={sceneCount}\n            onChange={(e) => setSceneCount(parseInt(e.target.value))}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text\"\n          >\n            <option value={3}>3 Scenes</option>\n            <option value={4}>4 Scenes</option>\n            <option value={5}>5 Scenes</option>\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n            Narrative Structure\n          </label>\n          <div className=\"space-y-2\">\n            {narrativeStructures.map((structure) => (\n              <label\n                key={structure.value}\n                className={`flex items-center p-3 border rounded-lg cursor-pointer transition-all ${\n                  narrativeStructure === structure.value\n                    ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                    : 'border-gray-200 dark:border-cinema-border hover:border-blue-300'\n                }`}\n              >\n                <input\n                  type=\"radio\"\n                  name=\"narrativeStructure\"\n                  value={structure.value}\n                  checked={narrativeStructure === structure.value}\n                  onChange={(e) => setNarrativeStructure(e.target.value)}\n                  className=\"mr-3\"\n                />\n                <div className=\"flex-1\">\n                  <span className=\"font-medium text-gray-800 dark:text-cinema-text\">\n                    {structure.label}\n                  </span>\n                  <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mt-1\">\n                    {structure.description}\n                  </p>\n                </div>\n              </label>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Current Scene Context */}\n      {currentJson?.scene && (\n        <div className=\"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-1\">\n            <span className=\"text-blue-600 dark:text-blue-400\">🎬</span>\n            <span className=\"text-sm font-medium text-blue-800 dark:text-blue-300\">\n              Current Scene Preview\n            </span>\n          </div>\n          <p className=\"text-sm text-blue-700 dark:text-blue-400 ml-6\">\n            {currentJson.scene.length > 100 \n              ? `${currentJson.scene.substring(0, 100)}...` \n              : currentJson.scene\n            }\n          </p>\n        </div>\n      )}\n\n      {/* Generate Button */}\n      <button\n        onClick={generateStoryboard}\n        disabled={isGenerating}\n        className={`w-full py-2 rounded-lg text-sm font-medium transition-all duration-300 ${\n          isGenerating\n            ? 'bg-gray-400 cursor-not-allowed text-white'\n            : 'bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl'\n        }`}\n      >\n        {isGenerating ? (\n          <>\n            <svg className=\"animate-spin w-4 h-4 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            Creating Storyboard...\n          </>\n        ) : (\n          `🎬 Generate ${sceneCount}-Scene Storyboard`\n        )}\n      </button>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <svg className=\"w-4 h-4 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n          </div>\n        </div>\n      )}\n      \n      {/* Loading state with scroll hint */}\n      {isGenerating && (\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\n            <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">Creating storyboard...</span>\n          </div>\n          <div className=\"text-xs text-blue-600 dark:text-blue-300 mt-2 flex items-center space-x-1\">\n            <span>⬇️</span>\n            <span>Storyboard scenes will appear below - we'll scroll you there automatically</span>\n          </div>\n        </div>\n      )}\n\n      {/* Generated Storyboard Display */}\n      {storyboard && (\n        <div data-storyboard-results className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg p-4\">\n          {/* Success indicator */}\n          <div className=\"bg-green-100 dark:bg-green-800/20 border border-green-300 dark:border-green-600 rounded-lg p-3 mb-4\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">✅</span>\n              <span className=\"font-medium text-green-800 dark:text-green-200\">Storyboard created with {storyboard.scenes?.length || 0} scenes!</span>\n            </div>\n            <p className=\"text-sm text-green-600 dark:text-green-300 mt-1\">\n              Review the scene sequence below and apply individual scenes to your project.\n            </p>\n          </div>\n          \n          <div className=\"mb-4\">\n            <h5 className=\"font-semibold text-green-800 dark:text-green-300 mb-2\">\n              Generated Storyboard: {storyboard.title}\n            </h5>\n            <p className=\"text-sm text-green-600 dark:text-green-300\">\n              Structure: {storyboard.structure} • {storyboard.scenes?.length || 0} scenes\n            </p>\n          </div>\n          \n          {/* Scene Timeline */}\n          {storyboard.scenes && storyboard.scenes.length > 0 && (\n            <div className=\"space-y-3\">\n              {storyboard.scenes.map((scene, index) => (\n                <div key={index} className=\"bg-white dark:bg-cinema-card p-3 rounded border border-green-200 dark:border-green-700/30\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-lg\">{getSceneIcon(scene.position)}</span>\n                      <span className=\"font-medium text-gray-800 dark:text-cinema-text\">\n                        Scene {index + 1}: {scene.title}\n                      </span>\n                    </div>\n                    <button\n                      onClick={() => applySceneToProject(scene, index)}\n                      className=\"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors\"\n                    >\n                      Use Scene\n                    </button>\n                  </div>\n                  <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mb-2\">\n                    <strong>Position:</strong> {scene.position}\n                  </p>\n                  <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n                    {scene.description}\n                  </p>\n                  {scene.context && (\n                    <p className=\"text-xs text-gray-500 dark:text-cinema-text-muted mt-1 italic\">\n                      Context: {scene.context}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n\n          <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-4\">\n            <button\n              onClick={applyFullStoryboard}\n              className=\"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Start with Scene 1\n            </button>\n            <button\n              onClick={() => setStoryboard(null)}\n              className=\"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-md transition-colors\"\n            >\n              Dismiss\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* API Key Setup Prompt */}\n      {!aiApiService.hasApiKey() && (\n        <div className=\"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <svg className=\"w-4 h-4 text-orange-600 dark:text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n            <span className=\"text-sm font-medium text-orange-800 dark:text-orange-200\">\n              OpenAI API Key Required\n            </span>\n          </div>\n          <p className=\"text-sm text-orange-700 dark:text-orange-300 mb-3\">\n            Storyboard Generator requires an OpenAI API key to create scene sequences.\n          </p>\n          <button \n            onClick={() => {\n              const key = prompt('Enter your OpenAI API key:');\n              if (key) {\n                aiApiService.setApiKey(key);\n              }\n            }}\n            className=\"px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm rounded-lg transition-colors\"\n          >\n            Set API Key\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StoryboardGenerator;","import React, { useState, useEffect } from 'react';\nimport aiApiService from './aiApiService';\n\nconst StyleGenerator = ({ currentJson, onResult }) => {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [styleData, setStyleData] = useState(null);\n  const [error, setError] = useState(null);\n  const [activeSection, setActiveSection] = useState('presets');\n\n  // Preset Styles\n  const presetStyles = [\n    {\n      id: 'cinematic-epic',\n      name: 'Cinematic Epic',\n      icon: '🎬',\n      description: 'Grand, sweeping cinematography with dramatic lighting',\n      style: {\n        cinematography: 'Wide establishing shots, dramatic low angles, golden hour lighting',\n        mood: 'Epic, heroic, larger-than-life',\n        color_palette: 'Warm golds, deep blues, high contrast',\n        camera_movement: 'Slow, deliberate camera movements, crane shots'\n      }\n    },\n    {\n      id: 'noir-classic',\n      name: 'Film Noir',\n      icon: '🕵️',\n      description: 'Classic noir with high contrast lighting and shadows',\n      style: {\n        cinematography: 'High contrast black and white, venetian blind shadows',\n        mood: 'Dark, mysterious, atmospheric',\n        color_palette: 'Monochromatic, stark contrasts, deep shadows',\n        camera_movement: 'Static shots, dramatic angles, close-ups'\n      }\n    },\n    {\n      id: 'horror-atmospheric',\n      name: 'Atmospheric Horror',\n      icon: '👻',\n      description: 'Psychological horror with unsettling atmosphere',\n      style: {\n        cinematography: 'Low key lighting, practical shadows, handheld camera',\n        mood: 'Tense, unsettling, claustrophobic',\n        color_palette: 'Desaturated, cool blues, sickly greens',\n        camera_movement: 'Shaky cam, slow zoom-ins, dutch angles'\n      }\n    },\n    {\n      id: 'sci-fi-futuristic',\n      name: 'Sci-Fi Futuristic',\n      icon: '🚀',\n      description: 'Clean, high-tech aesthetic with neon accents',\n      style: {\n        cinematography: 'Clean compositions, neon lighting, lens flares',\n        mood: 'Sleek, technological, otherworldly',\n        color_palette: 'Cool blues, electric teals, pure whites, neon accents',\n        camera_movement: 'Smooth tracking shots, orbital movements'\n      }\n    },\n    {\n      id: 'indie-naturalistic',\n      name: 'Indie Naturalistic',\n      icon: '🌿',\n      description: 'Raw, authentic feel with natural lighting',\n      style: {\n        cinematography: 'Natural lighting, handheld camera, medium shots',\n        mood: 'Intimate, authentic, grounded',\n        color_palette: 'Natural earth tones, soft pastels, realistic colors',\n        camera_movement: 'Handheld, organic movement, following action'\n      }\n    },\n    {\n      id: 'fantasy-magical',\n      name: 'Fantasy Magical',\n      icon: '✨',\n      description: 'Enchanted atmosphere with ethereal lighting',\n      style: {\n        cinematography: 'Soft focus, practical effects, magical lighting',\n        mood: 'Whimsical, enchanting, mystical',\n        color_palette: 'Rich purples, warm golds, ethereal blues',\n        camera_movement: 'Floating movements, graceful transitions'\n      }\n    }\n  ];\n\n  // Camera Angles\n  const cameraAngles = [\n    { id: 'extreme-wide', name: 'Extreme Wide Shot', icon: '🌍', description: 'Vast landscape or cityscape establishing shot' },\n    { id: 'wide', name: 'Wide Shot', icon: '🏠', description: 'Full body with environment context' },\n    { id: 'medium-wide', name: 'Medium Wide Shot', icon: '👥', description: 'Waist up, good for conversations' },\n    { id: 'medium', name: 'Medium Shot', icon: '👤', description: 'Chest up, standard dialogue shot' },\n    { id: 'medium-close', name: 'Medium Close-up', icon: '😊', description: 'Shoulders up, emotional intimacy' },\n    { id: 'close-up', name: 'Close-up', icon: '👁️', description: 'Face fills frame, maximum emotion' },\n    { id: 'extreme-close', name: 'Extreme Close-up', icon: '🔍', description: 'Eyes, lips, or specific details' },\n    { id: 'bird-eye', name: 'Bird\\'s Eye View', icon: '🦅', description: 'Directly overhead perspective' },\n    { id: 'high-angle', name: 'High Angle', icon: '📐', description: 'Camera above subject, looking down' },\n    { id: 'eye-level', name: 'Eye Level', icon: '👀', description: 'Natural human perspective' },\n    { id: 'low-angle', name: 'Low Angle', icon: '⬆️', description: 'Camera below subject, looking up' },\n    { id: 'dutch-angle', name: 'Dutch Angle', icon: '📱', description: 'Tilted camera for unease or dynamism' }\n  ];\n\n  // Director Style Combos\n  const directorStyles = [\n    {\n      id: 'wes-anderson',\n      name: 'Wes Anderson Style',\n      icon: '🎨',\n      description: 'Symmetrical framing, pastel colors, whimsical storytelling',\n      characteristics: 'Centered compositions, static camera, dollhouse aesthetic, quirky characters'\n    },\n    {\n      id: 'christopher-nolan',\n      name: 'Christopher Nolan Style',\n      icon: '🌀',\n      description: 'Complex narratives, IMAX scale, practical effects',\n      characteristics: 'Non-linear storytelling, grand scale, minimal CGI, time manipulation'\n    },\n    {\n      id: 'quentin-tarantino',\n      name: 'Tarantino Style',\n      icon: '🔫',\n      description: 'Pop culture references, non-linear narrative, stylized violence',\n      characteristics: 'Dialogue-heavy, retro soundtrack, chapter structure, close-ups on details'\n    },\n    {\n      id: 'david-fincher',\n      name: 'David Fincher Style',\n      icon: '🕳️',\n      description: 'Dark themes, meticulous detail, digital perfection',\n      characteristics: 'Precise camera movements, cold color palette, obsessive detail, psychological depth'\n    },\n    {\n      id: 'stanley-kubrick',\n      name: 'Kubrick Style',\n      icon: '👁️',\n      description: 'Symmetrical compositions, long takes, psychological tension',\n      characteristics: 'One-point perspective, tracking shots, classical music, meticulous planning'\n    },\n    {\n      id: 'miyazaki',\n      name: 'Miyazaki Style',\n      icon: '🌸',\n      description: 'Environmental storytelling, hand-drawn beauty, magical realism',\n      characteristics: 'Nature integration, flying sequences, strong female leads, environmental themes'\n    }\n  ];\n\n  // Auto-scroll to generated style data when created\n  useEffect(() => {\n    if (styleData) {\n      const timer = setTimeout(() => {\n        const element = document.querySelector('[data-style-results]');\n        if (element) {\n          element.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'start',\n            inline: 'nearest' \n          });\n        }\n      }, 300);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [styleData]);\n\n  const generateSmartStyleSuggestion = async () => {\n    if (!currentJson || Object.keys(currentJson).length === 0) {\n      setError('No scene to analyze. Please create a scene first.');\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      setError('OpenAI API key required. Please set your API key in settings.');\n      return;\n    }\n\n    setIsGenerating(true);\n    setError(null);\n    setStyleData(null);\n\n    try {\n      const response = await aiApiService.generateStyleSuggestion(currentJson);\n      \n      if (response.success) {\n        setStyleData(response.style);\n      } else {\n        setError(response.error || 'Failed to generate style suggestions. Please try again.');\n      }\n    } catch (err) {\n      console.error('Style generation error:', err);\n      setError('Failed to generate style suggestions. Please try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const applyPresetStyle = (preset) => {\n    const updatedJson = {\n      ...currentJson,\n      cinematography_style: preset.name,\n      ...preset.style\n    };\n    onResult(updatedJson);\n  };\n\n  const applyCameraAngle = (angle) => {\n    const updatedJson = {\n      ...currentJson,\n      camera_angle: angle.name,\n      shot_description: angle.description,\n      framing_notes: `${angle.name}: ${angle.description}`\n    };\n    onResult(updatedJson);\n  };\n\n  const applyDirectorStyle = (director) => {\n    const updatedJson = {\n      ...currentJson,\n      director_style: director.name,\n      style_notes: director.characteristics,\n      aesthetic_approach: director.description\n    };\n    onResult(updatedJson);\n  };\n\n  const applyGeneratedStyle = () => {\n    if (styleData) {\n      const updatedJson = {\n        ...currentJson,\n        ...styleData\n      };\n      onResult(updatedJson);\n      setStyleData(null);\n    }\n  };\n\n  const renderPresetStyles = () => (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {presetStyles.map((preset) => (\n        <div key={preset.id} className=\"bg-gray-50 dark:bg-cinema-card rounded-lg p-4 border border-gray-200 dark:border-cinema-border\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-xl\">{preset.icon}</span>\n              <h4 className=\"font-medium text-gray-800 dark:text-cinema-text\">{preset.name}</h4>\n            </div>\n            <button\n              onClick={() => applyPresetStyle(preset)}\n              className=\"px-3 py-1 bg-purple-500 hover:bg-purple-600 text-white text-xs rounded-md transition-colors\"\n            >\n              Apply\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mb-2\">{preset.description}</p>\n          <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n            <div><strong>Cinematography:</strong> {preset.style.cinematography}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n\n  const renderCameraAngles = () => (\n    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n      {cameraAngles.map((angle) => (\n        <button\n          key={angle.id}\n          onClick={() => applyCameraAngle(angle)}\n          className=\"p-3 bg-gray-50 dark:bg-cinema-card hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg border border-gray-200 dark:border-cinema-border hover:border-blue-300 dark:hover:border-blue-600 transition-all text-left\"\n        >\n          <div className=\"flex items-center space-x-2 mb-1\">\n            <span className=\"text-lg\">{angle.icon}</span>\n            <span className=\"font-medium text-sm text-gray-800 dark:text-cinema-text\">{angle.name}</span>\n          </div>\n          <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted\">{angle.description}</p>\n        </button>\n      ))}\n    </div>\n  );\n\n  const renderDirectorStyles = () => (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {directorStyles.map((director) => (\n        <div key={director.id} className=\"bg-gray-50 dark:bg-cinema-card rounded-lg p-4 border border-gray-200 dark:border-cinema-border\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-xl\">{director.icon}</span>\n              <h4 className=\"font-medium text-gray-800 dark:text-cinema-text\">{director.name}</h4>\n            </div>\n            <button\n              onClick={() => applyDirectorStyle(director)}\n              className=\"px-3 py-1 bg-indigo-500 hover:bg-indigo-600 text-white text-xs rounded-md transition-colors\"\n            >\n              Apply\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mb-2\">{director.description}</p>\n          <p className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">{director.characteristics}</p>\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-6\">\n        <h4 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text mb-2\">\n          🎥 Style Generator\n        </h4>\n        <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted\">\n          Apply cinematic styles, camera angles, and director aesthetics to your scene\n        </p>\n      </div>\n\n      {/* Section Tabs */}\n      <div className=\"flex flex-wrap border-b border-gray-200 dark:border-cinema-border\">\n        <button\n          onClick={() => setActiveSection('presets')}\n          className={`px-4 py-2 text-sm font-medium transition-all ${\n            activeSection === 'presets'\n              ? 'border-b-2 border-purple-500 text-purple-600 dark:border-purple-400 dark:text-purple-400'\n              : 'text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text'\n          }`}\n        >\n          🎨 Preset Styles\n        </button>\n        <button\n          onClick={() => setActiveSection('angles')}\n          className={`px-4 py-2 text-sm font-medium transition-all ${\n            activeSection === 'angles'\n              ? 'border-b-2 border-purple-500 text-purple-600 dark:border-purple-400 dark:text-purple-400'\n              : 'text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text'\n          }`}\n        >\n          📐 Camera Angles\n        </button>\n        <button\n          onClick={() => setActiveSection('directors')}\n          className={`px-4 py-2 text-sm font-medium transition-all ${\n            activeSection === 'directors'\n              ? 'border-b-2 border-purple-500 text-purple-600 dark:border-purple-400 dark:text-purple-400'\n              : 'text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text'\n          }`}\n        >\n          🎬 Director Styles\n        </button>\n        <button\n          onClick={() => setActiveSection('smart')}\n          className={`px-4 py-2 text-sm font-medium transition-all ${\n            activeSection === 'smart'\n              ? 'border-b-2 border-purple-500 text-purple-600 dark:border-purple-400 dark:text-purple-400'\n              : 'text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text'\n          }`}\n        >\n          🧠 Smart Suggestions\n        </button>\n      </div>\n\n      {/* Section Content */}\n      <div className=\"mt-6\">\n        {activeSection === 'presets' && renderPresetStyles()}\n        {activeSection === 'angles' && renderCameraAngles()}\n        {activeSection === 'directors' && renderDirectorStyles()}\n        {activeSection === 'smart' && (\n          <div className=\"space-y-4\">\n            {/* Current Scene Context */}\n            {currentJson?.scene && (\n              <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg\">\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <span className=\"text-blue-600 dark:text-blue-400\">🎬</span>\n                  <span className=\"text-sm font-medium text-blue-800 dark:text-blue-300\">\n                    Current Scene Analysis\n                  </span>\n                </div>\n                <p className=\"text-sm text-blue-700 dark:text-blue-400\">\n                  {currentJson.scene.length > 150 \n                    ? `${currentJson.scene.substring(0, 150)}...` \n                    : currentJson.scene\n                  }\n                </p>\n              </div>\n            )}\n\n            {/* Smart Generate Button */}\n            <button\n              onClick={generateSmartStyleSuggestion}\n              disabled={isGenerating}\n              className={`w-full py-3 rounded-lg text-sm font-medium transition-all duration-300 ${\n                isGenerating\n                  ? 'bg-gray-400 cursor-not-allowed text-white'\n                  : 'bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white shadow-lg hover:shadow-xl'\n              }`}\n            >\n              {isGenerating ? (\n                <>\n                  <svg className=\"animate-spin w-4 h-4 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Analyzing Scene...\n                </>\n              ) : (\n                '🧠 Generate Smart Style Suggestions'\n              )}\n            </button>\n\n            {/* Error Display */}\n            {error && (\n              <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg\">\n                <div className=\"flex items-center space-x-2\">\n                  <svg className=\"w-4 h-4 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n                </div>\n              </div>\n            )}\n            \n            {/* Loading state with scroll hint */}\n            {isGenerating && (\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\n                  <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">Analyzing your scene for optimal style...</span>\n                </div>\n                <div className=\"text-xs text-blue-600 dark:text-blue-300 mt-2 flex items-center space-x-1\">\n                  <span>⬇️</span>\n                  <span>Style suggestions will appear below - we'll scroll you there automatically</span>\n                </div>\n              </div>\n            )}\n\n            {/* Generated Style Display */}\n            {styleData && (\n              <div data-style-results className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg p-4\">\n                {/* Success indicator */}\n                <div className=\"bg-green-100 dark:bg-green-800/20 border border-green-300 dark:border-green-600 rounded-lg p-3 mb-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-lg\">✅</span>\n                    <span className=\"font-medium text-green-800 dark:text-green-200\">Smart style suggestions generated!</span>\n                  </div>\n                  <p className=\"text-sm text-green-600 dark:text-green-300 mt-1\">\n                    AI-analyzed recommendations based on your scene content and context.\n                  </p>\n                </div>\n                \n                <div className=\"space-y-4 text-sm\">\n                  {Object.entries(styleData).map(([key, value]) => (\n                    <div key={key}>\n                      <strong className=\"text-green-700 dark:text-green-400 capitalize\">\n                        {key.replace(/_/g, ' ')}:\n                      </strong>\n                      <p className=\"text-green-600 dark:text-green-300 mt-1\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-4\">\n                  <button\n                    onClick={applyGeneratedStyle}\n                    className=\"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors\"\n                  >\n                    Apply Style to Scene\n                  </button>\n                  <button\n                    onClick={() => setStyleData(null)}\n                    className=\"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-md transition-colors\"\n                  >\n                    Dismiss\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* API Key Setup Prompt */}\n      {!aiApiService.hasApiKey() && activeSection === 'smart' && (\n        <div className=\"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <svg className=\"w-4 h-4 text-orange-600 dark:text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n            <span className=\"text-sm font-medium text-orange-800 dark:text-orange-200\">\n              OpenAI API Key Required\n            </span>\n          </div>\n          <p className=\"text-sm text-orange-700 dark:text-orange-300 mb-3\">\n            Smart Style Suggestions require an OpenAI API key to analyze your scene and generate recommendations.\n          </p>\n          <button \n            onClick={() => {\n              const key = prompt('Enter your OpenAI API key:');\n              if (key) {\n                aiApiService.setApiKey(key);\n              }\n            }}\n            className=\"px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm rounded-lg transition-colors\"\n          >\n            Set API Key\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StyleGenerator;","// Robust JSON Parsing and Validation System for AI-Generated Content\n// Handles malformed JSON, missing fields, and intelligent error recovery\n\nimport { schema } from './schema.js';\n\nclass JSONValidator {\n  constructor() {\n    this.schemaFields = this.extractSchemaFields();\n    this.requiredFields = ['scene']; // Minimum required fields\n    this.fallbackValues = this.generateFallbackValues();\n  }\n\n  // Extract all possible fields from the schema\n  extractSchemaFields() {\n    const fields = new Set();\n    \n    schema.categories.forEach(category => {\n      category.fields.forEach(field => {\n        fields.add(field.key);\n        \n        // Add detail configuration fields\n        if (field.detailConfig) {\n          Object.values(field.detailConfig).forEach(detailConfig => {\n            detailConfig.fields.forEach(detailField => {\n              fields.add(detailField.key);\n            });\n          });\n        }\n      });\n    });\n    \n    return Array.from(fields);\n  }\n\n  // Generate sensible fallback values for common fields\n  generateFallbackValues() {\n    return {\n      scene: \"A cinematic scene with professional composition\",\n      setting: \"indoor studio\",\n      time_of_day: \"afternoon\",\n      environment: \"clear\",\n      character_type: \"human\",\n      actions: \"standing\",\n      emotions: \"calm\",\n      angle: \"eye level\",\n      distance: \"medium shot\",\n      lighting_type: \"natural light\",\n      color_palette: \"balanced\",\n      style: \"cinematic\",\n      tone: \"professional\",\n      atmosphere: \"polished\",\n      aspect_ratio: \"16:9\",\n      duration: \"30s\"\n    };\n  }\n\n  // Main validation method with comprehensive error recovery\n  validateAndRepair(jsonString, originalJSON = null) {\n    try {\n      // Step 1: Try direct JSON parsing\n      const parsed = this.parseJSON(jsonString);\n      if (parsed.success) {\n        return this.validateStructure(parsed.data, originalJSON);\n      }\n\n      // Step 2: Try repair strategies if direct parsing failed\n      const repaired = this.repairJSON(jsonString);\n      if (repaired.success) {\n        return this.validateStructure(repaired.data, originalJSON);\n      }\n\n      // Step 3: Extract partial data if repair failed\n      const extracted = this.extractPartialData(jsonString, originalJSON);\n      return extracted;\n\n    } catch (error) {\n      console.error('JSON validation failed:', error);\n      return this.createFallbackResult(originalJSON, error.message);\n    }\n  }\n\n  // Safe JSON parsing with error details\n  parseJSON(jsonString) {\n    try {\n      // Clean the string first\n      const cleaned = this.cleanJSONString(jsonString);\n      const parsed = JSON.parse(cleaned);\n      \n      if (typeof parsed !== 'object' || parsed === null) {\n        throw new Error('Parsed JSON is not an object');\n      }\n\n      return {\n        success: true,\n        data: parsed,\n        method: 'direct_parse'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message,\n        method: 'direct_parse'\n      };\n    }\n  }\n\n  // Clean JSON string of common AI output issues\n  cleanJSONString(str) {\n    if (typeof str !== 'string') {\n      throw new Error('Input is not a string');\n    }\n\n    let cleaned = str.trim();\n\n    // Remove markdown code blocks\n    cleaned = cleaned.replace(/```json\\s*/gi, '').replace(/```\\s*$/gi, '');\n    cleaned = cleaned.replace(/```\\s*/gi, '');\n\n    // Remove leading/trailing text that's not JSON\n    const jsonStart = cleaned.indexOf('{');\n    const jsonEnd = cleaned.lastIndexOf('}');\n    \n    if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {\n      cleaned = cleaned.substring(jsonStart, jsonEnd + 1);\n    }\n\n    // Fix common JSON formatting issues\n    cleaned = this.fixCommonJSONIssues(cleaned);\n\n    return cleaned;\n  }\n\n  // Fix common JSON formatting problems\n  fixCommonJSONIssues(str) {\n    let fixed = str;\n\n    // Fix trailing commas\n    fixed = fixed.replace(/,(\\s*[}\\]])/g, '$1');\n\n    // Fix unquoted keys\n    fixed = fixed.replace(/([{,]\\s*)([a-zA-Z_][a-zA-Z0-9_]*)\\s*:/g, '$1\"$2\":');\n\n    // Fix single quotes to double quotes\n    fixed = fixed.replace(/'/g, '\"');\n\n    // Fix escaped quotes in strings\n    fixed = fixed.replace(/\\\\\"/g, '\\\\\"');\n\n    // Fix line breaks in strings\n    fixed = fixed.replace(/\"([^\"]*)\\n([^\"]*)\"/g, '\"$1\\\\n$2\"');\n\n    // Fix boolean values\n    fixed = fixed.replace(/:\\s*True\\b/gi, ': true');\n    fixed = fixed.replace(/:\\s*False\\b/gi, ': false');\n    fixed = fixed.replace(/:\\s*None\\b/gi, ': null');\n\n    return fixed;\n  }\n\n  // Advanced JSON repair strategies\n  repairJSON(jsonString) {\n    const repairStrategies = [\n      this.repairWithBracketCompletion.bind(this),\n      this.repairWithQuoteFixing.bind(this),\n      this.repairWithFieldReconstruction.bind(this),\n      this.repairWithTemplateMatching.bind(this)\n    ];\n\n    for (const strategy of repairStrategies) {\n      try {\n        const result = strategy(jsonString);\n        if (result.success) {\n          return result;\n        }\n      } catch (error) {\n        console.warn(`Repair strategy failed: ${error.message}`);\n      }\n    }\n\n    return {\n      success: false,\n      error: 'All repair strategies failed',\n      method: 'repair_failed'\n    };\n  }\n\n  // Repair by completing missing brackets\n  repairWithBracketCompletion(str) {\n    let cleaned = this.cleanJSONString(str);\n    \n    // Count brackets to find missing ones\n    const openBraces = (cleaned.match(/\\{/g) || []).length;\n    const closeBraces = (cleaned.match(/\\}/g) || []).length;\n    const openBrackets = (cleaned.match(/\\[/g) || []).length;\n    const closeBrackets = (cleaned.match(/\\]/g) || []).length;\n\n    // Add missing closing braces\n    for (let i = 0; i < openBraces - closeBraces; i++) {\n      cleaned += '}';\n    }\n\n    // Add missing closing brackets\n    for (let i = 0; i < openBrackets - closeBrackets; i++) {\n      cleaned += ']';\n    }\n\n    try {\n      const parsed = JSON.parse(cleaned);\n      return {\n        success: true,\n        data: parsed,\n        method: 'bracket_completion'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message,\n        method: 'bracket_completion'\n      };\n    }\n  }\n\n  // Repair by fixing quote issues\n  repairWithQuoteFixing(str) {\n    let cleaned = this.cleanJSONString(str);\n    \n    // Try to fix unmatched quotes\n    const lines = cleaned.split('\\n');\n    const fixedLines = lines.map(line => {\n      // If line has an odd number of quotes, try to fix it\n      const quoteCount = (line.match(/\"/g) || []).length;\n      if (quoteCount % 2 !== 0) {\n        // Try adding a quote at the end of string values\n        if (line.includes(':') && !line.trim().endsWith('\"') && !line.trim().endsWith(',')) {\n          line = line.trim() + '\"';\n        }\n      }\n      return line;\n    });\n\n    try {\n      const repaired = fixedLines.join('\\n');\n      const parsed = JSON.parse(repaired);\n      return {\n        success: true,\n        data: parsed,\n        method: 'quote_fixing'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message,\n        method: 'quote_fixing'\n      };\n    }\n  }\n\n  // Repair by reconstructing fields from fragments\n  repairWithFieldReconstruction(str) {\n    const fieldPattern = /\"([^\"]+)\":\\s*\"([^\"]*)\"/g;\n    const reconstructed = {};\n    let match;\n\n    while ((match = fieldPattern.exec(str)) !== null) {\n      const [, key, value] = match;\n      reconstructed[key] = value;\n    }\n\n    // Also try to extract simple key-value pairs\n    const simplePattern = /(\\w+):\\s*([^,\\n}]+)/g;\n    while ((match = simplePattern.exec(str)) !== null) {\n      const [, key, value] = match;\n      if (!reconstructed[key]) {\n        reconstructed[key] = value.trim().replace(/['\"]/g, '');\n      }\n    }\n\n    if (Object.keys(reconstructed).length > 0) {\n      return {\n        success: true,\n        data: reconstructed,\n        method: 'field_reconstruction'\n      };\n    }\n\n    return {\n      success: false,\n      error: 'No fields could be reconstructed',\n      method: 'field_reconstruction'\n    };\n  }\n\n  // Repair using template matching\n  repairWithTemplateMatching(str) {\n    // Extract content between first { and last }\n    const start = str.indexOf('{');\n    const end = str.lastIndexOf('}');\n    \n    if (start === -1 || end === -1 || end <= start) {\n      return {\n        success: false,\n        error: 'No JSON structure found',\n        method: 'template_matching'\n      };\n    }\n\n    const content = str.substring(start + 1, end);\n    const lines = content.split(/[,\\n]/);\n    const reconstructed = {};\n\n    for (const line of lines) {\n      const colonIndex = line.indexOf(':');\n      if (colonIndex > 0) {\n        const key = line.substring(0, colonIndex).trim().replace(/['\"]/g, '');\n        const value = line.substring(colonIndex + 1).trim().replace(/['\"]/g, '');\n        \n        if (key && value) {\n          reconstructed[key] = value;\n        }\n      }\n    }\n\n    if (Object.keys(reconstructed).length > 0) {\n      return {\n        success: true,\n        data: reconstructed,\n        method: 'template_matching'\n      };\n    }\n\n    return {\n      success: false,\n      error: 'Template matching failed',\n      method: 'template_matching'\n    };\n  }\n\n  // Extract whatever data we can from malformed JSON\n  extractPartialData(jsonString, originalJSON) {\n    const extracted = {};\n    \n    // Try to extract field-value pairs using various patterns\n    const patterns = [\n      /\"(\\w+)\":\\s*\"([^\"]*)\"/g,\n      /\"(\\w+)\":\\s*([^,}\\n]+)/g,\n      /(\\w+):\\s*\"([^\"]*)\"/g,\n      /(\\w+):\\s*([^,}\\n]+)/g\n    ];\n\n    for (const pattern of patterns) {\n      let match;\n      pattern.lastIndex = 0; // Reset regex\n      \n      while ((match = pattern.exec(jsonString)) !== null) {\n        const [, key, value] = match;\n        if (this.schemaFields.includes(key) && !extracted[key]) {\n          extracted[key] = value.trim().replace(/['\"]/g, '');\n        }\n      }\n    }\n\n    // If we got some data, merge with original if available\n    if (Object.keys(extracted).length > 0) {\n      const result = originalJSON ? { ...originalJSON, ...extracted } : extracted;\n      return this.validateStructure(result, originalJSON);\n    }\n\n    // Last resort: return original or fallback\n    return this.createFallbackResult(originalJSON, 'Could not extract any valid data');\n  }\n\n  // Validate and repair the structure of parsed JSON\n  validateStructure(data, originalJSON = null) {\n    const result = {\n      success: true,\n      data: { ...data },\n      warnings: [],\n      repairs: []\n    };\n\n    // Ensure required fields exist\n    for (const field of this.requiredFields) {\n      if (!result.data[field]) {\n        if (originalJSON && originalJSON[field]) {\n          result.data[field] = originalJSON[field];\n          result.repairs.push(`Restored missing field '${field}' from original`);\n        } else if (this.fallbackValues[field]) {\n          result.data[field] = this.fallbackValues[field];\n          result.repairs.push(`Added fallback value for missing field '${field}'`);\n        } else {\n          result.warnings.push(`Missing required field '${field}'`);\n        }\n      }\n    }\n\n    // Validate field types and values\n    result.data = this.validateFieldTypes(result.data, result);\n\n    // Remove invalid fields not in schema (but preserve AI extension fields)\n    const validFields = new Set(this.schemaFields);\n    \n    // AI Extension fields that should always be preserved\n    const aiExtensionFields = new Set([\n      'continuation_type', 'character_focus', 'development_type', 'internal_state',\n      'narrative_connection', 'twist_type', 'optimization_type', 'quality_improvements',\n      'creative_additions', 'viral_elements', 'engagement_hooks', 'platform_adaptations',\n      'target_platform', 'technical_specifications', 'style_elements', 'aesthetic_enhancements',\n      'optimization_notes', 'ai_message', 'visual_enhancements', 'cinematic_techniques',\n      'technical_upgrades', 'production_notes', 'story_structure', 'character_motivations',\n      'narrative_improvements', 'trending_adaptations', 'shareability_factors',\n      'stylistic_influences', 'engagement_strategy'\n    ]);\n    \n    const dataKeys = Object.keys(result.data);\n    \n    for (const key of dataKeys) {\n      const isValidField = validFields.has(key);\n      const isMetadataField = key.startsWith('_');\n      const isNotesOrMessage = key.includes('_notes') || key.includes('_message');\n      const isAIExtension = aiExtensionFields.has(key);\n      \n      if (!isValidField && !isMetadataField && !isNotesOrMessage && !isAIExtension) {\n        delete result.data[key];\n        result.repairs.push(`Removed invalid field '${key}'`);\n      }\n    }\n\n    return result;\n  }\n\n  // Validate and fix field types\n  validateFieldTypes(data, result) {\n    const validated = { ...data };\n\n    // Get field definitions from schema\n    const fieldDefinitions = this.getFieldDefinitions();\n\n    for (const [key, value] of Object.entries(validated)) {\n      const fieldDef = fieldDefinitions[key];\n      \n      if (fieldDef) {\n        const validatedValue = this.validateFieldValue(key, value, fieldDef, result);\n        validated[key] = validatedValue;\n      }\n    }\n\n    return validated;\n  }\n\n  // Get field definitions from schema\n  getFieldDefinitions() {\n    const definitions = {};\n    \n    schema.categories.forEach(category => {\n      category.fields.forEach(field => {\n        definitions[field.key] = field;\n        \n        // Add detail configuration fields\n        if (field.detailConfig) {\n          Object.values(field.detailConfig).forEach(detailConfig => {\n            detailConfig.fields.forEach(detailField => {\n              definitions[detailField.key] = detailField;\n            });\n          });\n        }\n      });\n    });\n    \n    return definitions;\n  }\n\n  // Validate individual field value\n  validateFieldValue(key, value, fieldDef, result) {\n    // Handle different field types\n    switch (fieldDef.type) {\n      case 'select':\n        if (fieldDef.options && !fieldDef.options.includes(value)) {\n          // Try to find closest match\n          const closest = this.findClosestOption(value, fieldDef.options);\n          if (closest) {\n            result.repairs.push(`Changed '${key}' from '${value}' to '${closest}' (closest match)`);\n            return closest;\n          }\n        }\n        return value;\n        \n      case 'number':\n        const num = Number(value);\n        if (!isNaN(num)) {\n          return num;\n        }\n        result.warnings.push(`Invalid number value for '${key}': ${value}`);\n        return 0;\n        \n      case 'text':\n      case 'textarea':\n        return String(value);\n        \n      default:\n        return value;\n    }\n  }\n\n  // Find closest matching option using fuzzy matching\n  findClosestOption(value, options) {\n    if (!value || !options) return null;\n    \n    const valueStr = String(value).toLowerCase();\n    \n    // Exact match first\n    const exactMatch = options.find(opt => opt.toLowerCase() === valueStr);\n    if (exactMatch) return exactMatch;\n    \n    // Partial match\n    const partialMatch = options.find(opt => \n      opt.toLowerCase().includes(valueStr) || valueStr.includes(opt.toLowerCase())\n    );\n    if (partialMatch) return partialMatch;\n    \n    // Fuzzy match using Levenshtein distance\n    let bestMatch = null;\n    let bestDistance = Infinity;\n    \n    for (const option of options) {\n      const distance = this.levenshteinDistance(valueStr, option.toLowerCase());\n      if (distance < bestDistance && distance <= 3) { // Max distance of 3\n        bestDistance = distance;\n        bestMatch = option;\n      }\n    }\n    \n    return bestMatch;\n  }\n\n  // Calculate Levenshtein distance for fuzzy matching\n  levenshteinDistance(str1, str2) {\n    const matrix = [];\n    \n    for (let i = 0; i <= str2.length; i++) {\n      matrix[i] = [i];\n    }\n    \n    for (let j = 0; j <= str1.length; j++) {\n      matrix[0][j] = j;\n    }\n    \n    for (let i = 1; i <= str2.length; i++) {\n      for (let j = 1; j <= str1.length; j++) {\n        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\n          matrix[i][j] = matrix[i - 1][j - 1];\n        } else {\n          matrix[i][j] = Math.min(\n            matrix[i - 1][j - 1] + 1,\n            matrix[i][j - 1] + 1,\n            matrix[i - 1][j] + 1\n          );\n        }\n      }\n    }\n    \n    return matrix[str2.length][str1.length];\n  }\n\n  // Create fallback result when all else fails\n  createFallbackResult(originalJSON, errorMessage) {\n    const fallback = originalJSON ? { ...originalJSON } : { ...this.fallbackValues };\n    \n    return {\n      success: false,\n      data: fallback,\n      error: errorMessage,\n      fallback: true,\n      warnings: ['Using fallback data due to parsing failure'],\n      repairs: []\n    };\n  }\n\n  // Quick validation for simple JSON strings\n  isValidJSON(str) {\n    try {\n      JSON.parse(str);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  // Get validation statistics\n  getValidationStats(result) {\n    return {\n      success: result.success,\n      fieldCount: Object.keys(result.data).length,\n      warningCount: result.warnings ? result.warnings.length : 0,\n      repairCount: result.repairs ? result.repairs.length : 0,\n      method: result.method || 'unknown',\n      fallback: result.fallback || false\n    };\n  }\n}\n\n// Create and export singleton instance\nconst jsonValidator = new JSONValidator();\nexport default jsonValidator;\n\n// Export class for testing\nexport { JSONValidator };","import React, { useState, useRef } from 'react';\nimport aiApiService from './aiApiService';\nimport jsonValidator from './jsonValidator';\nimport { CONTINUATION_TYPES } from './aiSystemPrompts';\n\nconst SceneExtender = ({ \n  currentScene, \n  onSceneExtended, \n  onTimeline, \n  className = \"\",\n  showAdvancedOptions = true,\n  userPreferences = {}\n}) => {\n  const [isExtending, setIsExtending] = useState(false);\n  const [extendingType, setExtendingType] = useState(null); // Track which specific type is loading\n  const [showOptions, setShowOptions] = useState(false);\n  const [selectedType, setSelectedType] = useState('logical');\n  const [extensionResults, setExtensionResults] = useState([]);\n  const [error, setError] = useState(null);\n  const [showResults, setShowResults] = useState(false);\n  const [quickMode, setQuickMode] = useState(false);\n  const [contextSettings, setContextSettings] = useState({\n    preserveStyle: true,\n    enhanceVisuals: false,\n    maintainTone: true,\n    addDetails: true\n  });\n  const abortControllerRef = useRef(null);\n\n  // Handle scene extension with comprehensive error handling\n  const extendScene = async (continuationType = selectedType, options = {}) => {\n    if (!currentScene || Object.keys(currentScene).length === 0) {\n      setError('No scene to extend. Please create a scene first.');\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      setError('OpenAI API key required. Please set your API key in settings.');\n      return;\n    }\n\n    setIsExtending(true);\n    setExtendingType(continuationType);\n    setError(null);\n    setExtensionResults([]);\n\n    // Create abort controller for cancellation\n    abortControllerRef.current = new AbortController();\n\n    try {\n      // Build additional context from settings and preferences\n      const additionalContext = {\n        userPreferences: userPreferences,\n        contextSettings: contextSettings,\n        preserveStyle: contextSettings.preserveStyle,\n        enhanceVisuals: contextSettings.enhanceVisuals,\n        maintainTone: contextSettings.maintainTone,\n        addDetails: contextSettings.addDetails,\n        quickMode: quickMode,\n        ...options.additionalContext\n      };\n\n      console.log(`Extending scene with type: ${continuationType}`);\n      const response = await aiApiService.extendScene(\n        currentScene, \n        continuationType, \n        additionalContext\n      );\n\n      if (response.success) {\n        // Validate and parse the AI response\n        const validationResult = jsonValidator.validateAndRepair(\n          response.scene, \n          currentScene\n        );\n\n        const extendedScene = {\n          ...validationResult.data,\n          _metadata: {\n            continuationType: continuationType,\n            originalScene: currentScene,\n            aiGenerated: true,\n            timestamp: Date.now(),\n            usage: response.usage,\n            validationWarnings: validationResult.warnings,\n            validationRepairs: validationResult.repairs\n          }\n        };\n\n        setExtensionResults([{\n          id: Date.now(),\n          type: continuationType,\n          scene: extendedScene,\n          success: true,\n          metadata: response.metadata\n        }]);\n\n        setShowResults(true);\n        \n        // Auto-apply if in quick mode\n        if (quickMode) {\n          onSceneExtended(extendedScene);\n        }\n\n      } else {\n        // Handle API failure with fallback\n        if (response.fallback) {\n          const fallbackScene = {\n            ...response.fallback,\n            _metadata: {\n              continuationType: continuationType,\n              originalScene: currentScene,\n              fallbackGenerated: true,\n              timestamp: Date.now(),\n              fallbackReason: response.error\n            }\n          };\n\n          setExtensionResults([{\n            id: Date.now(),\n            type: continuationType,\n            scene: fallbackScene,\n            success: false,\n            fallback: true,\n            error: response.error\n          }]);\n\n          setShowResults(true);\n        } else {\n          setError(response.error);\n        }\n      }\n\n    } catch (err) {\n      console.error('Scene extension error:', err);\n      \n      // Provide specific error messages for common issues\n      let errorMessage = err.message || 'Unknown error occurred during scene extension';\n      \n      if (err.name === 'TimeoutError' || err.message.includes('timed out') || err.message.includes('aborted')) {\n        errorMessage = 'Scene extension timed out. The AI is taking longer than expected. Please try again or try with a simpler scene.';\n      } else if (err.message.includes('API key')) {\n        errorMessage = 'OpenAI API key required. Please set your API key in settings.';\n      } else if (err.message.includes('rate limit') || err.message.includes('quota')) {\n        errorMessage = 'API rate limit exceeded. Please wait a moment and try again.';\n      } else if (err.message.includes('network') || err.message.includes('connection')) {\n        errorMessage = 'Network connection issue. Please check your internet connection and try again.';\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setIsExtending(false);\n      setExtendingType(null);\n      abortControllerRef.current = null;\n    }\n  };\n\n  // Generate multiple extensions at once\n  const generateMultipleExtensions = async () => {\n    const types = ['logical', 'twist', 'genreShift', 'characterDevelopment'];\n    const results = [];\n    \n    setIsExtending(true);\n    setError(null);\n    setExtensionResults([]);\n\n    for (const type of types) {\n      try {\n        await extendScene(type, { \n          additionalContext: { \n            batchMode: true, \n            batchIndex: results.length \n          }\n        });\n        \n        // Add small delay to avoid rate limiting\n        await new Promise(resolve => setTimeout(resolve, 1000));\n      } catch (error) {\n        console.warn(`Failed to generate ${type} extension:`, error);\n      }\n    }\n  };\n\n  // Cancel ongoing extension\n  const cancelExtension = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      setIsExtending(false);\n      setExtendingType(null);\n      setError('Extension cancelled by user');\n    }\n  };\n\n  // Apply an extension result\n  const applyExtension = (result) => {\n    onSceneExtended(result.scene);\n    setShowResults(false);\n  };\n\n  // Add to timeline if timeline manager is available\n  const addToTimeline = (result) => {\n    if (onTimeline) {\n      onTimeline({\n        type: 'add_scene',\n        scene: result.scene,\n        continuationType: result.type,\n        position: 'after_current'\n      });\n    }\n  };\n\n  // Get icon for continuation type\n  const getTypeIcon = (type) => {\n    const icons = {\n      logical: '🔗',\n      twist: '🌪️',\n      genreShift: '🎭',\n      characterDevelopment: '👤',\n      flashback: '⏮️',\n      timeSkip: '⏭️',\n      alternateReality: '🌀',\n      environmentalEscalation: '🌍'\n    };\n    return icons[type] || '🎬';\n  };\n\n  // Get color for continuation type\n  const getTypeColor = (type) => {\n    const colors = {\n      logical: 'blue',\n      twist: 'purple',\n      genreShift: 'orange',\n      characterDevelopment: 'green',\n      flashback: 'indigo',\n      timeSkip: 'cyan',\n      alternateReality: 'pink',\n      environmentalEscalation: 'emerald'\n    };\n    return colors[type] || 'gray';\n  };\n\n  return (\n    <div className={`scene-extender ${className}`}>\n      {/* Main Extension Button */}\n      <div className=\"extension-header\">\n        <button\n          onClick={() => setShowOptions(!showOptions)}\n          disabled={isExtending}\n          className={`main-extend-btn ${isExtending ? 'extending' : ''}`}\n        >\n          {isExtending ? (\n            <>\n              <svg className=\"animate-spin w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <span>Extending Scene...</span>\n              <button \n                onClick={cancelExtension}\n                className=\"cancel-btn\"\n              >\n                Cancel\n              </button>\n            </>\n          ) : (\n            <>\n              <span className=\"btn-icon\">🎬</span>\n              <span>Scene Extender</span>\n              <svg className={`w-4 h-4 transition-transform ${showOptions ? 'rotate-180' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </>\n          )}\n        </button>\n\n        {/* Quick Actions */}\n        {!showOptions && !isExtending && (\n          <div className=\"quick-actions\">\n            <button\n              onClick={() => extendScene('logical')}\n              className=\"quick-btn logical\"\n              title=\"Logical continuation\"\n            >\n              🔗 Continue\n            </button>\n            <button\n              onClick={() => extendScene('twist')}\n              className=\"quick-btn twist\"\n              title=\"Add unexpected twist\"\n            >\n              🌪️ Twist\n            </button>\n            <button\n              onClick={generateMultipleExtensions}\n              className=\"quick-btn multiple\"\n              title=\"Generate 4 different extensions\"\n            >\n              ✨ Multi\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Advanced Extension Options */}\n      {showOptions && (\n        <div className=\"extension-options\">\n          {/* Quick Mode Toggle */}\n          <div className=\"mode-toggle\">\n            <label className=\"quick-mode-label\">\n              <input\n                type=\"checkbox\"\n                checked={quickMode}\n                onChange={(e) => setQuickMode(e.target.checked)}\n              />\n              <span>Quick Mode (auto-apply results)</span>\n            </label>\n          </div>\n\n          {/* Continuation Type Selection */}\n          <div className=\"continuation-types\">\n            <h4>Choose Extension Type:</h4>\n            <div className=\"type-grid\">\n              {CONTINUATION_TYPES.map((type) => (\n                <button\n                  key={type.id}\n                  onClick={() => {\n                    setSelectedType(type.id);\n                    if (!isExtending) {\n                      extendScene(type.id);\n                    }\n                  }}\n                  disabled={isExtending}\n                  className={`type-option ${selectedType === type.id ? 'selected' : ''} ${isExtending && extendingType === type.id ? 'extending' : ''} color-${getTypeColor(type.id)}`}\n                >\n                  <div className=\"type-content\">\n                    <div className=\"type-header\">\n                      <span className=\"type-icon\">\n                        {isExtending && extendingType === type.id ? (\n                          <span className=\"animate-pulse\">⏳</span>\n                        ) : (\n                          getTypeIcon(type.id)\n                        )}\n                      </span>\n                      <span className=\"type-name\">\n                        {type.name}\n                        {isExtending && extendingType === type.id && <span className=\"text-xs ml-1\">(Processing...)</span>}\n                      </span>\n                    </div>\n                    <p className=\"type-description\">{type.description}</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Context Settings */}\n          {showAdvancedOptions && (\n            <div className=\"context-settings\">\n              <h4>Extension Settings:</h4>\n              <div className=\"settings-grid\">\n                <label className=\"setting-item\">\n                  <input\n                    type=\"checkbox\"\n                    checked={contextSettings.preserveStyle}\n                    onChange={(e) => setContextSettings(prev => ({\n                      ...prev,\n                      preserveStyle: e.target.checked\n                    }))}\n                  />\n                  <span>Preserve Visual Style</span>\n                </label>\n                <label className=\"setting-item\">\n                  <input\n                    type=\"checkbox\"\n                    checked={contextSettings.maintainTone}\n                    onChange={(e) => setContextSettings(prev => ({\n                      ...prev,\n                      maintainTone: e.target.checked\n                    }))}\n                  />\n                  <span>Maintain Tone & Mood</span>\n                </label>\n                <label className=\"setting-item\">\n                  <input\n                    type=\"checkbox\"\n                    checked={contextSettings.enhanceVisuals}\n                    onChange={(e) => setContextSettings(prev => ({\n                      ...prev,\n                      enhanceVisuals: e.target.checked\n                    }))}\n                  />\n                  <span>Enhance Visual Details</span>\n                </label>\n                <label className=\"setting-item\">\n                  <input\n                    type=\"checkbox\"\n                    checked={contextSettings.addDetails}\n                    onChange={(e) => setContextSettings(prev => ({\n                      ...prev,\n                      addDetails: e.target.checked\n                    }))}\n                  />\n                  <span>Add Rich Details</span>\n                </label>\n              </div>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"action-buttons\">\n            <button\n              onClick={() => extendScene(selectedType)}\n              disabled={isExtending}\n              className=\"extend-selected-btn\"\n            >\n              🎬 Generate {CONTINUATION_TYPES.find(t => t.id === selectedType)?.name}\n            </button>\n            \n            <button\n              onClick={generateMultipleExtensions}\n              disabled={isExtending}\n              className=\"extend-multiple-btn\"\n            >\n              ✨ Generate 4 Extensions\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"error-display\">\n          <div className=\"error-content\">\n            <svg className=\"error-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span>{error}</span>\n          </div>\n          <button \n            onClick={() => setError(null)}\n            className=\"dismiss-error\"\n          >\n            ×\n          </button>\n        </div>\n      )}\n\n      {/* Extension Results */}\n      {showResults && extensionResults.length > 0 && (\n        <div className=\"extension-results\">\n          <div className=\"results-header\">\n            <h4>Generated Extensions ({extensionResults.length})</h4>\n            <button \n              onClick={() => setShowResults(false)}\n              className=\"close-results\"\n            >\n              ×\n            </button>\n          </div>\n          \n          <div className=\"results-grid\">\n            {extensionResults.map((result) => (\n              <div \n                key={result.id} \n                className={`result-card ${result.success ? 'success' : 'fallback'} color-${getTypeColor(result.type)}`}\n              >\n                <div className=\"result-header\">\n                  <span className=\"result-icon\">{getTypeIcon(result.type)}</span>\n                  <span className=\"result-type\">\n                    {CONTINUATION_TYPES.find(t => t.id === result.type)?.name}\n                  </span>\n                  {result.fallback && (\n                    <span className=\"fallback-badge\">Fallback</span>\n                  )}\n                </div>\n                \n                {/* Scene Preview */}\n                <div className=\"scene-preview\">\n                  <p><strong>Scene:</strong> {result.scene.scene?.substring(0, 150)}...</p>\n                  {result.scene.setting && (\n                    <p><strong>Setting:</strong> {result.scene.setting}</p>\n                  )}\n                  {result.scene.tone && (\n                    <p><strong>Tone:</strong> {result.scene.tone}</p>\n                  )}\n                </div>\n\n                {/* Metadata */}\n                {result.scene._metadata && (\n                  <div className=\"metadata-preview\">\n                    {result.scene._metadata.validationWarnings?.length > 0 && (\n                      <p className=\"warnings\">\n                        ⚠️ {result.scene._metadata.validationWarnings.length} warnings\n                      </p>\n                    )}\n                    {result.scene._metadata.validationRepairs?.length > 0 && (\n                      <p className=\"repairs\">\n                        🔧 {result.scene._metadata.validationRepairs.length} repairs made\n                      </p>\n                    )}\n                  </div>\n                )}\n\n                {/* Error Display */}\n                {result.error && (\n                  <div className=\"result-error\">\n                    <p>⚠️ {result.error}</p>\n                  </div>\n                )}\n\n                {/* Action Buttons */}\n                <div className=\"result-actions\">\n                  <button\n                    onClick={() => applyExtension(result)}\n                    className=\"apply-btn\"\n                  >\n                    ✅ Apply Scene\n                  </button>\n                  {onTimeline && (\n                    <button\n                      onClick={() => addToTimeline(result)}\n                      className=\"timeline-btn\"\n                    >\n                      📽️ Add to Timeline\n                    </button>\n                  )}\n                  <button\n                    onClick={() => {\n                      navigator.clipboard.writeText(JSON.stringify(result.scene, null, 2));\n                    }}\n                    className=\"copy-btn\"\n                  >\n                    📋 Copy JSON\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* API Key Setup Prompt */}\n      {!aiApiService.hasApiKey() && (\n        <div className=\"api-key-prompt\">\n          <div className=\"prompt-content\">\n            <h4>🔑 OpenAI API Key Required</h4>\n            <p>Scene Extender requires an OpenAI API key to generate continuations.</p>\n            <button \n              onClick={() => {\n                const key = prompt('Enter your OpenAI API key:');\n                if (key) {\n                  aiApiService.setApiKey(key);\n                }\n              }}\n              className=\"setup-key-btn\"\n            >\n              Set API Key\n            </button>\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .scene-extender {\n          width: 100%;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n\n        .extension-header {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-bottom: 12px;\n        }\n\n        .main-extend-btn {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 12px;\n          background: linear-gradient(135deg, #667eea, #764ba2);\n          color: white;\n          border: none;\n          border-radius: 8px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s;\n          flex: 1;\n          font-size: 14px;\n        }\n\n        .main-extend-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n        }\n\n        .main-extend-btn:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n        }\n\n        .main-extend-btn.extending {\n          background: linear-gradient(135deg, #f093fb, #f5576c);\n        }\n\n        .btn-icon {\n          font-size: 1.2rem;\n        }\n\n        .cancel-btn {\n          background: rgba(255, 255, 255, 0.2);\n          border: 1px solid rgba(255, 255, 255, 0.3);\n          color: white;\n          padding: 4px 8px;\n          border-radius: 4px;\n          cursor: pointer;\n          margin-left: 8px;\n        }\n\n        .quick-actions {\n          display: flex;\n          gap: 8px;\n        }\n\n        .quick-btn {\n          padding: 8px 12px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 14px;\n          transition: all 0.2s;\n        }\n\n        .quick-btn.logical {\n          background: #3b82f6;\n          color: white;\n        }\n\n        .quick-btn.twist {\n          background: #8b5cf6;\n          color: white;\n        }\n\n        .quick-btn.multiple {\n          background: #f59e0b;\n          color: white;\n        }\n\n        .quick-btn:hover {\n          transform: translateY(-1px);\n          opacity: 0.9;\n        }\n\n        .extension-options {\n          background: var(--bg-secondary, #f8f9fa);\n          padding: 16px;\n          border-radius: 8px;\n          border: 1px solid var(--border-color, #e9ecef);\n          margin-bottom: 16px;\n        }\n        \n        .dark .extension-options {\n          background: #1f2937;\n          border-color: #374151;\n        }\n\n        .mode-toggle {\n          margin-bottom: 16px;\n          padding-bottom: 12px;\n          border-bottom: 1px solid var(--border-light, #dee2e6);\n        }\n        \n        .dark .mode-toggle {\n          border-bottom-color: #4b5563;\n        }\n\n        .quick-mode-label {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        .continuation-types h4 {\n          margin: 0 0 12px 0;\n          color: var(--text-primary, #343a40);\n          font-size: 14px;\n        }\n        \n        .dark .continuation-types h4 {\n          color: #f3f4f6;\n        }\n\n        .type-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 6px;\n          margin-bottom: 12px;\n        }\n\n        .type-option {\n          display: block;\n          padding: 8px 10px;\n          border: 1px solid transparent;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s;\n          background: var(--bg-card, white);\n          text-align: left;\n          width: 100%;\n        }\n        \n        .type-option:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .type-option.extending {\n          background: linear-gradient(135deg, #f093fb, #f5576c);\n          color: white;\n          border-color: #f093fb;\n        }\n        \n        .dark .type-option {\n          background: #374151;\n        }\n        \n        .dark .type-option.extending {\n          background: linear-gradient(135deg, #f093fb, #f5576c);\n        }\n\n        .type-option:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n        }\n\n        .type-option.selected {\n          border-color: currentColor;\n          box-shadow: 0 4px 15px rgba(0,0,0,0.15);\n        }\n\n        .type-option input {\n          display: none;\n        }\n\n        .type-header {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-bottom: 8px;\n        }\n\n        .type-icon {\n          font-size: 1.2rem;\n        }\n\n        .type-name {\n          font-weight: 600;\n          color: var(--text-primary, #343a40);\n          font-size: 14px;\n        }\n        \n        .dark .type-name {\n          color: #f3f4f6;\n        }\n\n        .type-description {\n          margin: 0;\n          color: var(--text-secondary, #6c757d);\n          font-size: 11px;\n          line-height: 1.3;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        \n        .dark .type-description {\n          color: #9ca3af;\n        }\n\n        .context-settings h4 {\n          margin: 0 0 12px 0;\n          color: var(--text-primary, #343a40);\n          font-size: 14px;\n        }\n        \n        .dark .context-settings h4 {\n          color: #f3f4f6;\n        }\n\n        .settings-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n\n        .setting-item {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          cursor: pointer;\n          padding: 6px;\n          border-radius: 6px;\n          transition: background 0.2s;\n          font-size: 14px;\n        }\n\n        .setting-item:hover {\n          background: rgba(0,0,0,0.05);\n        }\n        \n        .dark .setting-item:hover {\n          background: rgba(255,255,255,0.05);\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .extend-selected-btn,\n        .extend-multiple-btn {\n          flex: 1;\n          min-width: 140px;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .extend-selected-btn {\n          background: linear-gradient(135deg, #667eea, #764ba2);\n          color: white;\n        }\n\n        .extend-multiple-btn {\n          background: linear-gradient(135deg, #f093fb, #f5576c);\n          color: white;\n        }\n\n        .extend-selected-btn:hover:not(:disabled),\n        .extend-multiple-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 20px rgba(0,0,0,0.2);\n        }\n\n        .error-display {\n          background: #fee;\n          border: 1px solid #fcc;\n          border-radius: 8px;\n          padding: 12px;\n          margin: 15px 0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n\n        .error-content {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #c53030;\n        }\n\n        .error-icon {\n          width: 20px;\n          height: 20px;\n        }\n\n        .dismiss-error {\n          background: none;\n          border: none;\n          color: #c53030;\n          cursor: pointer;\n          font-size: 18px;\n          padding: 4px;\n        }\n\n        .extension-results {\n          background: var(--bg-card, white);\n          border: 1px solid var(--border-color, #e9ecef);\n          border-radius: 8px;\n          overflow: hidden;\n        }\n        \n        .dark .extension-results {\n          background: #374151;\n          border-color: #4b5563;\n        }\n\n        .results-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 16px;\n          background: var(--bg-secondary, #f8f9fa);\n          border-bottom: 1px solid var(--border-color, #e9ecef);\n        }\n        \n        .dark .results-header {\n          background: #1f2937;\n          border-bottom-color: #4b5563;\n        }\n\n        .results-header h4 {\n          margin: 0;\n          color: var(--text-primary, #343a40);\n          font-size: 14px;\n        }\n        \n        .dark .results-header h4 {\n          color: #f3f4f6;\n        }\n\n        .close-results {\n          background: none;\n          border: none;\n          font-size: 20px;\n          cursor: pointer;\n          color: #6c757d;\n        }\n\n        .results-grid {\n          padding: 16px;\n          display: grid;\n          gap: 12px;\n        }\n\n        .result-card {\n          border: 1px solid var(--border-color, #e9ecef);\n          border-radius: 8px;\n          padding: 16px;\n          transition: all 0.2s;\n          background: var(--bg-card, white);\n        }\n        \n        .dark .result-card {\n          background: #4b5563;\n          border-color: #6b7280;\n        }\n\n        .result-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 20px rgba(0,0,0,0.1);\n        }\n\n        .result-card.fallback {\n          background: #fff3cd;\n          border-color: #ffeaa7;\n        }\n\n        .result-header {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-bottom: 15px;\n        }\n\n        .result-icon {\n          font-size: 1.5rem;\n        }\n\n        .result-type {\n          font-weight: 600;\n          color: var(--text-primary, #343a40);\n          flex: 1;\n          font-size: 14px;\n        }\n        \n        .dark .result-type {\n          color: #f3f4f6;\n        }\n\n        .fallback-badge {\n          background: #f0ad4e;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n        }\n\n        .scene-preview {\n          margin-bottom: 15px;\n        }\n\n        .scene-preview p {\n          margin: 6px 0;\n          color: var(--text-secondary, #495057);\n          font-size: 12px;\n        }\n        \n        .dark .scene-preview p {\n          color: #d1d5db;\n        }\n\n        .metadata-preview {\n          margin-bottom: 15px;\n          font-size: 12px;\n        }\n\n        .warnings {\n          color: #f0ad4e;\n        }\n\n        .repairs {\n          color: #5cb85c;\n        }\n\n        .result-error {\n          background: #fee;\n          padding: 10px;\n          border-radius: 6px;\n          margin-bottom: 15px;\n        }\n\n        .result-error p {\n          margin: 0;\n          color: #c53030;\n          font-size: 14px;\n        }\n\n        .result-actions {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .apply-btn,\n        .timeline-btn,\n        .copy-btn {\n          padding: 6px 10px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 12px;\n          transition: all 0.2s;\n          font-weight: 500;\n        }\n\n        .apply-btn {\n          background: #28a745;\n          color: white;\n        }\n\n        .timeline-btn {\n          background: #17a2b8;\n          color: white;\n        }\n\n        .copy-btn {\n          background: #6c757d;\n          color: white;\n        }\n\n        .apply-btn:hover,\n        .timeline-btn:hover,\n        .copy-btn:hover {\n          transform: translateY(-1px);\n          opacity: 0.9;\n        }\n\n        .api-key-prompt {\n          background: linear-gradient(135deg, #ffecd2, #fcb69f);\n          padding: 20px;\n          border-radius: 12px;\n          text-align: center;\n          margin: 20px 0;\n        }\n\n        .prompt-content h4 {\n          margin: 0 0 10px 0;\n          color: #8b4513;\n        }\n\n        .prompt-content p {\n          margin: 0 0 15px 0;\n          color: #a0522d;\n        }\n\n        .setup-key-btn {\n          background: #8b4513;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 6px;\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        /* Color variants for continuation types */\n        .color-blue { border-color: #3b82f6; }\n        .color-purple { border-color: #8b5cf6; }\n        .color-orange { border-color: #f59e0b; }\n        .color-green { border-color: #10b981; }\n        .color-indigo { border-color: #6366f1; }\n        .color-cyan { border-color: #06b6d4; }\n        .color-pink { border-color: #ec4899; }\n        .color-emerald { border-color: #059669; }\n\n        @media (max-width: 768px) {\n          .extension-header {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .quick-actions {\n            justify-content: space-between;\n          }\n\n          .type-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .action-buttons {\n            flex-direction: column;\n          }\n\n          .extend-selected-btn,\n          .extend-multiple-btn {\n            min-width: auto;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SceneExtender;","import React, { useState } from 'react';\nimport CharacterEngine from './CharacterEngine';\nimport WorldBuilder from './WorldBuilder';\nimport StoryboardGenerator from './StoryboardGenerator';\nimport StyleGenerator from './StyleGenerator';\nimport SceneExtender from './SceneExtender';\nimport SceneExtenderInterface from './SceneExtenderInterface';\nimport UsageMeter from './UsageMeter';\nimport UpgradeButton from './UpgradeButton';\nimport InlineAuth from './InlineAuth';\nimport { useSubscription } from './StripeIntegration';\nimport { useAuth } from './useAuth';\nimport { userService } from './userService';\n\nconst ProFeaturesHub = ({ isPro, onShowPricing, currentJson, onJsonUpdate, onSceneExtenderClick, sceneOptions, onApplySceneOption, onDismissSceneOptions, extensionLoading, extensionError, compact = false }) => {\n  const [activeFeature, setActiveFeature] = useState(null);\n  const { trackFeatureUsage, getUsageStats } = useSubscription();\n  const { isAuthenticated, isEmailVerified, user } = useAuth();\n\n  const proFeatures = [\n    {\n      id: 'character-engine',\n      name: 'AI Character Engine',\n      icon: '🎭',\n      description: 'Generate detailed characters with backstories and traits',\n      benefits: ['Consistent character details', 'Rich backstories', 'Reusable character templates'],\n      sampleOutput: '{\\n  \"character\": \"Elena_Martinez\",\\n  \"age\": 28,\\n  \"background\": \"Former marine biologist\",\\n  \"personality\": \"Determined yet empathetic\",\\n  \"motivation\": \"Save ocean ecosystems\"\\n}',\n      component: CharacterEngine\n    },\n    {\n      id: 'world-builder',\n      name: 'AI World Builder',\n      icon: '🌍',\n      description: 'Create immersive environments with consistent lore',\n      benefits: ['Detailed world-building', 'Consistent environments', 'Rich atmospheric details'],\n      sampleOutput: '{\\n  \"setting\": \"Neo_Tokyo_2087\",\\n  \"atmosphere\": \"Neon-lit cyberpunk metropolis\",\\n  \"weather\": \"Perpetual rain\",\\n  \"landmarks\": [\"Digital_Shrine\", \"Corporate_Towers\"]\\n}',\n      component: WorldBuilder\n    },\n    {\n      id: 'style-generator',\n      name: 'Style Generator',\n      icon: '🎥',\n      description: 'Apply cinematic styles, camera angles, and director aesthetics',\n      benefits: ['Preset style library', 'Camera angle guides', 'Director style combos', 'Smart AI suggestions'],\n      sampleOutput: 'Applied Wes Anderson style:\\nSymmetrical framing, pastel colors, whimsical storytelling...',\n      component: StyleGenerator\n    },\n    {\n      id: 'storyboard-generator',\n      name: 'Storyboard Generator',\n      icon: '🎬',\n      description: 'Break a script or JSON into a full storyboard sequence',\n      benefits: ['Multi-scene planning', 'Shot-by-shot breakdown', 'Visual continuity'],\n      sampleOutput: 'Scene 1: Wide establishing shot\\nScene 2: Medium close-up\\nScene 3: Dramatic reveal...',\n      component: StoryboardGenerator\n    },\n    {\n      id: 'scene-extender',\n      name: 'Scene Extender',\n      icon: '✨',\n      description: 'Extend existing scenes with AI-generated variations',\n      benefits: ['Multiple scene options', 'Creative variations', 'Smart merging'],\n      sampleOutput: 'Generated 5 scene variations:\\n1. Action sequence\\n2. Dialogue focus\\n3. Environmental details...',\n      component: SceneExtender\n    },\n  ];\n\n  // Handler functions for feature results\n  const handleCharacterGenerated = (result) => {\n    if (result && onJsonUpdate) {\n      onJsonUpdate(result);\n    }\n  };\n\n  const handleWorldGenerated = (result) => {\n    if (result && onJsonUpdate) {\n      onJsonUpdate(result);\n    }\n  };\n\n  const handleStoryboardGenerated = (result) => {\n    if (result && onJsonUpdate) {\n      onJsonUpdate(result);\n    }\n  };\n\n  const handleStyleGenerated = (result) => {\n    if (result && onJsonUpdate) {\n      onJsonUpdate(result);\n    }\n  };\n\n  const handleJsonGenerated = (result) => {\n    if (result && onJsonUpdate) {\n      onJsonUpdate(result);\n    }\n  };\n\n  const handleFeatureClick = (featureId) => {\n    // All users can now use features\n    setActiveFeature(activeFeature === featureId ? null : featureId);\n  };\n\n\n\n\n  // Compact layout for integration with UniversalInput - larger buttons spanning text to convert width\n  if (compact) {\n    return (\n      <div>\n        {/* Row of 5 AI feature buttons - sized similar to Convert button */}\n        <div className=\"flex space-x-2\">\n          {proFeatures.slice(0, 5).map((feature) => (\n            <button\n              key={feature.id}\n              onClick={() => handleFeatureClick(feature.id)}\n              className={`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center justify-center space-x-1 ${\n                activeFeature === feature.id\n                  ? 'bg-cinema-teal text-white shadow-md'\n                  : 'bg-gray-100 dark:bg-cinema-border text-gray-700 dark:text-cinema-text hover:bg-gray-200 dark:hover:bg-cinema-card shadow-sm hover:shadow-md'\n              }`}\n              title={feature.name}\n            >\n              <span className=\"text-base\">{feature.icon}</span>\n              <span className=\"text-xs font-medium\">{feature.name}</span>\n            </button>\n          ))}\n        </div>\n        \n        {/* Active Feature Content - Inline */}\n        {activeFeature && (\n          <div className=\"mt-2 p-2 bg-cinema-teal/5 rounded border border-cinema-teal/20\">\n            {(() => {\n              const feature = proFeatures.find(f => f.id === activeFeature);\n              if (!feature) return null;\n              \n              if (activeFeature === 'scene-extender') {\n                return (\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-cinema-text\">{feature.name}</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={onSceneExtenderClick}\n                        disabled={extensionLoading}\n                        className=\"px-3 py-1 bg-cinema-teal text-white rounded text-xs font-medium hover:bg-cinema-teal/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                      >\n                        {extensionLoading ? 'Generating...' : 'Generate'}\n                      </button>\n                      <button\n                        onClick={() => setActiveFeature(null)}\n                        className=\"text-gray-400 hover:text-gray-600 text-sm\"\n                      >\n                        ✕\n                      </button>\n                    </div>\n                  </div>\n                );\n              }\n              \n              // For other features, show full component in compact mode\n              return (\n                <div>\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <span className=\"text-sm text-cinema-text font-medium\">{feature.name}</span>\n                    <button\n                      onClick={() => setActiveFeature(null)}\n                      className=\"text-gray-400 hover:text-gray-600 text-sm\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                  \n                  {/* Render the actual AI tool component */}\n                  <div className=\"bg-white dark:bg-cinema-card rounded-lg p-3 border border-cinema-border\">\n                    {activeFeature === 'character-engine' && (\n                      <CharacterEngine currentJson={currentJson} onResult={handleCharacterGenerated} />\n                    )}\n                    {activeFeature === 'world-builder' && (\n                      <WorldBuilder currentJson={currentJson} onResult={handleWorldGenerated} />\n                    )}\n                    {activeFeature === 'storyboard-generator' && (\n                      <StoryboardGenerator currentJson={currentJson} onResult={handleStoryboardGenerated} />\n                    )}\n                    {activeFeature === 'style-generator' && (\n                      <StyleGenerator currentJson={currentJson} onResult={handleStyleGenerated} />\n                    )}\n                  </div>\n                </div>\n              );\n            })()}\n            {extensionError && (\n              <p className=\"text-red-500 text-xs mt-1\">{extensionError}</p>\n            )}\n            {extensionLoading && (\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mt-2 border border-blue-200 dark:border-blue-700\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\n                  <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">Generating 5 scene options...</span>\n                </div>\n                <div className=\"text-xs text-blue-600 dark:text-blue-300 mt-2 flex items-center space-x-1\">\n                  <span>⬇️</span>\n                  <span>Options will appear below - we'll scroll you there automatically</span>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Full layout for standalone use\n  return (\n    <div className=\"mt-6\">\n      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700/50\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center\">\n            <span className=\"text-2xl mr-2\">🤖</span>  \n            <h3 className=\"text-2xl font-bold text-cinema-text\">AI Features</h3>\n          </div>\n          <div className=\"bg-gradient-to-r from-purple-500 to-indigo-600 px-3 py-1 rounded-full text-white text-sm font-semibold\">\n            ✨ Active\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4\">\n          {proFeatures.map((feature) => {\n            const isActive = activeFeature === feature.id;\n            \n            return (\n              <div \n                key={feature.id}\n                className={`bg-cinema-card rounded-lg p-3 border transition-all duration-300 cursor-pointer ${\n                  isActive \n                    ? 'border-cinema-teal shadow-glow-teal' \n                    : 'border-cinema-border hover:border-cinema-teal hover:shadow-glow-soft'\n                }`}\n                onClick={() => handleFeatureClick(feature.id)}\n              >\n                <div className=\"text-center\">\n                  <div className=\"text-2xl mb-2\">{feature.icon}</div>\n                  <h4 className=\"font-medium text-cinema-text text-sm leading-tight mb-1\">\n                    {feature.name}\n                  </h4>\n                  \n                  {isActive && (\n                    <div className=\"flex items-center justify-center space-x-1 text-xs text-cinema-teal font-medium\">\n                      <div className=\"w-1 h-1 bg-cinema-teal rounded-full animate-pulse\"></div>\n                      <span>Active</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {/* Active Feature Panel */}\n        {activeFeature && (\n          <div className=\"mt-4\">\n            {activeFeature === 'character-engine' && (\n              <CharacterEngine currentJson={currentJson} onResult={handleCharacterGenerated} />\n            )}\n            {activeFeature === 'world-builder' && (\n              <WorldBuilder currentJson={currentJson} onResult={handleWorldGenerated} />\n            )}\n            {activeFeature === 'storyboard-generator' && (\n              <StoryboardGenerator currentJson={currentJson} onResult={handleStoryboardGenerated} />\n            )}\n            {activeFeature === 'style-generator' && (\n              <StyleGenerator currentJson={currentJson} onResult={handleStyleGenerated} />\n            )}\n            {activeFeature === 'scene-extender' && sceneOptions && (\n              <div className=\"space-y-4\">\n                {sceneOptions.map((option, index) => (\n                  <div key={index} className=\"bg-cinema-card rounded-lg p-4 border border-cinema-border\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h4 className=\"font-medium text-cinema-text\">{option.type}</h4>\n                      <button\n                        onClick={() => onApplySceneOption(option, index)}\n                        className=\"bg-cinema-teal text-white px-3 py-1 rounded text-sm hover:bg-cinema-teal-bright transition-colors\"\n                      >\n                        Apply\n                      </button>\n                    </div>\n                    <p className=\"text-sm text-cinema-text-muted\">{option.summary}</p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProFeaturesHub;","import React from 'react';\n\nconst LoadingButton = ({ \n  loading = false, \n  disabled = false, \n  children, \n  className = '', \n  onClick,\n  loadingText = 'Loading...',\n  ...props \n}) => {\n  const isDisabled = loading || disabled;\n  \n  const baseClasses = \"inline-flex items-center justify-center transition-all duration-200 relative\";\n  const disabledClasses = isDisabled ? \"opacity-60 cursor-not-allowed\" : \"hover:opacity-90\";\n  \n  return (\n    <button\n      onClick={!isDisabled ? onClick : undefined}\n      disabled={isDisabled}\n      className={`${baseClasses} ${disabledClasses} ${className}`}\n      {...props}\n    >\n      {loading && (\n        <svg \n          className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          fill=\"none\" \n          viewBox=\"0 0 24 24\"\n        >\n          <circle \n            className=\"opacity-25\" \n            cx=\"12\" \n            cy=\"12\" \n            r=\"10\" \n            stroke=\"currentColor\" \n            strokeWidth=\"4\"\n          />\n          <path \n            className=\"opacity-75\" \n            fill=\"currentColor\" \n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          />\n        </svg>\n      )}\n      <span className={loading ? 'opacity-75' : ''}>\n        {loading ? loadingText : children}\n      </span>\n    </button>\n  );\n};\n\nexport default LoadingButton;","import React, { useState, useMemo, useEffect } from 'react';\nimport usePromptStore from './store';\nimport { schema } from './schema';\nimport { allTemplates, isPresetTemplate, getTemplate } from './templates';\nimport ToggleSwitch from './ToggleSwitch';\nimport LoadingButton from './LoadingButton';\nimport aiApiService from './aiApiService';\n\nconst SceneBuilderChecklist = ({ onProjectChange, compact = false, isAdvancedMode, setIsAdvancedMode, showToast }) => {\n  const { \n    enabledFields, \n    fieldValues, \n    expandedCategories,\n    savedCharacters, \n    savedScenes,\n    savedActions,\n    savedSettings,\n    savedStyles,\n    savedAudio,\n    currentProject,\n    toggleCategory,\n    loadCharacter,\n    loadScene,\n    loadAction,\n    loadSetting,\n    loadStyle,\n    loadAudio,\n    saveCharacter,\n    setFieldValue,\n    randomizeCharacterFields,\n    randomizeLocationBased,\n    randomizeCinematicStyle,\n    applyProjectStyle,\n    applyCharacterPresetData,\n    applyScenePresetData,\n    recordTemplateUsage,\n    getRecentTemplates,\n    getMostUsedTemplates\n  } = usePromptStore();\n  \n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [activeCategory, setActiveCategory] = useState(null);\n  const [activeSubcategory, setActiveSubcategory] = useState('recent');\n  const [showLoadModal, setShowLoadModal] = useState(false);\n  const [loadCategory, setLoadCategory] = useState(null);\n  const [loadingStates, setLoadingStates] = useState({});\n  const [animatingCategories, setAnimatingCategories] = useState(new Set());\n  const [expandSparkles, setExpandSparkles] = useState(new Set());\n  const [loadGlowEffects, setLoadGlowEffects] = useState(new Set());\n  const [previousSavedCounts, setPreviousSavedCounts] = useState({});\n  const [categoryInputs, setCategoryInputs] = useState({\n    characters: '',\n    actions: '',\n    settings: '',\n    style: '',\n    audio: ''\n  });\n\n  // Watch for activation of Load buttons (when content becomes available)\n  useEffect(() => {\n    const currentCounts = {\n      characters: savedCharacters.length,\n      actions: savedActions.length, \n      settings: savedSettings.length + savedScenes.length, // Settings can load scenes too\n      style: savedStyles.length,\n      audio: savedAudio.length\n    };\n    \n    // Only proceed if we have previous counts to compare against\n    if (Object.keys(previousSavedCounts).length > 0) {\n      // Check for newly activated buttons (count went from 0 to >0)\n      Object.keys(currentCounts).forEach(categoryKey => {\n        const previousCount = previousSavedCounts[categoryKey] || 0;\n        const currentCount = currentCounts[categoryKey];\n        \n        if (previousCount === 0 && currentCount > 0) {\n          // Button just became active - trigger glow effect\n          setLoadGlowEffects(prev => new Set([...prev, categoryKey]));\n          \n          // Remove glow effect after animation completes\n          setTimeout(() => {\n            setLoadGlowEffects(prev => {\n              const newSet = new Set(prev);\n              newSet.delete(categoryKey);\n              return newSet;\n            });\n          }, 1000); // Match animation duration\n        }\n      });\n    }\n    \n    setPreviousSavedCounts(currentCounts);\n  }, [savedCharacters.length, savedActions.length, savedSettings.length, savedScenes.length, savedStyles.length, savedAudio.length]);\n\n  // Loading state helpers\n  const setLoading = (key, isLoading) => {\n    setLoadingStates(prev => ({ ...prev, [key]: isLoading }));\n  };\n\n  const isLoading = (key) => {\n    return loadingStates[key] || false;\n  };\n\n  // Smart placeholder text for better user guidance\n  const placeholderText = {\n    characters: \"e.g., A wise old wizard riding a giant turtle\",\n    actions: \"e.g., Dancing through a field of glowing flowers\", \n    settings: \"e.g., On a floating island at golden hour\",\n    style: \"e.g., Studio Ghibli animation, soft watercolors\",\n    audio: \"e.g., Whispering wind with ambient synthesizers\"\n  };\n\n  // Define the 5 main categories for the compact scene builder\n  const sceneCategories = {\n    characters: {\n      icon: '🧍',\n      label: 'Characters',\n      description: 'People in your scene',\n      templates: Object.fromEntries(\n        Object.entries(allTemplates).filter(([key, template]) => \n          template.isPreset && template.icon === '👤'\n        )\n      ),\n      fields: ['characters', 'character_type', 'character_name', 'age', 'gender']\n    },\n    actions: {\n      icon: '🎬', \n      label: 'Actions',\n      description: 'What\\'s happening',\n      templates: Object.fromEntries(\n        Object.entries(allTemplates).filter(([key, template]) => \n          template.isPreset && template.icon === '🎬'\n        )\n      ),\n      fields: ['actions', 'dialogue', 'scene']\n    },\n    settings: {\n      icon: '📍',\n      label: 'Setting', \n      description: 'Where it takes place',\n      templates: Object.fromEntries(\n        Object.entries(allTemplates).filter(([key, template]) => \n          template.isPreset && template.icon === '📍'\n        )\n      ),\n      fields: ['setting', 'time_of_day', 'environment', 'weather']\n    },\n    style: {\n      icon: '🎨',\n      label: 'Style',\n      description: 'Visual aesthetic & directors',\n      templates: Object.fromEntries(\n        Object.entries(allTemplates).filter(([key, template]) => \n          template.isPreset && template.icon === '🎨'\n        )\n      ),\n      fields: ['camera_angle', 'lighting_type', 'style', 'color_palette']\n    },\n    audio: {\n      icon: '🔊',\n      label: 'Audio',\n      description: 'Sound design',\n      templates: Object.fromEntries(\n        Object.entries(allTemplates).filter(([key, template]) => \n          template.isPreset && template.icon === '🔊'\n        )\n      ),\n      fields: ['music_style', 'sound_effects', 'audio_mood']\n    }\n  };\n\n  // Template subcategory definitions for enhanced discovery\n  const templateSubcategories = {\n    characters: {\n      recent: { icon: '🕘', label: 'Recent / Most Used', description: 'Your recently used character templates' },\n      humans: { icon: '🧑', label: 'Humans', description: 'Human characters and people', categories: ['humans', 'human', 'professional', 'casual'], tags: ['human', 'person', 'people', 'realistic', 'everyday'] },\n      commercial: { icon: '💼', label: 'Commercial / Professional', description: 'Business and professional characters', categories: ['commercial', 'professional', 'business'], tags: ['business', 'corporate', 'professional', 'executive', 'commercial', 'workplace'] },\n      fun: { icon: '😜', label: 'Fun / Meme / Whimsical', description: 'Playful and humorous characters', categories: ['fun', 'meme', 'whimsical'], tags: ['fun', 'meme', 'whimsical', 'silly', 'cartoon', 'playful', 'humorous', 'quirky'] },\n      creatures: { icon: '👾', label: 'Creatures / Supernatural', description: 'Fantasy and supernatural beings', categories: ['creatures', 'creature', 'supernatural', 'fantasy'], tags: ['creature', 'supernatural', 'fantasy', 'monster', 'alien', 'mythical', 'magical', 'otherworldly'] },\n      animals: { icon: '🐶', label: 'Animals / Nature', description: 'Animals and nature-based characters', categories: ['animals', 'animal', 'nature'], tags: ['animal', 'pet', 'wildlife', 'nature', 'creature', 'mammal', 'bird', 'wild'] }\n    },\n    actions: {\n      recent: { icon: '🕘', label: 'Recent / Most Used', description: 'Your recently used action templates' },\n      poses: { icon: '🧍', label: 'Poses & Gestures', description: 'Static poses and hand gestures', categories: ['pose', 'gesture'], tags: ['pose', 'gesture', 'stance', 'posture', 'static', 'position', 'standing', 'sitting'] },\n      expressions: { icon: '🎭', label: 'Expressions / Reactions', description: 'Facial expressions and emotional reactions', categories: ['expression', 'reaction', 'emotion'], tags: ['expression', 'emotion', 'reaction', 'facial', 'feeling', 'mood', 'emotional'] },\n      dynamic: { icon: '🎮', label: 'Dynamic / Movement', description: 'Active movements and motion', categories: ['movement', 'dynamic', 'chase', 'motion'], tags: ['movement', 'dynamic', 'action', 'chase', 'running', 'jumping', 'dancing', 'active'] },\n      thinking: { icon: '🧠', label: 'Thinking / Creating', description: 'Thoughtful and creative actions', categories: ['thinking', 'creating', 'working'], tags: ['thinking', 'creative', 'working', 'studying', 'writing', 'painting', 'designing', 'contemplating'] },\n      conflict: { icon: '💥', label: 'Conflict / Impact', description: 'Combat and high-impact actions', categories: ['conflict', 'combat', 'impact'], tags: ['conflict', 'combat', 'fight', 'impact', 'battle', 'violence', 'aggressive', 'destructive'] }\n    },\n    settings: {\n      recent: { icon: '🕘', label: 'Recent / Most Used', description: 'Your recently used setting templates' },\n      urban: { icon: '🏙', label: 'Urban / Modern', description: 'City and modern environments', categories: ['urban', 'modern', 'city'], tags: ['urban', 'city', 'modern', 'street', 'building', 'downtown', 'metropolitan', 'contemporary'] },\n      nature: { icon: '🏞', label: 'Nature / Scenic', description: 'Natural landscapes and scenic views', categories: ['nature', 'scenic', 'landscape'], tags: ['nature', 'scenic', 'landscape', 'outdoor', 'forest', 'mountain', 'beach', 'wilderness'] },\n      historical: { icon: '🏛', label: 'Historical / Fantasy', description: 'Historical and fantasy settings', categories: ['historical', 'fantasy', 'period'], tags: ['historical', 'fantasy', 'medieval', 'ancient', 'castle', 'period', 'mythical', 'legendary'] },\n      scifi: { icon: '🚀', label: 'Sci-Fi / Futuristic', description: 'Science fiction and futuristic environments', categories: ['scifi', 'futuristic', 'space'], tags: ['scifi', 'futuristic', 'space', 'technology', 'cyberpunk', 'alien', 'spaceship', 'high-tech'] },\n      abstract: { icon: '📦', label: 'Abstract / Surreal', description: 'Abstract and surreal environments', categories: ['abstract', 'surreal', 'conceptual'], tags: ['abstract', 'surreal', 'dreamlike', 'conceptual', 'impossible', 'floating', 'geometric', 'otherworldly'] }\n    },\n    style: {\n      recent: { icon: '🕘', label: 'Recent / Most Used', description: 'Your recently used style templates' },\n      directors: { icon: '🎬', label: 'Directors / Influences', description: 'Famous director styles and influences', categories: ['directors', 'auteur'], tags: ['kubrick', 'tarantino', 'anderson', 'nolan', 'miyazaki', 'spielberg', 'fincher', 'burton', 'scorsese'] },\n      aesthetics: { icon: '🎭', label: 'Visual Aesthetics', description: 'Visual aesthetic styles', categories: ['aesthetic', 'visual', 'mood'], tags: ['gothic', 'pastel', 'cyberpunk', 'minimalist', 'vintage', 'industrial', 'bohemian', 'luxury'] },\n      art: { icon: '🖼️', label: 'Art & Illustration Styles', description: 'Artistic and illustration styles', categories: ['art', 'illustration', 'artistic'], tags: ['watercolor', '3d', 'sketch', 'painting', 'digital', 'pencil', 'oil', 'vector', 'comic'] },\n      genre: { icon: '🎞️', label: 'Genre-Based Styles', description: 'Genre-specific visual styles', categories: ['genre', 'cinematic'], tags: ['noir', 'anime', 'vaporwave', 'horror', 'western', 'musical', 'documentary', 'thriller'] },\n      popculture: { icon: '👕', label: 'Pop Culture / Brand Parodies', description: 'Pop culture and brand-inspired styles', categories: ['popculture', 'brand', 'parody'], tags: ['parody', 'brand', 'meme', 'trending', 'viral', 'superhero', 'mascot', 'celebrity'] }\n    },\n    audio: {\n      recent: { icon: '🕘', label: 'Recent / Most Used', description: 'Your recently used audio templates' },\n      cinematic: { icon: '🎥', label: 'Cinematic Score', description: 'Epic, orchestral, and suspenseful music', categories: ['cinematic', 'score', 'orchestral'], tags: ['epic', 'orchestral', 'suspense', 'dramatic', 'cinematic', 'heroic', 'battle', 'emotional'] },\n      dialogue: { icon: '🗣️', label: 'Dialogue / Voice Styles', description: 'Narration, dialogue, and voice styles', categories: ['dialogue', 'voice', 'narration'], tags: ['narration', 'dialogue', 'voice', 'sarcastic', 'whispered', 'commentary', 'storytelling'] },\n      atmospheric: { icon: '🌌', label: 'Atmospheric / Ambient', description: 'Environmental and ambient sounds', categories: ['atmospheric', 'ambient', 'environmental'], tags: ['wind', 'crowd', 'forest', 'ambient', 'atmospheric', 'rain', 'ocean', 'nature'] },\n      comedy: { icon: '🎉', label: 'Comedy / Quirky', description: 'Comedic and quirky sound effects', categories: ['comedy', 'quirky', 'humorous'], tags: ['comedy', 'cartoon', 'sitcom', 'funny', 'quirky', 'silly', 'whimsical', 'playful'] },\n      fantasy: { icon: '🧙‍♂️', label: 'Fantasy / Magical / Mythic', description: 'Magical and mythical audio', categories: ['fantasy', 'magical', 'mythic'], tags: ['fantasy', 'magical', 'spells', 'harp', 'mythic', 'enchanted', 'mystical', 'otherworldly'] }\n    }\n  };\n\n  // Function to categorize templates based on category and tags\n  const categorizeTemplates = (categoryKey, subcategoryKey, templates) => {\n    if (subcategoryKey === 'recent') {\n      // Get recent/most used templates\n      const recentTemplates = getRecentTemplates(categoryKey, 12);\n      const mostUsedTemplates = getMostUsedTemplates(categoryKey, 12);\n      \n      // Combine and deduplicate, prioritizing recent over most used\n      const combinedTemplates = [...recentTemplates];\n      mostUsedTemplates.forEach(mostUsed => {\n        if (!combinedTemplates.find(recent => recent.templateKey === mostUsed.templateKey)) {\n          combinedTemplates.push(mostUsed);\n        }\n      });\n      \n      // Return template objects\n      return combinedTemplates\n        .slice(0, 12)\n        .map(usage => templates[usage.templateKey])\n        .filter(template => template);\n    }\n    \n    const subcategory = templateSubcategories[categoryKey][subcategoryKey];\n    if (!subcategory) return [];\n    \n    return Object.entries(templates).filter(([key, template]) => {\n      // Check if template category matches\n      const categoryMatch = subcategory.categories?.includes(template.category);\n      \n      // Check if template tags match\n      const tagMatch = subcategory.tags?.some(tag => \n        template.tags?.some(templateTag => \n          templateTag.toLowerCase().includes(tag.toLowerCase()) || \n          tag.toLowerCase().includes(templateTag.toLowerCase())\n        )\n      );\n      \n      return categoryMatch || tagMatch;\n    }).map(([key, template]) => template);\n  };\n\n  // Calculate simple completion percentage for each category\n  const getCategoryCompletion = (categoryKey) => {\n    const category = sceneCategories[categoryKey];\n    if (!category) return { filled: 0, total: 0, percentage: 0 };\n    \n    const categoryFields = category.fields.filter(field => enabledFields.has && enabledFields.has(field));\n    const filledFields = categoryFields.filter(field => {\n      const value = fieldValues[field];\n      if (Array.isArray(value)) return value.length > 0;\n      if (typeof value === 'string') return value.trim() !== '';\n      return value !== null && value !== undefined;\n    });\n    \n    return {\n      filled: filledFields.length,\n      total: categoryFields.length, \n      percentage: categoryFields.length > 0 ? Math.round((filledFields.length / categoryFields.length) * 100) : 0\n    };\n  };\n\n  // Handle template selection\n  const handleTemplateSelect = (categoryKey, templateKey) => {\n    const category = sceneCategories[categoryKey];\n    const template = category.templates[templateKey];\n    \n    if (template && template.fields) {\n      // Record template usage for recent/most used tracking\n      recordTemplateUsage(templateKey, categoryKey);\n      \n      // Track which categories should be expanded based on template fields\n      const categoriesToExpand = new Set();\n      \n      // Apply template fields and find their categories\n      Object.entries(template.fields).forEach(([field, value]) => {\n        setFieldValue(field, value);\n        \n        // Find which category this field belongs to and mark for expansion\n        schema.categories.forEach(schemaCategory => {\n          if (schemaCategory.fields.some(schemaField => schemaField.key === field)) {\n            categoriesToExpand.add(schemaCategory.id);\n          }\n        });\n      });\n      \n      // Expand the relevant categories in the dropdown if they're not already expanded\n      categoriesToExpand.forEach(categoryId => {\n        if (!expandedCategories.has(categoryId)) {\n          toggleCategory(categoryId);\n        }\n      });\n\n      // Show success feedback\n      if (showToast?.showSuccess) {\n        showToast.showSuccess(`Template \"${template.name}\" applied successfully!`);\n      }\n    }\n    \n    setShowTemplateModal(false);\n    setActiveCategory(null);\n    setActiveSubcategory('recent'); // Reset to recent for next time\n  };\n  \n  // Handle Load action - show selection modal\n  const handleLoad = async (categoryKey) => {\n    const loadKey = `load-${categoryKey}`;\n    setLoading(loadKey, true);\n    \n    try {\n      const categoryMap = {\n        characters: { data: savedCharacters, loader: loadCharacter, label: 'Characters' },\n        actions: { data: savedActions, loader: loadAction, label: 'Actions' },\n        settings: { data: savedSettings, loader: loadSetting, label: 'Settings' },\n        style: { data: savedStyles, loader: loadStyle, label: 'Styles' },\n        audio: { data: savedAudio, loader: loadAudio, label: 'Audio' }\n      };\n\n      const category = categoryMap[categoryKey];\n      \n      // Small delay to show loading state\n      await new Promise(resolve => setTimeout(resolve, 200));\n      \n      if (category && category.data && category.data.length > 0) {\n        setLoadCategory(category);\n        setShowLoadModal(true);\n      } else if (categoryKey === 'settings' && savedScenes.length > 0) {\n        // Fallback: if no saved settings, try loading the first scene for location\n        loadScene(savedScenes[0].id);\n        if (showToast?.showSuccess) {\n          showToast.showSuccess(`Loaded scene as setting reference`);\n        }\n      } else {\n        // Show feedback when no saved items exist\n        if (showToast?.showWarning) {\n          const messages = {\n            characters: 'No saved characters yet. Create and save characters using the Library system or Pro Features.',\n            actions: 'No saved actions yet. Create and save actions using the Library system.',\n            settings: 'No saved settings or scenes yet. Create and save settings using the Library system.',\n            style: 'No saved styles yet. Create and save styles using the Library system.',\n            audio: 'No saved audio configurations yet. Create and save audio using the Library system.'\n          };\n          showToast.showWarning(messages[categoryKey] || `No saved ${category?.label?.toLowerCase() || 'items'} available.`);\n        }\n      }\n    } finally {\n      setLoading(loadKey, false);\n    }\n  };\n\n  // Handle selection from load modal\n  const handleLoadSelection = (itemId) => {\n    if (loadCategory && loadCategory.loader) {\n      const loadedItem = loadCategory.data.find(item => item.id === itemId);\n      loadCategory.loader(itemId);\n      setShowLoadModal(false);\n      setLoadCategory(null);\n      \n      // Show success feedback\n      if (showToast?.showSuccess && loadedItem) {\n        showToast.showSuccess(`${loadCategory.label.slice(0, -1)} \"${loadedItem.name}\" loaded successfully!`);\n      }\n    }\n  };\n\n  \n  // Handle Create action - expand relevant form fields\n  const handleCreate = (categoryKey) => {\n    const category = sceneCategories[categoryKey];\n    // This would expand/focus the relevant form sections\n    // For now, we'll just scroll to the form area\n    const formSection = document.querySelector('.json-output-section');\n    if (formSection) {\n      formSection.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  // Load Modal Component - Shared between modes\n  const LoadModal = () => {\n    if (!showLoadModal || !loadCategory) return null;\n    \n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              Select {loadCategory.label.slice(0, -1)} to Load\n            </h3>\n            <button\n              onClick={() => {\n                setShowLoadModal(false);\n                setLoadCategory(null);\n              }}\n              className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n          \n          <div className=\"space-y-2\">\n            {loadCategory.data.map((item) => (\n              <button\n                key={item.id}\n                onClick={() => handleLoadSelection(item.id)}\n                className=\"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n              >\n                <div className=\"font-medium text-gray-900 dark:text-white\">\n                  {item.name || `${loadCategory.label.slice(0, -1)} ${item.id}`}\n                </div>\n                {item.description && (\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                    {item.description}\n                  </div>\n                )}\n                <div className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                  Created: {new Date(item.timestamp).toLocaleDateString()}\n                </div>\n              </button>\n            ))}\n          </div>\n\n          <div className=\"flex justify-end mt-6\">\n            <button\n              onClick={() => {\n                setShowLoadModal(false);\n                setLoadCategory(null);\n              }}\n              className=\"px-4 py-2 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-lg transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Enhanced Template Modal Component with Categories\n  const TemplateModal = () => {\n    if (!showTemplateModal || !activeCategory) return null;\n    \n    const category = sceneCategories[activeCategory];\n    const subcategories = templateSubcategories[activeCategory] || {};\n    const categorizedTemplates = categorizeTemplates(activeCategory, activeSubcategory, category.templates);\n    \n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-xl max-w-4xl w-full max-h-[85vh] overflow-hidden\">\n          {/* Modal Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-cinema-border\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-cinema-text\">\n                {category.icon} {category.label} Templates\n              </h3>\n              <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted mt-1\">\n                {subcategories[activeSubcategory]?.description || 'Browse available templates'}\n              </p>\n            </div>\n            <button\n              onClick={() => {\n                setShowTemplateModal(false);\n                setActiveSubcategory('recent');\n              }}\n              className=\"text-gray-400 hover:text-gray-600 dark:hover:text-cinema-text\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Subcategory Tabs */}\n          <div className=\"border-b border-gray-200 dark:border-cinema-border\">\n            <div className=\"flex flex-wrap px-4\">\n              {Object.entries(subcategories).map(([subcategoryKey, subcategory]) => {\n                const templateCount = categorizeTemplates(activeCategory, subcategoryKey, category.templates).length;\n                \n                return (\n                  <button\n                    key={subcategoryKey}\n                    onClick={() => setActiveSubcategory(subcategoryKey)}\n                    className={`flex-shrink-0 px-3 py-3 text-sm font-medium border-b-2 transition-all duration-200 flex items-center space-x-2 ${\n                      activeSubcategory === subcategoryKey\n                        ? 'border-green-500 text-green-600 dark:border-green-400 dark:text-green-400'\n                        : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-cinema-text-muted dark:hover:text-cinema-text hover:border-gray-300'\n                    }`}\n                  >\n                    <span className=\"text-base\">{subcategory.icon}</span>\n                    <span className=\"hidden sm:inline\">{subcategory.label}</span>\n                    <span className=\"text-xs bg-gray-100 dark:bg-cinema-border px-1.5 py-0.5 rounded-full\">\n                      {templateCount}\n                    </span>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n          \n          {/* Template Grid */}\n          <div className=\"p-4 overflow-y-auto max-h-[60vh]\">\n            {categorizedTemplates.length > 0 ? (\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-3\">\n                {categorizedTemplates.map((template, index) => {\n                  // Handle both template objects and template key strings\n                  const templateKey = template.id || Object.keys(category.templates).find(key => category.templates[key] === template);\n                  \n                  return (\n                    <button\n                      key={templateKey || index}\n                      onClick={() => handleTemplateSelect(activeCategory, templateKey)}\n                      className=\"p-3 border border-gray-200 dark:border-cinema-border rounded-lg hover:border-green-400 transition-colors text-left\"\n                    >\n                      <div className=\"font-medium text-sm text-gray-900 dark:text-cinema-text mb-1\">\n                        {template.name}\n                      </div>\n                      <div className=\"text-xs text-gray-600 dark:text-cinema-text-muted line-clamp-2 mb-2\">\n                        {template.description}\n                      </div>\n                      {template.useCase && (\n                        <div className=\"text-xs text-blue-600 dark:text-blue-400 mb-2 font-medium\">\n                          💡 {template.useCase}\n                        </div>\n                      )}\n                      {template.tags && (\n                        <div className=\"flex flex-wrap gap-1\">\n                          {template.tags.slice(0, 3).map(tag => (\n                            <span key={tag} className=\"px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-cinema-border text-gray-600 dark:text-cinema-text-muted rounded\">\n                              {tag}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                    </button>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                <div className=\"text-4xl mb-4\">🔍</div>\n                <h4 className=\"text-lg font-medium text-gray-700 dark:text-cinema-text mb-2\">\n                  No templates found\n                </h4>\n                <p className=\"text-sm text-gray-500 dark:text-cinema-text-muted max-w-md\">\n                  {activeSubcategory === 'recent' \n                    ? `No recent ${category.label.toLowerCase()} templates yet. Use some templates to see them here!`\n                    : `No templates available in this category yet. Try browsing other categories.`\n                  }\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Removed redundant mode switching - handled by main App component\n  \n  const handleAdvancedCreate = (categoryKey) => {\n    // Notify parent to switch to advanced mode\n    if (onProjectChange && typeof onProjectChange === 'function') {\n      onProjectChange({ type: 'switchToAdvanced', category: categoryKey });\n    }\n    \n    // Small delay to let the state update, then scroll\n    setTimeout(() => {\n      const formSection = document.querySelector('.json-output-section');\n      if (formSection) {\n        formSection.scrollIntoView({ behavior: 'smooth' });\n      }\n    }, 100);\n  };\n\n  // Category input handlers\n  const handleCategorySubmit = (categoryKey) => {\n    const input = categoryInputs[categoryKey];\n    if (input && input.trim()) {\n      // Trigger green pulse animation\n      setAnimatingCategories(prev => new Set([...prev, categoryKey]));\n      setTimeout(() => {\n        setAnimatingCategories(prev => {\n          const newSet = new Set(prev);\n          newSet.delete(categoryKey);\n          return newSet;\n        });\n      }, 600); // Match animation duration\n      \n      // Direct submit - put exactly what user said into JSON\n      // Map category to primary field\n      const fieldMap = {\n        characters: 'characters',\n        actions: 'actions',\n        settings: 'setting',\n        style: 'style',\n        audio: 'ambient_sound'\n      };\n      \n      const field = fieldMap[categoryKey];\n      if (field) {\n        setFieldValue(field, input.trim());\n        \n        if (showToast?.showSuccess) {\n          const category = sceneCategories[categoryKey];\n          showToast.showSuccess(`${category?.label} \"${input.trim()}\" added to scene!`);\n        }\n        \n        setCategoryInputs(prev => ({ ...prev, [categoryKey]: '' }));\n      }\n    }\n  };\n\n  const handleCategoryExpand = async (categoryKey) => {\n    const input = categoryInputs[categoryKey];\n    \n    // Check if there's existing content to enhance\n    const category = sceneCategories[categoryKey];\n    const categoryFields = category?.fields || [];\n    const hasExistingContent = categoryFields.some(field => \n      fieldValues[field] && fieldValues[field].trim() !== ''\n    );\n    \n    // For progressive expansion, we need either input OR existing content\n    if ((!input || !input.trim()) && !hasExistingContent) return;\n    \n    // Trigger sparkle effect\n    setExpandSparkles(prev => new Set([...prev, categoryKey]));\n    setTimeout(() => {\n      setExpandSparkles(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(categoryKey);\n        return newSet;\n      });\n    }, 600);\n    \n    const expandKey = `${categoryKey}-expand`;\n    setLoading(expandKey, true);\n    \n    try {\n      // Check if this category already has expanded content (progressive expansion)\n      const category = sceneCategories[categoryKey];\n      const categoryFields = category?.fields || [];\n      const hasExistingContent = categoryFields.some(field => \n        fieldValues[field] && fieldValues[field].trim() !== ''\n      );\n      \n      // For progressive expansion without input, use existing primary field value or generic enhancement\n      const enhancementInput = input?.trim() || (() => {\n        const primaryFields = ['character', 'actions', 'setting', 'style', 'audio'];\n        const primaryField = primaryFields.find(field => fieldValues[field]);\n        return primaryField ? fieldValues[primaryField] : 'enhance existing details';\n      })();\n      \n      // Use AI service to expand the description\n      const response = await aiApiService.generateCategorySuggestions(categoryKey, {\n        field_values: fieldValues\n      }, enhancementInput, hasExistingContent);\n      \n      if (response.success) {\n        // Apply expanded suggestions to the store\n        Object.entries(response.suggestions).forEach(([field, value]) => {\n          if (value && value.trim() !== '') {\n            setFieldValue(field, value);\n          }\n        });\n        \n        if (showToast?.showSuccess) {\n          const category = sceneCategories[categoryKey];\n          const expandType = hasExistingContent ? 'enhanced with more detail' : 'expanded into detailed';\n          const displayInput = input?.trim() || (hasExistingContent ? 'existing content' : 'details');\n          showToast.showSuccess(`${hasExistingContent ? '🔍 Enhanced' : '✨ Expanded'} \"${displayInput}\" - ${expandType} ${category?.label.toLowerCase()}!`);\n        }\n        \n        setCategoryInputs(prev => ({ ...prev, [categoryKey]: '' }));\n      } else {\n        if (showToast?.showError) {\n          showToast.showError(`Failed to expand ${categoryKey}. Please try again.`);\n        }\n      }\n    } catch (error) {\n      console.error(`${categoryKey} expand error:`, error);\n      if (showToast?.showError) {\n        showToast.showError(`Failed to expand ${categoryKey}. Please try again.`);\n      }\n    } finally {\n      setLoading(expandKey, false);\n    }\n  };\n\n  \n  // If in compact mode (for left panel), render ultra-compact version\n  if (compact) {\n    return (\n      <>\n        <div className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-lg dark:shadow-glow-soft p-4 lg:p-6 border border-transparent dark:border-cinema-border transition-all duration-300 mb-4\">\n          {/* Header - Matching JSON Output Style */}\n          <div className=\"flex items-center justify-between mb-3 py-2 border-b border-gray-200 dark:border-cinema-border\">\n            <div className=\"flex items-center space-x-2 lg:space-x-4\">\n              <h2 className=\"text-base lg:text-lg font-semibold text-gray-800 dark:text-cinema-text\">\n                Scene Builder\n              </h2>\n              <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted hidden sm:block\">\n                Quick creation with templates\n              </div>\n            </div>\n          </div>\n          \n          {/* Horizontal Category List */}\n          <div className=\"space-y-4\">\n            {Object.entries(sceneCategories).map(([categoryKey, category]) => {\n              const completion = getCategoryCompletion(categoryKey);\n              \n              return (\n                <div key={categoryKey} className=\"bg-cinema-card rounded-lg shadow-lg dark:shadow-glow-soft p-4 border border-cinema-border transition-all duration-300\">\n                  {/* Full-width horizontal layout with proper alignment */}\n                  <div className=\"flex items-center space-x-3\">\n                    {/* Left: Category Info - Fixed width */}\n                    <div className=\"flex items-center space-x-2 w-28 flex-shrink-0\">\n                      <span className=\"text-base\">{category.icon}</span>\n                      <span className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                        {category.label}\n                      </span>\n                    </div>\n                    \n                    {/* Center: Input Field with Status Indicator - Takes available space */}\n                    <div className=\"flex items-center space-x-2 flex-1\">\n                      <div className=\"flex items-center justify-center w-4 flex-shrink-0\">\n                        <span \n                          className={`text-sm cursor-help transition-all duration-200 ${\n                            animatingCategories.has(categoryKey) \n                              ? 'status-pulse' \n                              : completion.filled > 0 \n                                ? 'text-cinema-teal dark:text-cinema-teal' \n                                : 'text-gray-400 dark:text-gray-500'\n                          }`}\n                          title={completion.filled > 0 ? 'Has content - click Submit to add more' : 'Empty section - click Submit to activate'}\n                        >\n                          {completion.filled > 0 ? '●' : '○'}\n                        </span>\n                      </div>\n                    <div className=\"flex-1\">\n                      <textarea\n                        value={categoryInputs[categoryKey] || ''}\n                        onChange={(e) => setCategoryInputs(prev => ({ ...prev, [categoryKey]: e.target.value }))}\n                        placeholder={placeholderText[categoryKey] || `Describe your ${category.label.toLowerCase()}...`}\n                        className=\"w-full px-3 py-3 text-sm border border-gray-300 dark:border-cinema-border rounded bg-white dark:bg-cinema-panel text-gray-700 dark:text-cinema-text placeholder-gray-500 dark:placeholder-cinema-text-muted focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent resize-none\"\n                        style={{ height: '3.5rem' }}\n                        rows={1}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter' && !e.shiftKey) {\n                            e.preventDefault();\n                            handleCategorySubmit(categoryKey);\n                          }\n                        }}\n                      />\n                    </div>\n                    </div>\n                    \n                    {/* Right: Action Button Groups with Separation */}\n                    <div className=\"flex items-center space-x-6 flex-shrink-0\">\n                      {/* Primary Actions Group */}\n                      <div className=\"flex items-center space-x-3\">\n                      <button\n                        onClick={() => handleCategorySubmit(categoryKey)}\n                        disabled={!categoryInputs[categoryKey]?.trim()}\n                        className=\"px-2 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-sm rounded font-medium transition-all duration-200\"\n                        title=\"Add this element to your prompt\"\n                      >\n                        Submit\n                      </button>\n                      \n                      <LoadingButton\n                        onClick={() => handleCategoryExpand(categoryKey)}\n                        loading={isLoading(`${categoryKey}-expand`)}\n                        disabled={(() => {\n                          const hasInput = categoryInputs[categoryKey]?.trim();\n                          const category = sceneCategories[categoryKey];\n                          const categoryFields = category?.fields || [];\n                          const hasExistingContent = categoryFields.some(field => \n                            fieldValues[field] && fieldValues[field].trim() !== ''\n                          );\n                          // Enable if there's input OR if there's existing content to enhance\n                          return !hasInput && !hasExistingContent;\n                        })()}\n                        className={`relative px-2 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:brightness-110 hover:shadow-lg disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-sm rounded font-medium transition-all duration-200 ${\n                          expandSparkles.has(categoryKey) ? 'expand-sparkle' : ''\n                        }`}\n                        title={(() => {\n                          const category = sceneCategories[categoryKey];\n                          const categoryFields = category?.fields || [];\n                          const hasExistingContent = categoryFields.some(field => \n                            fieldValues[field] && fieldValues[field].trim() !== ''\n                          );\n                          return hasExistingContent ? \"Enhance with even more detail\" : \"Let AI add creative details\";\n                        })()}\n                        loadingText=\"...\"\n                      >\n                        {(() => {\n                          const category = sceneCategories[categoryKey];\n                          const categoryFields = category?.fields || [];\n                          const hasExistingContent = categoryFields.some(field => \n                            fieldValues[field] && fieldValues[field].trim() !== ''\n                          );\n                          return hasExistingContent ? \"Enhance\" : \"Expand\";\n                        })()}\n                      </LoadingButton>\n                      </div>\n                      \n                      {/* Secondary Actions Group */}\n                      <div className=\"flex items-center space-x-3\">\n                      <LoadingButton\n                        onClick={() => handleLoad(categoryKey)}\n                        loading={isLoading(`load-${categoryKey}`)}\n                        disabled={\n                          (categoryKey === 'characters' && savedCharacters.length === 0) || \n                          (categoryKey === 'actions' && savedActions.length === 0) ||\n                          (categoryKey === 'settings' && savedSettings.length === 0 && savedScenes.length === 0) ||\n                          (categoryKey === 'style' && savedStyles.length === 0) ||\n                          (categoryKey === 'audio' && savedAudio.length === 0)\n                        }\n                        className={`px-2 py-2 bg-cinema-teal hover:bg-cinema-teal/90 hover:shadow-lg hover:shadow-cinema-teal/30 disabled:bg-cinema-teal/30 disabled:border-cinema-teal/40 disabled:text-cinema-teal disabled:cursor-not-allowed text-white disabled:text-white text-sm rounded font-medium transition-all duration-200 border border-transparent disabled:border disabled:hover:shadow-none ${\n                          loadGlowEffects.has(categoryKey) ? 'load-activation-glow' : ''\n                        }`}\n                        title={(() => {\n                          const isDisabled = (categoryKey === 'characters' && savedCharacters.length === 0) || \n                                           (categoryKey === 'actions' && savedActions.length === 0) ||\n                                           (categoryKey === 'settings' && savedSettings.length === 0 && savedScenes.length === 0) ||\n                                           (categoryKey === 'style' && savedStyles.length === 0) ||\n                                           (categoryKey === 'audio' && savedAudio.length === 0);\n                          \n                          if (isDisabled) {\n                            const messages = {\n                              'characters': 'Save a character first to load it here',\n                              'actions': 'Save an action first to load it here', \n                              'settings': 'Save a setting first to load it here',\n                              'style': 'Save a style first to load it here',\n                              'audio': 'Save audio settings first to load them here'\n                            };\n                            return messages[categoryKey] || 'Save something first to load it';\n                          }\n                          \n                          return `Load saved ${sceneCategories[categoryKey]?.label?.toLowerCase() || categoryKey} from your library`;\n                        })()}\n                        loadingText=\"...\"\n                      >\n                        Load\n                      </LoadingButton>\n                      \n                      <button\n                        onClick={() => {\n                          setActiveCategory(categoryKey);\n                          setShowTemplateModal(true);\n                        }}\n                        disabled={Object.keys(category.templates).length === 0}\n                        className=\"px-2 py-2 bg-purple-700 hover:bg-purple-800 hover:shadow-lg hover:shadow-purple-500/20 disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-sm rounded font-medium transition-all duration-200\"\n                        title=\"Insert a preset idea\"\n                      >\n                        Template\n                      </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n        \n        {/* Template Selection Modal */}\n        <TemplateModal />\n        \n        {/* Load Selection Modal - Shared between compact and standard modes */}\n        <LoadModal />\n      </>\n    );\n  }\n  \n  // Standard mode (for right panel)\n  return (\n    <>\n      <div className=\"bg-white dark:bg-cinema-card rounded-lg border border-gray-200 dark:border-cinema-border p-4 shadow-sm\">\n        {/* Standard Header */}\n        <div className=\"text-center mb-4\">\n          <h3 className=\"text-sm font-semibold text-gray-800 dark:text-cinema-text flex items-center justify-center\">\n            <span className=\"mr-2\">🎬</span>\n            Scene Builder\n          </h3>\n          <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted mt-1\">\n            Build your scene with templates, saved content, or manual creation\n          </p>\n        </div>\n\n        {/* Standard 5-Category Grid */}\n        <div className=\"space-y-3\">\n          {Object.entries(sceneCategories).map(([categoryKey, category]) => {\n            const completion = getCategoryCompletion(categoryKey);\n            \n            return (\n              <div key={categoryKey} className=\"border border-gray-200 dark:border-cinema-border rounded-md p-3\">\n                {/* Category Header */}\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-lg\">{category.icon}</span>\n                    <div>\n                      <span className=\"text-sm font-medium text-gray-700 dark:text-cinema-text\">\n                        {category.label}\n                      </span>\n                      <div className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                        {category.description}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-600 dark:text-cinema-text-muted text-right\">\n                    <div className=\"font-medium\">{completion.percentage}%</div>\n                    <div>{completion.filled}/{completion.total}</div>\n                  </div>\n                </div>\n                \n                {/* Three Action Buttons - Stack vertically on mobile */}\n                <div className=\"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2\">\n                  <LoadingButton\n                    onClick={() => handleLoad(categoryKey)}\n                    loading={isLoading(`load-${categoryKey}`)}\n                    disabled={\n                      (categoryKey === 'characters' && savedCharacters.length === 0) || \n                      (categoryKey === 'actions' && savedActions.length === 0) ||\n                      (categoryKey === 'settings' && savedSettings.length === 0 && savedScenes.length === 0) ||\n                      (categoryKey === 'style' && savedStyles.length === 0) ||\n                      (categoryKey === 'audio' && savedAudio.length === 0)\n                    }\n                    className=\"flex-1 px-2 py-2 md:py-1.5 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-xs rounded transition-colors\"\n                    title={\n                      (categoryKey === 'characters' && savedCharacters.length === 0) ? \n                      'No saved characters. Create and save characters first using the Library System.' :\n                      `Load saved ${category.label.toLowerCase()}`\n                    }\n                    loadingText=\"Loading...\"\n                  >\n                    Load\n                  </LoadingButton>\n                  <button\n                    onClick={() => {\n                      setActiveCategory(categoryKey);\n                      setShowTemplateModal(true);\n                    }}\n                    disabled={Object.keys(category.templates).length === 0}\n                    className=\"flex-1 px-2 py-2 md:py-1.5 bg-purple-700 hover:bg-purple-800 disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-xs rounded transition-colors flex items-center justify-center\"\n                  >\n                    Template\n                  </button>\n                  <button\n                    onClick={() => handleCreate(categoryKey)}\n                    className=\"flex-1 px-2 py-2 md:py-1.5 bg-purple-500 hover:bg-purple-600 text-white text-xs rounded transition-colors flex items-center justify-center\"\n                  >\n                    Create\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      \n      {/* Template Selection Modal */}\n      <TemplateModal />\n      \n      {/* Load Selection Modal - Shared between compact and standard modes */}\n      <LoadModal />\n    </>\n  );\n};\n\nexport default SceneBuilderChecklist;","import React, { useState, useRef, useEffect } from 'react';\nimport aiApiService from './aiApiService';\nimport usePromptStore from './store';\n\nconst UniversalInput = ({ className = \"\", aiFeatures = null }) => {\n  const [textInput, setTextInput] = useState('');\n  const [isConverting, setIsConverting] = useState(false);\n  const [error, setError] = useState(null);\n  const [inputMode, setInputMode] = useState('text-to-json');\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [hasConverted, setHasConverted] = useState(false);\n  const [lastConvertedInput, setLastConvertedInput] = useState('');\n  const { setFieldValue, fieldValues } = usePromptStore();\n  const textareaRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Auto-resize textarea\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      const scrollHeight = textarea.scrollHeight;\n      // Min height: single line (~40px), Max height: 120px (3 lines)\n      textarea.style.height = Math.min(Math.max(scrollHeight, 40), 120) + 'px';\n    }\n  };\n\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [textInput]);\n\n  // Reset conversion state when input changes\n  useEffect(() => {\n    if (textInput !== lastConvertedInput && hasConverted) {\n      setHasConverted(false);\n    }\n  }, [textInput, lastConvertedInput, hasConverted]);\n\n  const handleConvert = async () => {\n    if (inputMode === 'text-to-json') {\n      if (!textInput.trim()) {\n        setError('Please enter a scene description');\n        return;\n      }\n      if (!aiApiService.hasGroqApiKey()) {\n        setError('Groq API key required for text conversion. Please set your Groq API key in settings.');\n        return;\n      }\n      \n      if (hasConverted && textInput === lastConvertedInput) {\n        // Enhancement mode - enhance existing fields\n        await handleTextEnhancement();\n      } else {\n        // Initial conversion mode\n        await handleTextToJson();\n      }\n    } else if (inputMode === 'image-to-json') {\n      if (!uploadedImage) {\n        setError('Please upload an image first');\n        return;\n      }\n      if (!aiApiService.hasOpenaiApiKey()) {\n        setError('OpenAI API key required for image analysis. Please set your OpenAI API key in settings.');\n        return;\n      }\n      await handleImageToJson();\n    } else {\n      setError('Manual mode: Use the form fields below');\n    }\n  };\n\n  const handleTextToJson = async () => {\n    setIsConverting(true);\n    setError(null);\n\n    try {\n      const prompt = `Convert this scene description into structured JSON prompt fields. Return ONLY a JSON object with field names and values that match typical video generation parameters.\n\nScene Description: \"${textInput}\"\n\nExtract relevant details for these types of fields:\n- scene: Overall scene description\n- character_type: Type of character (human, animal, etc.)\n- setting: Location/environment\n- actions: What's happening\n- emotions: Character emotions\n- lighting_type: Lighting conditions\n- time_of_day: Time setting\n- camera_angle: Camera perspective\n- camera_distance: Shot type\n- style: Visual style\n- color_palette: Color scheme\n- atmosphere: Overall mood\n- clothing: Character clothing\n- hair_color, hair_style: Character appearance\n- age, gender: Character demographics\n- environment: Weather/conditions\n\nReturn ONLY valid JSON with fields you're confident about. Use descriptive but concise values.`;\n\n      const response = await aiApiService.makeRequest([\n        { role: 'user', content: prompt }\n      ], {\n        // No model specified - will default to Groq's mixtral-8x7b-32768\n        temperature: 0.3,\n        maxTokens: 800\n      });\n\n      // Parse the AI response\n      let jsonData;\n      try {\n        // Clean the response to extract JSON\n        let cleanedResponse = response.content.trim();\n        \n        // Remove markdown code blocks if present\n        cleanedResponse = cleanedResponse.replace(/```json\\s*/gi, '').replace(/```\\s*$/gi, '');\n        cleanedResponse = cleanedResponse.replace(/```\\s*/gi, '');\n        \n        // Find JSON object boundaries\n        const jsonStart = cleanedResponse.indexOf('{');\n        const jsonEnd = cleanedResponse.lastIndexOf('}');\n        \n        if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {\n          cleanedResponse = cleanedResponse.substring(jsonStart, jsonEnd + 1);\n        }\n        \n        jsonData = JSON.parse(cleanedResponse);\n      } catch (parseError) {\n        console.error('JSON parsing error:', parseError);\n        throw new Error('AI returned invalid JSON format. Please try again.');\n      }\n\n      // Update form fields with the extracted data\n      Object.entries(jsonData).forEach(([fieldKey, fieldValue]) => {\n        if (fieldValue && typeof fieldValue === 'string' && fieldValue.trim()) {\n          setFieldValue(fieldKey, fieldValue.trim());\n        }\n      });\n\n      // Mark as converted and save the input for enhancement\n      setHasConverted(true);\n      setLastConvertedInput(textInput);\n      \n    } catch (err) {\n      console.error('Text to JSON conversion error:', err);\n      const errorMessage = err.message.includes('API key') \n        ? 'OpenAI API key required. Please set your API key in settings.'\n        : err.message.includes('rate limit')\n        ? 'Rate limit exceeded. Please wait a moment before trying again.'\n        : err.message || 'Failed to convert text to JSON. Please try again.';\n      \n      setError(errorMessage);\n    } finally {\n      setIsConverting(false);\n    }\n  };\n\n  const handleTextEnhancement = async () => {\n    setIsConverting(true);\n    setError(null);\n\n    try {\n      // Build current scene context from existing field values\n      const currentFields = Object.entries(fieldValues)\n        .filter(([key, value]) => value && value.trim() !== '')\n        .map(([key, value]) => `- ${key}: \"${value}\"`)\n        .join('\\n');\n\n      const enhancementPrompt = `PROGRESSIVE ENHANCEMENT: Enhance existing JSON fields with more depth and specificity.\n\nOriginal input: \"${textInput}\"\n\nCurrent field values to enhance:\n${currentFields}\n\nINSTRUCTIONS:\n1. Keep all existing content but make it MORE detailed and specific\n2. Add new complementary fields that weren't filled before  \n3. Preserve the original concept \"${textInput}\" in core fields\n4. Focus on adding layers of detail, specificity, and richness\n\nAvailable fields (enhance existing or add new ones):\n- scene: Main scene description (enhance if exists)\n- character_type: Type of character \n- setting: Location/environment\n- actions: What's happening\n- emotions: Character emotions\n- lighting_type: Lighting conditions\n- time_of_day: Time setting\n- camera_angle: Camera perspective\n- camera_distance: Shot type\n- style: Visual style\n- color_palette: Color scheme\n- atmosphere: Overall mood\n- clothing: Character clothing\n- hair_color, hair_style: Character appearance\n- age, gender: Character demographics\n- environment: Weather/conditions\n\nReturn enhanced JSON with richer, more detailed descriptions. Don't remove existing content - build upon it.`;\n\n      const response = await aiApiService.makeRequest([\n        { role: 'system', content: 'You are an expert at enhancing and expanding creative content with rich, specific details.' },\n        { role: 'user', content: enhancementPrompt }\n      ], {\n        temperature: 0.8,\n        maxTokens: 1000\n      });\n\n      // Parse the enhanced JSON\n      let jsonData;\n      try {\n        let cleanedResponse = response.content.trim();\n        \n        // Remove markdown code blocks if present\n        cleanedResponse = cleanedResponse.replace(/```json\\s*/gi, '').replace(/```\\s*$/gi, '');\n        cleanedResponse = cleanedResponse.replace(/```\\s*/gi, '');\n        \n        // Find JSON object boundaries\n        const jsonStart = cleanedResponse.indexOf('{');\n        const jsonEnd = cleanedResponse.lastIndexOf('}');\n        \n        if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {\n          cleanedResponse = cleanedResponse.substring(jsonStart, jsonEnd + 1);\n        }\n        \n        jsonData = JSON.parse(cleanedResponse);\n      } catch (parseError) {\n        console.error('JSON parsing error:', parseError);\n        throw new Error('AI returned invalid JSON format. Please try again.');\n      }\n\n      // Update form fields with the enhanced data\n      Object.entries(jsonData).forEach(([fieldKey, fieldValue]) => {\n        if (fieldValue && typeof fieldValue === 'string' && fieldValue.trim()) {\n          setFieldValue(fieldKey, fieldValue.trim());\n        }\n      });\n\n    } catch (err) {\n      console.error('Text enhancement error:', err);\n      const errorMessage = err.message.includes('API key') \n        ? 'Groq API key required. Please set your API key in settings.'\n        : err.message.includes('rate limit')\n        ? 'Rate limit exceeded. Please wait a moment before trying again.'\n        : err.message || 'Failed to enhance fields. Please try again.';\n      \n      setError(errorMessage);\n    } finally {\n      setIsConverting(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && e.ctrlKey) {\n      e.preventDefault();\n      handleConvert();\n    }\n  };\n\n  // Image handling functions\n  const validateFile = (file) => {\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\n    const maxSize = 10 * 1024 * 1024; // 10MB\n\n    if (!validTypes.includes(file.type)) {\n      throw new Error('Please upload a JPG, PNG, or WebP image file.');\n    }\n\n    if (file.size > maxSize) {\n      throw new Error('Image file must be smaller than 10MB.');\n    }\n  };\n\n  const fileToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleFileUpload = async (file) => {\n    try {\n      setError(null);\n      validateFile(file);\n      \n      const base64 = await fileToBase64(file);\n      setUploadedImage(file);\n      setImagePreview(base64);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  const handleImageToJson = async () => {\n    if (!uploadedImage || !imagePreview) {\n      setError('Please upload an image first');\n      return;\n    }\n\n    setIsConverting(true);\n    setError(null);\n\n    try {\n      const result = await aiApiService.analyzeImage(imagePreview);\n      \n      if (result.success && result.fields) {\n        // Auto-select high confidence fields and apply them\n        Object.entries(result.fields).forEach(([fieldKey, fieldData]) => {\n          if (fieldData.confidence >= 0.7 && fieldData.value && typeof fieldData.value === 'string') {\n            setFieldValue(fieldKey, fieldData.value.trim());\n          }\n        });\n\n        // Clear the uploaded image after successful conversion\n        setUploadedImage(null);\n        setImagePreview(null);\n        if (fileInputRef.current) {\n          fileInputRef.current.value = '';\n        }\n        \n      } else {\n        setError(result.error || 'Failed to analyze image. Please try again.');\n      }\n    } catch (err) {\n      console.error('Image analysis error:', err);\n      if (err.message.includes('timed out') || err.name === 'AbortError') {\n        setError('Image analysis timed out after 90 seconds. Please try a smaller image or check your connection.');\n      } else if (err.message.includes('API key')) {\n        setError('OpenAI API key required. Please set your API key in settings.');\n      } else {\n        setError('Failed to analyze image. Please check your connection and try again.');\n      }\n    } finally {\n      setIsConverting(false);\n    }\n  };\n\n  const clearImage = () => {\n    setUploadedImage(null);\n    setImagePreview(null);\n    setError(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const modeOptions = [\n    { value: 'text-to-json', label: 'Text → JSON', icon: '✨' },\n    { value: 'image-to-json', label: 'Image → JSON', icon: '📸' }\n  ];\n\n  const currentMode = modeOptions.find(mode => mode.value === inputMode);\n\n  return (\n    <div className={`bg-white dark:bg-cinema-card rounded-lg border border-gray-200 dark:border-cinema-border ${className}`}>\n      <div className=\"p-4\">\n        <div className=\"flex flex-col md:flex-row md:items-start space-y-3 md:space-y-0 md:space-x-3\">\n          {/* Input area - changes based on mode */}\n          <div className=\"flex-1\">\n            {inputMode === 'image-to-json' ? (\n              // Image upload area\n              <div>\n                {!imagePreview ? (\n                  <div\n                    onDragOver={handleDragOver}\n                    onDrop={handleDrop}\n                    className=\"border-2 border-dashed border-blue-300 dark:border-blue-600 rounded-md p-4 text-center transition-colors hover:border-blue-400 dark:hover:border-blue-500 bg-blue-50/30 dark:bg-blue-900/10 cursor-pointer\"\n                    onClick={() => fileInputRef.current?.click()}\n                  >\n                    <div className=\"space-y-2\">\n                      <div className=\"text-2xl\">📸</div>\n                      <div>\n                        <p className=\"text-sm text-gray-700 dark:text-cinema-text font-medium\">\n                          Upload Image to Analyze\n                        </p>\n                        <p className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                          Drag & drop or click to select • JPG, PNG, WebP • Max 10MB\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  // Image preview\n                  <div className=\"relative\">\n                    <img\n                      src={imagePreview}\n                      alt=\"Upload preview\"\n                      className=\"w-full max-h-32 object-contain rounded-md border border-gray-200 dark:border-cinema-border\"\n                    />\n                    <button\n                      onClick={clearImage}\n                      className=\"absolute top-1 right-1 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full text-xs transition-colors\"\n                      title=\"Remove image\"\n                    >\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                    <div className=\"mt-1 text-xs text-gray-500 dark:text-cinema-text-muted\">\n                      {uploadedImage.name} • {(uploadedImage.size / 1024).toFixed(1)}KB\n                    </div>\n                  </div>\n                )}\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/jpeg,image/jpg,image/png,image/webp\"\n                  onChange={handleFileChange}\n                  className=\"hidden\"\n                />\n              </div>\n            ) : (\n              // Text input area\n              <div>\n                <textarea\n                  ref={textareaRef}\n                  value={textInput}\n                  onChange={(e) => setTextInput(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"Describe your scene in natural language... e.g., 'A young woman with long brown hair sitting in a cozy coffee shop, reading a book while rain falls outside the window'\"\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 dark:border-cinema-border rounded-md bg-white dark:bg-cinema-panel text-gray-700 dark:text-cinema-text placeholder-gray-500 dark:placeholder-cinema-text-muted focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent resize-none overflow-hidden\"\n                  style={{ minHeight: '40px' }}\n                  disabled={isConverting}\n                  rows={1}\n                />\n                \n                {/* Input helpers */}\n                <div className=\"flex items-center justify-between mt-1\">\n                  <span className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                    Ctrl+Enter to convert\n                  </span>\n                  <span className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">\n                    {textInput.length}/500\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Mode toggle and Convert button - stack on mobile */}\n          <div className=\"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3 md:flex-shrink-0\">\n            {/* Toggle Switch */}\n            <div className=\"flex items-center space-x-2 bg-gray-100 dark:bg-cinema-border rounded-md p-1\">\n              <button\n                onClick={() => setInputMode('text-to-json')}\n                disabled={isConverting}\n                className={`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${\n                  inputMode === 'text-to-json'\n                    ? 'bg-white dark:bg-cinema-card text-blue-600 dark:text-blue-400 shadow-sm'\n                    : 'text-gray-600 dark:text-cinema-text-muted hover:text-gray-800 dark:hover:text-cinema-text'\n                }`}\n              >\n                <span>✨</span>\n                <span>Text</span>\n              </button>\n              <button\n                onClick={() => setInputMode('image-to-json')}\n                disabled={isConverting}\n                className={`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${\n                  inputMode === 'image-to-json'\n                    ? 'bg-white dark:bg-cinema-card text-blue-600 dark:text-blue-400 shadow-sm'\n                    : 'text-gray-600 dark:text-cinema-text-muted hover:text-gray-800 dark:hover:text-cinema-text'\n                }`}\n              >\n                <span>📸</span>\n                <span>Image</span>\n              </button>\n            </div>\n\n            <button\n              data-tutorial=\"convert-button\"\n              onClick={handleConvert}\n              disabled={isConverting || (inputMode === 'text-to-json' && !textInput.trim()) || (inputMode === 'image-to-json' && !uploadedImage)}\n              title={\n                inputMode === 'text-to-json' && hasConverted && textInput === lastConvertedInput\n                  ? 'Enhance existing fields with more detail'\n                  : inputMode === 'text-to-json'\n                  ? 'Convert text description to JSON fields'\n                  : 'Analyze image and extract scene details'\n              }\n              className={`px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${\n                isConverting || (inputMode === 'text-to-json' && !textInput.trim()) || (inputMode === 'image-to-json' && !uploadedImage)\n                  ? 'bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed'\n                  : inputMode === 'text-to-json' && hasConverted && textInput === lastConvertedInput\n                  ? 'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-md hover:shadow-lg'\n                  : 'bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-md hover:shadow-lg'\n              }`}\n            >\n              {isConverting ? (\n                <>\n                  <svg className=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  <span>{inputMode === 'text-to-json' && hasConverted && textInput === lastConvertedInput ? 'Enhancing...' : 'Converting...'}</span>\n                </>\n              ) : (\n                <>\n                  <span>{inputMode === 'text-to-json' && hasConverted && textInput === lastConvertedInput ? '🎨' : currentMode?.icon}</span>\n                  <span>{inputMode === 'text-to-json' && hasConverted && textInput === lastConvertedInput ? 'Enhance' : 'Convert'}</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* AI Features positioned directly under Text/Image/Convert buttons */}\n        {aiFeatures && (\n          <div className=\"flex justify-end mt-2\">\n            <div className=\"flex items-center\">\n              {aiFeatures}\n            </div>\n          </div>\n        )}\n\n        {/* Error display */}\n        {error && (\n          <div className=\"mt-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-md p-2\">\n            <div className=\"flex items-center space-x-2\">\n              <svg className=\"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n              <span className=\"text-xs text-red-700 dark:text-red-300\">{error}</span>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UniversalInput;","// Basic Analytics Integration for AI Video Prompt Generator\n// Supports Google Analytics 4 and other tracking services\n\nclass Analytics {\n  constructor() {\n    this.isEnabled = false;\n    this.gaId = null;\n    this.init();\n  }\n\n  init() {\n    // Check for GA4 tracking ID in environment variables\n    this.gaId = import.meta?.env?.VITE_GA4_ID || null;\n    \n    if (this.gaId && typeof window !== 'undefined') {\n      this.initGA4();\n    }\n    \n    // Initialize other tracking services\n    this.initSearchConsole();\n  }\n\n  // Google Analytics 4 initialization\n  initGA4() {\n    // Load GA4 script\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${this.gaId}`;\n    document.head.appendChild(script);\n\n    // Initialize gtag\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      window.dataLayer.push(arguments);\n    }\n    window.gtag = gtag;\n\n    gtag('js', new Date());\n    gtag('config', this.gaId, {\n      page_title: document.title,\n      page_location: window.location.href,\n    });\n\n    this.isEnabled = true;\n    console.log('📊 Analytics: GA4 initialized');\n  }\n\n  // Google Search Console verification\n  initSearchConsole() {\n    const searchConsoleId = import.meta?.env?.VITE_SEARCH_CONSOLE_ID;\n    if (searchConsoleId && typeof document !== 'undefined') {\n      const meta = document.createElement('meta');\n      meta.name = 'google-site-verification';\n      meta.content = searchConsoleId;\n      document.head.appendChild(meta);\n    }\n  }\n\n  // Track page views\n  trackPageView(path, title) {\n    if (!this.isEnabled || typeof window === 'undefined') return;\n\n    if (window.gtag) {\n      window.gtag('config', this.gaId, {\n        page_path: path,\n        page_title: title,\n      });\n    }\n  }\n\n  // Track custom events\n  trackEvent(eventName, parameters = {}) {\n    if (!this.isEnabled || typeof window === 'undefined') return;\n\n    if (window.gtag) {\n      window.gtag('event', eventName, {\n        event_category: parameters.category || 'User Interaction',\n        event_label: parameters.label || '',\n        value: parameters.value || 0,\n        ...parameters\n      });\n    }\n\n    // Log for development\n    if (import.meta?.env?.DEV) {\n      console.log('📊 Analytics Event:', eventName, parameters);\n    }\n  }\n\n  // Track Pro feature usage\n  trackProFeature(featureName, isProUser = false) {\n    this.trackEvent('pro_feature_used', {\n      category: 'Pro Features',\n      label: featureName,\n      user_tier: isProUser ? 'pro' : 'free',\n      feature_name: featureName\n    });\n  }\n\n  // Track AI feature usage\n  trackAIFeature(featureName, success = true) {\n    this.trackEvent('ai_feature_used', {\n      category: 'AI Features',\n      label: featureName,\n      success: success,\n      feature_name: featureName\n    });\n  }\n\n  // Track prompt generation\n  trackPromptGeneration(method, fieldsCount = 0) {\n    this.trackEvent('prompt_generated', {\n      category: 'Prompt Generation',\n      label: method, // 'manual', 'text_to_json', 'image_to_json', 'template'\n      value: fieldsCount,\n      generation_method: method\n    });\n  }\n\n  // Track export actions\n  trackExport(format = 'json') {\n    this.trackEvent('prompt_exported', {\n      category: 'Export',\n      label: format,\n      export_format: format\n    });\n  }\n\n  // Track subscription events\n  trackSubscription(action, tier = '') {\n    this.trackEvent('subscription_' + action, {\n      category: 'Subscription',\n      label: tier,\n      subscription_tier: tier,\n      action: action // 'viewed', 'started', 'completed', 'cancelled'\n    });\n  }\n\n  // Track errors\n  trackError(errorType, errorMessage = '') {\n    this.trackEvent('error_occurred', {\n      category: 'Errors',\n      label: errorType,\n      error_type: errorType,\n      error_message: errorMessage.substring(0, 100) // Limit message length\n    });\n  }\n\n  // Performance tracking\n  trackPerformance() {\n    if (!this.isEnabled || typeof window === 'undefined' || !window.performance) return;\n\n    // Track Core Web Vitals when available\n    if ('web-vitals' in window) {\n      // This would require the web-vitals library\n      // For now, just track basic timing\n    }\n\n    // Basic performance metrics\n    const navigation = window.performance.getEntriesByType('navigation')[0];\n    if (navigation) {\n      this.trackEvent('page_timing', {\n        category: 'Performance',\n        dom_load_time: Math.round(navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart),\n        page_load_time: Math.round(navigation.loadEventEnd - navigation.loadEventStart),\n        non_interaction: true\n      });\n    }\n  }\n}\n\n// Create singleton instance\nconst analytics = new Analytics();\n\n// Auto-track performance on load\nif (typeof window !== 'undefined') {\n  window.addEventListener('load', () => {\n    setTimeout(() => analytics.trackPerformance(), 1000);\n  });\n}\n\nexport default analytics;","import React, { useState, useEffect, useRef } from 'react';\nimport usePromptStore from './store';\n\nconst TutorialOverlay = ({ onComplete, onSkip, onTutorialAction, isAdvancedMode, expandedCategories }) => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n  const [tutorialState, setTutorialState] = useState({\n    hasTriedExample: false,\n    hasOpenedTemplates: false,\n    hasExpandedSceneBuilder: false,\n    hasToggledAdvanced: false,\n    hasOpenedAiTools: false,\n    hasOpenedProjects: false\n  });\n  const overlayRef = useRef(null);\n  const { setFieldValue } = usePromptStore();\n\n  // Tutorial steps configuration with new user journey flow\n  const tutorialSteps = [\n    {\n      id: 'welcome',\n      title: '🎬 Welcome to JSON Prompt Studio',\n      content: () => (\n        <div>\n          <p className=\"mb-4 text-base leading-relaxed\">Transform ideas into AI-generated scenes in seconds.</p>\n          <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg p-4 mb-4\">\n            <p className=\"text-sm font-medium text-purple-800 dark:text-purple-300 mb-2\">🚀 We'll show you the 3 fastest ways to create:</p>\n            <ul className=\"text-sm text-purple-700 dark:text-purple-200 space-y-1\">\n              <li>• Start with plain English (30 seconds)</li>\n              <li>• Use viral templates (instant)</li>  \n              <li>• Build custom scenes (unlimited control)</li>\n            </ul>\n          </div>\n        </div>\n      ),\n      target: null,\n      position: 'center',\n      buttons: [\n        { text: 'Let\\'s Go →', action: 'next', style: 'primary' },\n        { text: 'Skip Tour', action: 'skip', style: 'secondary' }\n      ]\n    },\n    {\n      id: 'text-input',\n      title: '✨ Fastest Start — Text to JSON',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Describe your scene in plain English. Watch AI create structured prompts instantly.</p>\n          <div className=\"bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-lg p-3 mb-3\">\n            <p className=\"text-sm font-medium text-green-800 dark:text-green-300 mb-2\">💡 Try this example:</p>\n            <p className=\"text-sm text-green-700 dark:text-green-200 italic\">\"A dragon sleeping on a crystal mountain under the stars\"</p>\n          </div>\n          {!tutorialState.hasTriedExample && (\n            <button\n              onClick={() => {\n                // Complete 3-step demonstration: Fill text -> Convert -> Enhance\n                const textInput = document.querySelector('textarea[placeholder*=\"Describe your scene\"]') ||\n                                document.querySelector('[data-tutorial=\"text-input\"] textarea');\n                \n                if (textInput) {\n                  // Step 1: Fill the text input\n                  textInput.focus();\n                  const nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype, 'value').set;\n                  nativeInputValueSetter.call(textInput, 'A dragon sleeping on a crystal mountain under the stars');\n                  \n                  const events = ['input', 'change', 'keyup'];\n                  events.forEach(eventType => {\n                    const event = new Event(eventType, { bubbles: true });\n                    textInput.dispatchEvent(event);\n                  });\n                  \n                  setTimeout(() => {\n                    textInput.blur();\n                    textInput.focus();\n                    \n                    // Step 2: Click Convert button after 1.5 seconds\n                    setTimeout(() => {\n                      // Find Convert button using proper DOM API (not invalid :contains selector)\n                      const convertButton = document.querySelector('[data-tutorial=\"convert-button\"]') ||\n                                          Array.from(document.querySelectorAll('button')).find(btn => \n                                            btn.textContent.includes('Convert') && !btn.disabled\n                                          );\n                      \n                      if (convertButton && !convertButton.disabled) {\n                        convertButton.click();\n                        \n                        // Populate actual JSON fields to show real output\n                        setTimeout(() => {\n                          const exampleData = {\n                            scene: 'A dragon sleeping on a crystal mountain under the stars',\n                            character_type: 'dragon',\n                            setting: 'crystal mountain',\n                            actions: 'sleeping peacefully',\n                            lighting_type: 'starlight',\n                            atmosphere: 'mystical and serene',\n                            time_of_day: 'night',\n                            camera_angle: 'wide shot',\n                            style: 'fantasy illustration',\n                            color_palette: 'deep blues and crystal whites'\n                          };\n                          \n                          // Populate fields one by one with a slight delay for visual effect\n                          Object.entries(exampleData).forEach(([fieldKey, fieldValue], index) => {\n                            setTimeout(() => {\n                              setFieldValue(fieldKey, fieldValue);\n                            }, index * 150); // Stagger field population\n                          });\n                        }, 500);\n                        \n                        // Show \"Watch the JSON populate!\" indicator after Convert\n                        setTimeout(() => {\n                          const jsonSection = document.querySelector('[data-tutorial=\"json-output\"]') || \n                                            document.querySelector('.bg-gray-50.dark\\\\:bg-gray-800') ||\n                                            document.querySelector('[class*=\"json\"]');\n                          if (jsonSection) {\n                            // Create temporary indicator\n                            const indicator = document.createElement('div');\n                            indicator.className = 'fixed z-[10002] bg-green-500 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg animate-bounce';\n                            indicator.textContent = '👀 Watch the JSON populate!';\n                            indicator.style.top = '20px';\n                            indicator.style.right = '20px';\n                            document.body.appendChild(indicator);\n                            \n                            // Highlight JSON section\n                            jsonSection.style.transition = 'all 0.5s ease';\n                            jsonSection.style.boxShadow = '0 0 20px rgba(34, 197, 94, 0.5)';\n                            jsonSection.style.transform = 'scale(1.02)';\n                            \n                            // Remove highlight after 2 seconds\n                            setTimeout(() => {\n                              jsonSection.style.boxShadow = '';\n                              jsonSection.style.transform = '';\n                              document.body.removeChild(indicator);\n                            }, 2000);\n                          }\n                        }, 1000);\n                        \n                      }\n                    }, 1500);\n                  }, 10);\n                }\n                setTutorialState(prev => ({ ...prev, hasTriedExample: true }));\n              }}\n              className=\"w-full px-4 py-2 text-sm bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white rounded-lg transition-all duration-200 font-medium\"\n            >\n              ✨ Try Example\n            </button>\n          )}\n          {tutorialState.hasTriedExample && (\n            <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n              <div className=\"text-green-600 dark:text-green-400 text-sm font-medium mb-2\">\n                ✓ Perfect! Watch the text-to-JSON conversion:\n              </div>\n              <div className=\"text-xs text-blue-800 dark:text-blue-200 space-y-2\">\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"w-4 h-4 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold\">1</span>\n                    <span>Text filled in input area</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"w-4 h-4 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold\">2</span>\n                    <span>Convert button clicked → <strong>JSON fields populate with structured data</strong> 👀</span>\n                  </div>\n                </div>\n                <p className=\"pt-1 border-t border-blue-200 dark:border-blue-700\">✨ <strong>Perfect!</strong> The next step will show you the JSON output and demonstrate the enhancement workflow!</p>\n              </div>\n            </div>\n          )}\n          <div className=\"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-2 mt-2 border border-amber-200 dark:border-amber-700\">\n            <p className=\"text-xs text-amber-800 dark:text-amber-200\">\n              🎯 <strong>KEY FEATURE:</strong> The Convert button intelligently transforms into Enhance after first use, enabling progressive enhancement workflow!\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"text-input\"]',\n      position: 'left',\n      disableScroll: true\n    },\n    {\n      id: 'json-output',\n      title: '📊 Watch Your JSON Populate!',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Perfect! Now look at how the JSON fields populated with structured data from your description.</p>\n          <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-3 mb-3\">\n            <p className=\"text-sm font-medium text-green-800 dark:text-green-300 mb-2\">✅ What just happened:</p>\n            <ul className=\"text-sm text-green-700 dark:text-green-200 space-y-1\">\n              <li>• AI analyzed your scene description</li>\n              <li>• Extracted key elements (character, setting, mood, etc.)</li>\n              <li>• Populated structured JSON fields automatically</li>\n              <li>• Created a foundation you can now enhance</li>\n            </ul>\n          </div>\n          <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-3 mb-3\">\n            <p className=\"text-sm font-medium text-purple-800 dark:text-purple-300 mb-2\">🎨 Try Enhancement:</p>\n            <p className=\"text-sm text-purple-700 dark:text-purple-200\">\n              The Convert button transformed into <strong>Enhance</strong> - click it to add richer, more detailed descriptions to existing fields!\n            </p>\n          </div>\n          <button\n            onClick={() => {\n              // Find and click the Enhance button\n              const enhanceButton = document.querySelector('[data-tutorial=\"convert-button\"]') ||\n                                  Array.from(document.querySelectorAll('button')).find(btn => \n                                    btn.textContent.includes('Enhance') && !btn.disabled\n                                  );\n              \n              if (enhanceButton && !enhanceButton.disabled) {\n                enhanceButton.click();\n                \n                // Populate enhanced JSON fields after a delay\n                setTimeout(() => {\n                  const enhancedData = {\n                    scene: 'A majestic ancient dragon with shimmering scales sleeping peacefully on a towering crystal mountain peak under a blanket of countless stars',\n                    character_type: 'ancient crystal dragon',\n                    setting: 'mystical crystal mountain peak with glowing formations',\n                    actions: 'sleeping peacefully with gentle breathing, scales glinting softly',\n                    lighting_type: 'ethereal starlight with crystal reflections',\n                    atmosphere: 'deeply mystical and profoundly serene, otherworldly tranquility',\n                    time_of_day: 'deep night with celestial brilliance',\n                    camera_angle: 'cinematic wide establishing shot from below',\n                    style: 'high fantasy digital art with luminous details',\n                    color_palette: 'rich midnight blues, silver starlight, and iridescent crystal whites',\n                    emotions: 'peaceful contentment and ancient wisdom',\n                    environment: 'crisp mountain air with magical energy'\n                  };\n                  \n                  // Populate enhanced fields with staggered timing\n                  Object.entries(enhancedData).forEach(([fieldKey, fieldValue], index) => {\n                    setTimeout(() => {\n                      setFieldValue(fieldKey, fieldValue);\n                    }, index * 100);\n                  });\n                  \n                  // Show enhancement indicator\n                  setTimeout(() => {\n                    const jsonSection = document.querySelector('[data-tutorial=\"json-output\"]');\n                    if (jsonSection) {\n                      const indicator = document.createElement('div');\n                      indicator.className = 'fixed z-[10002] bg-purple-500 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg animate-pulse';\n                      indicator.textContent = '✨ Fields enhanced with richer details!';\n                      indicator.style.top = '20px';\n                      indicator.style.right = '20px';\n                      document.body.appendChild(indicator);\n                      \n                      setTimeout(() => {\n                        document.body.removeChild(indicator);\n                      }, 3000);\n                    }\n                  }, 800);\n                }, 500);\n              }\n            }}\n            className=\"w-full px-4 py-2 text-sm bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-lg transition-all duration-200 font-medium\"\n          >\n            🎨 Try Enhance Now\n          </button>\n          <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mt-3 border border-blue-200 dark:border-blue-700\">\n            <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n              💡 <strong>Progressive Enhancement:</strong> This is the core workflow - start simple, then enhance with more detail as needed!\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"json-output\"]',\n      position: 'right',\n      disableScroll: false\n    },\n    {\n      id: 'quick-tools',\n      title: '🧠 Quick Inspiration Tools',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Need instant inspiration? These tools jumpstart your creativity:</p>\n          <div className=\"space-y-2 mb-3\">\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">📋</span>\n              <span><strong>Templates & Presets</strong> — Genre-based starting points (horror, romance, etc.)</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🔥</span>\n              <span><strong>Viral</strong> — Trending formats optimized for social media</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🎲</span>\n              <span><strong>Randomize</strong> — AI surprises (perfect for breaking creative blocks)</span>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700\">\n            <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n              💡 <strong>Pro Tip:</strong> Click any of these buttons in the header to access these powerful creativity tools when you're ready to use them.\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"quick-tools\"]',\n      position: 'bottom'\n    },\n    {\n      id: 'scene-builder',\n      title: '🛠️ Scene Builder — The Power Tool',\n      content: () => {\n        const hasExpanded = expandedCategories && Object.values(expandedCategories).some(expanded => expanded);\n        return (\n          <div>\n            <p className=\"mb-3\">Want precision control? Build scenes element by element.</p>\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-3 mb-3\">\n              <p className=\"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2\">🎭 Each category has smart AI helpers:</p>\n              <ul className=\"text-sm text-blue-700 dark:text-blue-200 space-y-1\">\n                <li>• Load saved elements • Apply templates • AI enhancement</li>\n                <li>• Characters → Actions → Style → Audio</li>\n              </ul>\n            </div>\n            <div className=\"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-3 border border-teal-200 dark:border-teal-700\">\n              <p className=\"text-sm text-teal-800 dark:text-teal-200 mb-2\">\n                <strong>🎯 Key Features:</strong>\n              </p>\n              <ul className=\"text-xs text-teal-700 dark:text-teal-300 space-y-1\">\n                <li>• <strong>Load buttons turn teal</strong> when you have saved content to load</li>\n                <li>• <strong>Enhance buttons</strong> use AI to improve existing content</li>\n                <li>• <strong>Template buttons</strong> provide quick starting points</li>\n                <li>• Each category builds on the others for complete scenes</li>\n              </ul>\n            </div>\n          </div>\n        );\n      },\n      target: '[data-tutorial=\"scene-builder\"]',\n      position: 'right',\n      disableScroll: true\n    },\n    {\n      id: 'advanced-mode',\n      title: isAdvancedMode ? '🔬 Advanced Mode in Action!' : '🔬 Advanced Mode',\n      content: () => {\n        const currentMode = isAdvancedMode ? 'Advanced' : 'Simple';\n        const nextMode = isAdvancedMode ? 'Simple' : 'Advanced';\n        return (\n          <div>\n            {isAdvancedMode ? (\n              // User is in Advanced Mode - demonstrate it\n              <div>\n                <p className=\"mb-3\">🎉 Excellent! You're now in Advanced Mode. Notice how the interface has changed:</p>\n                <div className=\"bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-lg p-3 mb-3\">\n                  <p className=\"text-sm font-medium text-teal-800 dark:text-teal-300 mb-2\">🔍 Look at what's now available:</p>\n                  <ul className=\"text-sm text-teal-700 dark:text-teal-200 space-y-1\">\n                    <li>• <strong>Detailed category sections</strong> you can expand/collapse</li>\n                    <li>• <strong>Direct field editing</strong> for precise control</li>  \n                    <li>• <strong>Full JSON structure</strong> access</li>\n                    <li>• <strong>Professional-grade controls</strong> for advanced users</li>\n                  </ul>\n                </div>\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700\">\n                  <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                    💡 <strong>Try this:</strong> Click on any category (Characters, Settings, etc.) to see the expanded field controls that weren't visible in Simple Mode!\n                  </p>\n                </div>\n              </div>\n            ) : (\n              // User is still in Simple Mode - explain Advanced Mode\n              <div>\n                <p className=\"mb-3\">Advanced Mode unlocks the full JSON structure.</p>\n                <div className=\"bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-lg p-3 mb-3\">\n                  <p className=\"text-sm font-medium text-teal-800 dark:text-teal-300 mb-2\">📊 Perfect for:</p>\n                  <ul className=\"text-sm text-teal-700 dark:text-teal-200 space-y-1\">\n                    <li>• Fine-tuning AI output</li>\n                    <li>• Custom field control</li>  \n                    <li>• Professional workflows</li>\n                    <li>• API integrations</li>\n                  </ul>\n                </div>\n                <p className=\"mb-3 text-sm\">You're currently in <strong>{currentMode} Mode</strong>.</p>\n              </div>\n            )}\n            {!tutorialState.hasToggledAdvanced && (\n              <button\n                onClick={() => {\n                  // Actually click the Advanced Mode toggle button\n                  const advancedToggle = document.querySelector('[data-tutorial=\"advanced-mode-toggle\"]') ||\n                                        document.querySelector('button[title*=\"Switch between simple and advanced\"]') ||\n                                        document.querySelector('button:contains(\"Advanced Mode\")') ||\n                                        document.querySelector('button:contains(\"Simple Mode\")');\n                  \n                  if (advancedToggle) {\n                    advancedToggle.click();\n                    setTutorialState(prev => ({ ...prev, hasToggledAdvanced: true }));\n                  } else {\n                    // Fallback to onTutorialAction if direct click doesn't work\n                    if (onTutorialAction) {\n                      onTutorialAction('toggleMode');\n                    }\n                    setTutorialState(prev => ({ ...prev, hasToggledAdvanced: true }));\n                  }\n                }}\n                className=\"w-full px-4 py-2 text-sm bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white rounded-lg transition-all duration-200 font-medium\"\n              >\n                🔬 Try {nextMode} Mode →\n              </button>\n            )}\n            {tutorialState.hasToggledAdvanced && (\n              <div className=\"text-teal-600 dark:text-teal-400 text-sm font-medium bg-teal-50 dark:bg-teal-900/20 rounded-lg p-2\">\n                ✓ Great! Notice how the interface adapts to different complexity levels.\n              </div>\n            )}\n          </div>\n        );\n      },\n      target: '[data-tutorial=\"advanced-mode-toggle\"]',\n      position: 'bottom',\n      disableScroll: true\n    },\n    {\n      id: 'ai-tools',\n      title: '🤖 AI Tools Hub',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Supercharge your creativity with compact AI tools located right below the text input:</p>\n          <div className=\"space-y-2 mb-3\">\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🎭</span>\n              <span><strong>Character Engine</strong> — Generate detailed personas</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🌍</span>\n              <span><strong>World Builder</strong> — Create immersive environments</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🎬</span>\n              <span><strong>Storyboard Generator</strong> — Break scenes into sequences</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">✨</span>\n              <span><strong>Scene Extender</strong> — Generate multiple scene variations</span>\n            </div>\n          </div>\n          <div className=\"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-3 border border-pink-200 dark:border-pink-700\">\n            <p className=\"text-sm text-pink-800 dark:text-pink-200\">\n              💡 <strong>Location:</strong> These AI tools appear as compact buttons right below the Convert/Enhance button in the text input area.\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"ai-tools\"]',\n      position: 'left',\n      disableScroll: true\n    },\n    {\n      id: 'project-system',\n      title: '💾 Projects & Organization',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Organize everything with Projects. Never lose your work.</p>\n          <div className=\"space-y-2 mb-3\">\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">📁</span>\n              <span><strong>Projects</strong> keep related scenes together</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">💿</span>\n              <span><strong>Save/Load</strong> individual elements or full scenes</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🔄</span>\n              <span><strong>Undo/Redo</strong> for safe experimentation</span>\n            </div>\n          </div>\n          <div className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3 border border-orange-200 dark:border-orange-700\">\n            <p className=\"text-sm text-orange-800 dark:text-orange-200\">\n              💡 <strong>Look for:</strong> The project dropdown and management buttons are located in the top-left area of the header, along with the logo.\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"project-system\"]',\n      position: 'top'\n    },\n    {\n      id: 'advanced-features',\n      title: '⚙️ Advanced Features',\n      content: () => (\n        <div>\n          <p className=\"mb-3\">Professional tools for advanced users:</p>\n          <div className=\"space-y-2 mb-3\">\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">📋</span>\n              <span><strong>Live JSON preview</strong> with copy/export</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">📐</span>\n              <span><strong>Aspect ratio controls</strong> (16:9, 9:16, etc.)</span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <span className=\"w-6\">🔧</span>\n              <span><strong>Direct JSON editing</strong> in Advanced Mode</span>\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20 rounded-lg p-3\">\n            <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n              💡 <strong>Pro Tip:</strong> Use the aspect ratio dropdown to optimize your prompts for different platforms and formats.\n            </p>\n          </div>\n        </div>\n      ),\n      target: '[data-tutorial=\"advanced-controls\"]',\n      position: 'bottom'\n    },\n    {\n      id: 'completion',\n      title: '🚀 Ready to Create!',\n      content: () => (\n        <div>\n          <p className=\"mb-4 text-base leading-relaxed\">You're ready to create amazing AI prompts!</p>\n          <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4 mb-3\">\n            <p className=\"text-sm font-medium text-green-800 dark:text-green-300 mb-2\">🎯 Quick reminder:</p>\n            <ul className=\"text-sm text-green-700 dark:text-green-200 space-y-1\">\n              <li>• Start simple with Text → JSON</li>\n              <li>• Use Templates & Quick Tools for instant results</li>  \n              <li>• Build detailed prompts with Scene Builder</li>\n              <li>• Use AI Tools for creative enhancement</li>\n              <li>• Organize everything with Projects</li>\n            </ul>\n          </div>\n          <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mb-3 border border-blue-200 dark:border-blue-700\">\n            <p className=\"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1\">🔬 Advanced Mode Tips:</p>\n            <ul className=\"text-xs text-blue-700 dark:text-blue-200 space-y-1\">\n              <li>• Switch to Advanced Mode for full JSON control</li>\n              <li>• Edit JSON directly in Advanced Mode</li>\n              <li>• Use aspect ratio controls for different platforms</li>\n              <li>• Copy/export your finished prompts</li>\n            </ul>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            💡 You can replay this tutorial anytime by pressing Ctrl+? or from the Help menu.\n          </p>\n        </div>\n      ),\n      target: null,\n      position: 'center',\n      buttons: [\n        { text: '🎬 Start Creating', action: 'complete', style: 'primary' },\n        { text: '🔄 Replay Tutorial', action: 'replay', style: 'secondary' }\n      ]\n    }\n  ];\n\n  const currentStepData = tutorialSteps[currentStep];\n\n  // Get target element position for spotlight\n  const getTargetPosition = (selector) => {\n    if (!selector) return null;\n    \n    const element = document.querySelector(selector);\n    if (!element) return null;\n    \n    const rect = element.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height,\n      bottom: rect.bottom,\n      right: rect.right\n    };\n  };\n\n  // Calculate tooltip position with viewport boundary detection\n  const getTooltipPosition = (targetPos, preferredPosition, stepData = null) => {\n    if (!targetPos) {\n      // Center position for welcome/complete steps\n      return {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      };\n    }\n\n    const tooltipWidth = 400; // Slightly wider for new content\n    const tooltipHeight = 280; // Taller for more detailed content\n    const padding = 20;\n    const targetPadding = 60; // Increased padding from target to avoid covering it\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    \n    // For large target elements (height > 300px), position relative to top instead of center\n    // Also adjust for text-input and ai-tools to position higher\n    const isLargeTarget = targetPos.height > 300;\n    const isTextInput = stepData && stepData.id === 'text-input';\n    const isAiTools = stepData && stepData.id === 'ai-tools';\n    const targetCenterY = isLargeTarget ? targetPos.top + 50 : \n                         isTextInput ? targetPos.top - 50 : // Position much higher for text input\n                         isAiTools ? targetPos.top - 80 : // Position much higher for AI tools to avoid cutoff\n                         targetPos.top + (targetPos.height / 2);\n    \n    // Calculate positions for each direction with extra padding to avoid covering target\n    const positions = {\n      right: {\n        top: targetCenterY - (tooltipHeight / 2),\n        left: targetPos.right + targetPadding,\n      },\n      left: {\n        top: targetCenterY - (tooltipHeight / 2),\n        left: targetPos.left - tooltipWidth - targetPadding,\n      },\n      bottom: {\n        top: targetPos.bottom + targetPadding,\n        left: targetPos.left + (targetPos.width / 2) - (tooltipWidth / 2),\n      },\n      top: {\n        top: targetPos.top - tooltipHeight - targetPadding,\n        left: targetPos.left + (targetPos.width / 2) - (tooltipWidth / 2),\n      }\n    };\n    \n    // Check if position fits in viewport\n    const fitsInViewport = (pos) => {\n      return pos.top >= padding && \n             pos.top + tooltipHeight <= viewportHeight - padding &&\n             pos.left >= padding && \n             pos.left + tooltipWidth <= viewportWidth - padding;\n    };\n    \n    // Try preferred position first\n    if (positions[preferredPosition] && fitsInViewport(positions[preferredPosition])) {\n      return positions[preferredPosition];\n    }\n    \n    // Fallback order based on preferred position\n    const fallbackOrder = {\n      right: ['top', 'bottom', 'left'],\n      left: ['top', 'bottom', 'right'],\n      top: ['bottom', 'right', 'left'],\n      bottom: ['top', 'right', 'left']\n    };\n    \n    // Try fallback positions\n    for (const fallback of fallbackOrder[preferredPosition] || ['top', 'bottom', 'right', 'left']) {\n      if (fitsInViewport(positions[fallback])) {\n        return positions[fallback];\n      }\n    }\n    \n    // If nothing fits, force position within viewport bounds\n    const forcedPosition = positions[preferredPosition] || positions.top;\n    return {\n      top: Math.max(padding, Math.min(forcedPosition.top, viewportHeight - tooltipHeight - padding)),\n      left: Math.max(padding, Math.min(forcedPosition.left, viewportWidth - tooltipWidth - padding))\n    };\n  };\n\n  // Auto-scroll to ensure tutorial is visible with improved calculations\n  const scrollToTutorial = (targetPos, tooltipPos) => {\n    if (!targetPos && !tooltipPos) return;\n    \n    const padding = 80; // Increased padding for better visibility\n    const viewportHeight = window.innerHeight;\n    let scrollTarget = null;\n    \n    if (targetPos) {\n      // Scroll to target element with better center calculation\n      const targetTop = targetPos.top + window.pageYOffset;\n      const targetBottom = targetPos.bottom + window.pageYOffset;\n      const targetCenter = targetTop + (targetPos.height / 2);\n      const viewportTop = window.pageYOffset;\n      const viewportBottom = viewportTop + viewportHeight;\n      const viewportCenter = viewportTop + (viewportHeight / 2);\n      \n      // Only scroll if target is not reasonably visible\n      if (targetTop < viewportTop + padding || targetBottom > viewportBottom - padding) {\n        // Try to center the target in the viewport\n        scrollTarget = Math.max(0, targetCenter - (viewportHeight / 2));\n      }\n    }\n    \n    if (tooltipPos && typeof tooltipPos.top === 'number') {\n      // Ensure tooltip is visible but don't override target positioning\n      const tooltipTop = tooltipPos.top + window.pageYOffset;\n      const tooltipBottom = tooltipTop + 280; // tooltip height\n      const viewportTop = window.pageYOffset;\n      const viewportBottom = viewportTop + viewportHeight;\n      \n      // Only adjust for tooltip if target positioning didn't already set a scroll target\n      if (scrollTarget === null && (tooltipTop < viewportTop + padding || tooltipBottom > viewportBottom - padding)) {\n        scrollTarget = Math.max(0, tooltipTop - padding);\n      }\n    }\n    \n    if (scrollTarget !== null) {\n      window.scrollTo({\n        top: scrollTarget,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // Handle button actions\n  const handleAction = (action, data = null) => {\n    switch (action) {\n      case 'next':\n        nextStep();\n        break;\n      case 'skip':\n        skipTutorial();\n        break;\n      case 'skip-to':\n        if (data && typeof data === 'number') {\n          setCurrentStep(data);\n        }\n        break;\n      case 'complete':\n        completeTutorial();\n        break;\n      case 'replay':\n        setCurrentStep(0);\n        setTutorialState({\n          hasTriedExample: false,\n          hasOpenedTemplates: false,\n          hasExpandedSceneBuilder: false,\n          hasToggledAdvanced: false,\n          hasOpenedAiTools: false,\n          hasOpenedProjects: false\n        });\n        break;\n      case 'expand-category':\n        if (data && onTutorialAction) {\n          onTutorialAction('expandCategory', data);\n        }\n        break;\n      case 'scroll-to-json':\n        const jsonSection = document.querySelector('[data-tutorial=\"json-output\"]');\n        if (jsonSection) {\n          jsonSection.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  // Navigation functions\n  const nextStep = () => {\n    if (currentStep < tutorialSteps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      completeTutorial();\n    }\n  };\n\n  const prevStep = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // Auto-scroll when step changes with better timing\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      // Skip scrolling if the current step has disableScroll flag\n      if (currentStepData.disableScroll) {\n        return;\n      }\n      \n      const targetPosition = getTargetPosition(currentStepData.target);\n      const tooltipPosition = getTooltipPosition(targetPosition, currentStepData.position, currentStepData);\n      scrollToTutorial(targetPosition, tooltipPosition);\n    }, 300); // Increased delay to ensure proper DOM updates and positioning\n    \n    return () => clearTimeout(timer);\n  }, [currentStep, currentStepData.disableScroll]);\n\n  const skipTutorial = () => {\n    localStorage.setItem('hasSeenTutorial', 'true');\n    setIsVisible(false);\n    onSkip && onSkip();\n  };\n\n  const completeTutorial = () => {\n    localStorage.setItem('hasSeenTutorial', 'true');\n    setIsVisible(false);\n    onComplete && onComplete();\n  };\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        skipTutorial();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, []);\n\n  if (!isVisible) return null;\n\n  const targetPosition = getTargetPosition(currentStepData.target);\n  const tooltipPosition = getTooltipPosition(targetPosition, currentStepData.position, currentStepData);\n  \n  // Determine arrow direction based on tooltip position relative to target\n  const getArrowClass = () => {\n    if (!targetPosition || !tooltipPosition || typeof tooltipPosition.top === 'string') return '';\n    \n    const tooltipCenterX = (typeof tooltipPosition.left === 'string' ? 200 : tooltipPosition.left) + 200;\n    const tooltipCenterY = (typeof tooltipPosition.top === 'string' ? 200 : tooltipPosition.top) + 140;\n    const targetCenterX = targetPosition.left + (targetPosition.width / 2);\n    const targetCenterY = targetPosition.top + (targetPosition.height / 2);\n    \n    if (tooltipCenterX > targetCenterX + 100) return 'arrow-left';\n    if (tooltipCenterX < targetCenterX - 100) return 'arrow-right';\n    if (tooltipCenterY > targetCenterY + 50) return 'arrow-top';\n    if (tooltipCenterY < targetCenterY - 50) return 'arrow-bottom';\n    return '';\n  };\n\n  return (\n    <div \n      ref={overlayRef}\n      className=\"fixed inset-0 z-[9999] pointer-events-auto\"\n      style={{ zIndex: 9999 }}\n    >\n      {/* Backdrop with spotlight cutout */}\n      <div className=\"absolute inset-0 bg-black bg-opacity-45\">\n        {targetPosition && (\n          <div\n            className=\"absolute bg-transparent border-4 border-purple-400 rounded-lg shadow-lg\"\n            style={{\n              top: targetPosition.top - 8,\n              left: targetPosition.left - 8,\n              width: targetPosition.width + 16,\n              height: targetPosition.height + 16,\n              boxShadow: `0 0 0 9999px rgba(0, 0, 0, 0.45), 0 0 20px rgba(139, 92, 246, 0.5)`,\n              zIndex: 10000\n            }}\n          />\n        )}\n      </div>\n\n      {/* Tutorial tooltip */}\n      <div\n        className={`absolute bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-600 p-6 max-w-md z-[10001] ${getArrowClass()}`}\n        style={tooltipPosition}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n            {currentStepData.title}\n          </h3>\n          <button\n            onClick={skipTutorial}\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-lg\"\n            title=\"Close tutorial\"\n          >\n            ✕\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed\">\n          {typeof currentStepData.content === 'function' ? currentStepData.content() : (\n            <p>{currentStepData.content}</p>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-between\">\n          {/* Step indicator */}\n          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n            {currentStep + 1} of {tutorialSteps.length}\n          </span>\n\n          {/* Navigation buttons */}\n          <div className=\"flex space-x-2\">\n            {currentStep > 0 && (\n              <button\n                onClick={prevStep}\n                className=\"px-3 py-1.5 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors\"\n              >\n                Previous\n              </button>\n            )}\n            \n            {/* Custom buttons from step configuration */}\n            {currentStepData.buttons ? (\n              currentStepData.buttons.map((button, index) => (\n                <button\n                  key={index}\n                  onClick={() => handleAction(button.action, button.step || button.category)}\n                  className={`px-4 py-1.5 text-sm rounded-lg transition-colors font-medium ${\n                    button.style === 'primary'\n                      ? 'bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white'\n                      : 'bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300'\n                  }`}\n                >\n                  {button.text}\n                </button>\n              ))\n            ) : (\n              <button\n                onClick={nextStep}\n                className=\"px-4 py-1.5 text-sm bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white rounded-lg transition-colors font-medium\"\n              >\n                {currentStep === tutorialSteps.length - 1 ? 'Finish' : 'Next'}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TutorialOverlay;","import React, { useState, useEffect } from 'react';\n\nconst Toast = ({ message, type = 'info', duration = 3000, onClose }) => {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      setTimeout(onClose, 300); // Wait for fade out animation\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const getToastStyles = () => {\n    const baseStyles = \"fixed top-4 right-4 z-[70] max-w-sm w-full bg-white dark:bg-cinema-card border-l-4 rounded-lg shadow-xl dark:shadow-glow-soft p-4 transition-all duration-300 transform\";\n    \n    if (!isVisible) {\n      return `${baseStyles} translate-x-full opacity-0`;\n    }\n\n    const typeStyles = {\n      success: 'border-green-500 dark:border-green-400',\n      error: 'border-red-500 dark:border-red-400',\n      warning: 'border-yellow-500 dark:border-yellow-400',\n      info: 'border-blue-500 dark:border-blue-400'\n    };\n\n    return `${baseStyles} translate-x-0 opacity-100 ${typeStyles[type] || typeStyles.info}`;\n  };\n\n  const getIcon = () => {\n    const icons = {\n      success: '✅',\n      error: '❌',\n      warning: '⚠️',\n      info: 'ℹ️'\n    };\n    return icons[type] || icons.info;\n  };\n\n  const getTextColor = () => {\n    const colors = {\n      success: 'text-green-700 dark:text-green-300',\n      error: 'text-red-700 dark:text-red-300',\n      warning: 'text-yellow-700 dark:text-yellow-300',\n      info: 'text-blue-700 dark:text-blue-300'\n    };\n    return colors[type] || colors.info;\n  };\n\n  return (\n    <div className={getToastStyles()}>\n      <div className=\"flex items-start\">\n        <div className=\"flex-shrink-0\">\n          <span className=\"text-lg\">{getIcon()}</span>\n        </div>\n        <div className=\"ml-3 flex-1\">\n          <p className={`text-sm font-medium ${getTextColor()}`}>\n            {message}\n          </p>\n        </div>\n        <div className=\"ml-4 flex-shrink-0\">\n          <button\n            onClick={() => {\n              setIsVisible(false);\n              setTimeout(onClose, 300);\n            }}\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n          >\n            <span className=\"sr-only\">Close</span>\n            <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ToastContainer = ({ toasts, removeToast }) => {\n  return (\n    <div className=\"fixed top-0 right-0 z-[70] p-4 space-y-2 pointer-events-none\">\n      {toasts.map((toast) => (\n        <div key={toast.id} className=\"pointer-events-auto\">\n          <Toast\n            message={toast.message}\n            type={toast.type}\n            duration={toast.duration}\n            onClose={() => removeToast(toast.id)}\n          />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport { Toast, ToastContainer };","import { useState, useCallback } from 'react';\n\nlet toastId = 0;\n\nexport const useToast = () => {\n  const [toasts, setToasts] = useState([]);\n\n  const addToast = useCallback((message, type = 'info', duration = 3000) => {\n    const id = ++toastId;\n    const newToast = { id, message, type, duration };\n    \n    setToasts(prev => [...prev, newToast]);\n    \n    return id;\n  }, []);\n\n  const removeToast = useCallback((id) => {\n    setToasts(prev => prev.filter(toast => toast.id !== id));\n  }, []);\n\n  const showSuccess = useCallback((message, duration) => {\n    return addToast(message, 'success', duration);\n  }, [addToast]);\n\n  const showError = useCallback((message, duration) => {\n    return addToast(message, 'error', duration);\n  }, [addToast]);\n\n  const showWarning = useCallback((message, duration) => {\n    return addToast(message, 'warning', duration);\n  }, [addToast]);\n\n  const showInfo = useCallback((message, duration) => {\n    return addToast(message, 'info', duration);\n  }, [addToast]);\n\n  return {\n    toasts,\n    addToast,\n    removeToast,\n    showSuccess,\n    showError,\n    showWarning,\n    showInfo\n  };\n};","import React, { useState, useRef, useEffect } from 'react';\nimport usePromptStore from './store';\n\nconst IntegratedHeader = ({ showToast }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [activeTab, setActiveTab] = useState('projects'); // 'projects' or 'library'\n  const [showCreateProject, setShowCreateProject] = useState(false);\n  const [newProjectName, setNewProjectName] = useState('');\n  const dropdownRef = useRef(null);\n\n  const { \n    // Project management\n    projects, \n    currentProject, \n    createProject, \n    switchProject, \n    deleteProject,\n    exportData,\n    importData,\n    // Library data\n    savedCharacters, \n    savedScenes, \n    savedActions, \n    savedSettings, \n    savedStyles, \n    savedAudio,\n    savedScenePacks,\n    // Library functions\n    saveCharacter,\n    saveScene, \n    saveAction,\n    saveSetting,\n    saveStyle,\n    saveAudio,\n    loadCharacter,\n    loadScene,\n    loadAction,\n    loadSetting,\n    loadStyle,\n    loadAudio,\n    deleteCharacter,\n    deleteScene,\n    deleteAction,\n    deleteSetting,\n    deleteStyle,\n    deleteAudio,\n    deleteScenePack,\n    loadScenePack\n  } = usePromptStore();\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Project management functions\n  const handleCreateProject = () => {\n    if (newProjectName.trim()) {\n      createProject(newProjectName.trim());\n      setNewProjectName('');\n      setShowCreateProject(false);\n      setShowDropdown(false);\n      showToast?.showSuccess(`Project \"${newProjectName.trim()}\" created successfully!`);\n    }\n  };\n\n  const handleLoadProject = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.onchange = async (e) => {\n      const file = e.target.files[0];\n      if (file) {\n        try {\n          await importData(file);\n          showToast?.showSuccess('Project loaded successfully!');\n          setShowDropdown(false);\n        } catch (error) {\n          showToast?.showError('Failed to load project: ' + error.message);\n        }\n      }\n    };\n    input.click();\n  };\n\n  const handleSaveProject = () => {\n    exportData('all');\n    showToast?.showSuccess('Project saved successfully!');\n    setShowDropdown(false);\n  };\n\n  // Library management functions\n  const handleLoadItem = (type, id) => {\n    const loaders = {\n      character: loadCharacter,\n      scene: loadScene,\n      action: loadAction,\n      setting: loadSetting,\n      style: loadStyle,\n      audio: loadAudio\n    };\n    \n    const data = {\n      character: savedCharacters,\n      scene: savedScenes,\n      action: savedActions,\n      setting: savedSettings,\n      style: savedStyles,\n      audio: savedAudio\n    };\n\n    const item = data[type]?.find(item => item.id === id);\n    if (loaders[type] && item) {\n      loaders[type](id);\n      showToast?.showSuccess(`${type.charAt(0).toUpperCase() + type.slice(1)} \"${item.name}\" applied to workspace!`);\n      setShowDropdown(false);\n    }\n  };\n\n  const handleDeleteItem = (type, id) => {\n    const deleters = {\n      character: deleteCharacter,\n      scene: deleteScene,\n      action: deleteAction,\n      setting: deleteSetting,\n      style: deleteStyle,\n      audio: deleteAudio\n    };\n\n    if (deleters[type]) {\n      deleters[type](id);\n      showToast?.showSuccess(`${type.charAt(0).toUpperCase() + type.slice(1)} deleted successfully!`);\n    }\n  };\n\n  const handleExportItem = (type, id) => {\n    exportData(type, id);\n    showToast?.showSuccess('Item exported successfully!');\n  };\n\n  // Calculate total library items\n  const totalLibraryItems = (savedCharacters?.length || 0) + \n                           (savedScenes?.length || 0) + \n                           (savedActions?.length || 0) + \n                           (savedSettings?.length || 0) + \n                           (savedStyles?.length || 0) + \n                           (savedAudio?.length || 0) + \n                           (savedScenePacks?.length || 0);\n\n  const formatDate = (timestamp) => {\n    return new Date(timestamp).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const libraryCategories = [\n    { \n      key: 'character', \n      label: 'Characters', \n      icon: '👤', \n      data: savedCharacters || [],\n      color: 'text-green-600 dark:text-green-400',\n      bgColor: 'bg-green-50 dark:bg-green-900/20',\n      borderColor: 'border-green-200 dark:border-green-700/50',\n      description: 'Reusable character templates'\n    },\n    { \n      key: 'action', \n      label: 'Actions', \n      icon: '🎬', \n      data: savedActions || [],\n      color: 'text-blue-600 dark:text-blue-400',\n      bgColor: 'bg-blue-50 dark:bg-blue-900/20',\n      borderColor: 'border-blue-200 dark:border-blue-700/50',\n      description: 'Movement & behavior presets'\n    },\n    { \n      key: 'setting', \n      label: 'Locations', \n      icon: '📍', \n      data: savedSettings || [],\n      color: 'text-yellow-600 dark:text-yellow-400',\n      bgColor: 'bg-yellow-50 dark:bg-yellow-900/20',\n      borderColor: 'border-yellow-200 dark:border-yellow-700/50',\n      description: 'Environment & location setups'\n    },\n    { \n      key: 'style', \n      label: 'Visual Styles', \n      icon: '🎨', \n      data: savedStyles || [],\n      color: 'text-purple-600 dark:text-purple-400',\n      bgColor: 'bg-purple-50 dark:bg-purple-900/20',\n      borderColor: 'border-purple-200 dark:border-purple-700/50',\n      description: 'Lighting & camera presets'\n    },\n    { \n      key: 'audio', \n      label: 'Audio', \n      icon: '🔊', \n      data: savedAudio || [],\n      color: 'text-pink-600 dark:text-pink-400',\n      bgColor: 'bg-pink-50 dark:bg-pink-900/20',\n      borderColor: 'border-pink-200 dark:border-pink-700/50',\n      description: 'Sound & music settings'\n    }\n  ];\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      \n      {/* Hamburger Menu Button */}\n      <button\n        onClick={() => setShowDropdown(!showDropdown)}\n        className={`relative inline-flex items-center px-3 py-2 rounded-md font-medium text-sm transition-all duration-300 group focus:outline-none focus:ring-2 focus:ring-cinema-teal ${\n          showDropdown\n            ? 'bg-cinema-teal text-white shadow-glow-teal border border-cinema-teal'\n            : 'bg-cinema-panel text-cinema-text border border-cinema-border hover:bg-cinema-card hover:shadow-glow-teal'\n        }`}\n        aria-label=\"Project and library menu\"\n        aria-expanded={showDropdown}\n        title=\"Project & Library Menu\"\n      >\n        {/* Hamburger Icon */}\n        <div className=\"w-5 h-5 mr-2\">\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </div>\n        \n        <span className=\"relative z-10\">Menu</span>\n        \n        {/* Subtle glow effect when active */}\n        {showDropdown && (\n          <div className=\"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-md pointer-events-none\" />\n        )}\n      </button>\n\n      {/* Unified Dropdown Menu */}\n      {showDropdown && (\n        <div \n          className=\"absolute top-full left-0 mt-2 w-80 sm:w-96 bg-white dark:bg-cinema-panel border border-cinema-teal/20 rounded-lg shadow-xl dark:shadow-glow-soft z-50 max-h-80 sm:max-h-96 overflow-hidden\"\n          role=\"menu\"\n          aria-labelledby=\"menu-button\"\n        >\n          \n          {/* Tab Navigation */}\n          <div className=\"flex border-b border-gray-200 dark:border-cinema-border\" role=\"tablist\">\n            <button\n              onClick={() => setActiveTab('projects')}\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-cinema-teal ${\n                activeTab === 'projects'\n                  ? 'border-b-2 border-cinema-teal text-cinema-teal bg-cinema-teal/5'\n                  : 'text-gray-500 hover:text-cinema-text dark:text-cinema-text-muted dark:hover:text-cinema-text'\n              }`}\n              role=\"tab\"\n              aria-selected={activeTab === 'projects'}\n              aria-controls=\"projects-panel\"\n            >\n              <div className=\"flex items-center justify-center space-x-2\">\n                <span>📁</span>\n                <span>Projects</span>\n                <span className=\"text-xs bg-gray-200 dark:bg-cinema-border px-2 py-1 rounded-full\">\n                  {projects?.length || 0}\n                </span>\n              </div>\n            </button>\n            <button\n              onClick={() => setActiveTab('library')}\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-cinema-teal ${\n                activeTab === 'library'\n                  ? 'border-b-2 border-cinema-teal text-cinema-teal bg-cinema-teal/5'\n                  : 'text-gray-500 hover:text-cinema-text dark:text-cinema-text-muted dark:hover:text-cinema-text'\n              }`}\n              role=\"tab\"\n              aria-selected={activeTab === 'library'}\n              aria-controls=\"library-panel\"\n            >\n              <div className=\"flex items-center justify-center space-x-2\">\n                <span>🧩</span>\n                <span>Components</span>\n                <span className=\"text-xs bg-gray-200 dark:bg-cinema-border px-2 py-1 rounded-full\">\n                  {totalLibraryItems}\n                </span>\n              </div>\n            </button>\n          </div>\n\n          {/* Tab Content */}\n          <div className=\"max-h-64 sm:max-h-80 overflow-y-auto\">\n            {activeTab === 'projects' ? (\n              <div>\n                {/* Project Header */}\n                <div className=\"p-4 border-b border-gray-200 dark:border-cinema-border\">\n                  <h3 className=\"font-semibold text-cinema-text mb-1\">📁 Workspace Management</h3>\n                  <p className=\"text-xs text-cinema-text-muted\">Save/load complete scenes • Current: {currentProject ? currentProject.name : 'New Workspace'}</p>\n                </div>\n\n                {/* Project Quick Actions */}\n                <div className=\"p-3 border-b border-gray-200 dark:border-cinema-border\">\n                  <div className=\"grid grid-cols-3 gap-1 sm:gap-2\">\n                    <button\n                      onClick={() => setShowCreateProject(true)}\n                      className=\"px-2 py-2 bg-green-500 hover:bg-green-600 text-white text-xs font-medium rounded transition-colors flex flex-col items-center space-y-1\"\n                    >\n                      <span>✨</span>\n                      <span>New</span>\n                    </button>\n                    <button\n                      onClick={handleLoadProject}\n                      className=\"px-2 py-2 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium rounded transition-colors flex flex-col items-center space-y-1\"\n                    >\n                      <span>📂</span>\n                      <span>Load</span>\n                    </button>\n                    <button\n                      onClick={handleSaveProject}\n                      disabled={!currentProject}\n                      className=\"px-2 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-xs font-medium rounded transition-colors flex flex-col items-center space-y-1\"\n                    >\n                      <span>💾</span>\n                      <span>Save</span>\n                    </button>\n                  </div>\n                </div>\n\n                {/* Project List */}\n                <div>\n                  {projects && projects.length > 0 ? (\n                    projects.map(project => (\n                      <div key={project.id} className={`p-3 border-b border-gray-100 dark:border-cinema-border/50 hover:bg-gray-50 dark:hover:bg-cinema-card transition-colors ${currentProject?.id === project.id ? 'bg-cinema-teal/10' : ''}`}>\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center space-x-2\">\n                              <h4 className=\"font-medium text-sm text-cinema-text\">{project.name}</h4>\n                              {currentProject?.id === project.id && (\n                                <span className=\"px-2 py-1 bg-cinema-teal text-white text-xs rounded-full\">Active</span>\n                              )}\n                            </div>\n                            <p className=\"text-xs text-cinema-text-muted\">{formatDate(project.timestamp)}</p>\n                          </div>\n                          <div className=\"flex space-x-1\">\n                            {currentProject?.id !== project.id && (\n                              <button\n                                onClick={() => {\n                                  switchProject(project.id);\n                                  setShowDropdown(false);\n                                  showToast?.showSuccess(`Switched to project \"${project.name}\"`);\n                                }}\n                                className=\"px-2 py-1 bg-cinema-teal text-white text-xs rounded hover:bg-cinema-teal-bright transition-colors\"\n                              >\n                                Switch\n                              </button>\n                            )}\n                            <button\n                              onClick={() => {\n                                deleteProject(project.id);\n                                showToast?.showSuccess(`Project \"${project.name}\" deleted`);\n                              }}\n                              className=\"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors\"\n                            >\n                              Delete\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"p-6 text-center text-cinema-text-muted\">\n                      <span className=\"text-2xl block mb-2\">📁</span>\n                      <p className=\"text-sm\">No projects yet</p>\n                      <p className=\"text-xs\">Create your first project to get started</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <div>\n                {/* Library Header */}\n                <div className=\"p-4 border-b border-gray-200 dark:border-cinema-border\">\n                  <h3 className=\"font-semibold text-cinema-text mb-1\">🧩 Component Library</h3>\n                  <p className=\"text-xs text-cinema-text-muted\">Reusable building blocks • {totalLibraryItems} components saved</p>\n                </div>\n\n                {/* Quick Save Components */}\n                <div className=\"p-3 border-b border-gray-200 dark:border-cinema-border bg-gray-50 dark:bg-cinema-card/50\">\n                  <h4 className=\"text-xs font-medium text-cinema-text mb-2\">💾 Save Current Components</h4>\n                  <div className=\"grid grid-cols-2 gap-1 sm:gap-2\">\n                    <button\n                      onClick={() => {\n                        const name = prompt('Character name:');\n                        if (name?.trim()) {\n                          saveCharacter(name.trim());\n                          showToast?.showSuccess(`Character \"${name.trim()}\" saved to library!`);\n                        }\n                      }}\n                      className=\"px-2 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded transition-colors flex items-center justify-center space-x-1\"\n                    >\n                      <span>👤</span>\n                      <span>Character</span>\n                    </button>\n                    <button\n                      onClick={() => {\n                        const name = prompt('Action name:');\n                        if (name?.trim()) {\n                          saveAction(name.trim());\n                          showToast?.showSuccess(`Action \"${name.trim()}\" saved to library!`);\n                        }\n                      }}\n                      className=\"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded transition-colors flex items-center justify-center space-x-1\"\n                    >\n                      <span>🎬</span>\n                      <span>Action</span>\n                    </button>\n                    <button\n                      onClick={() => {\n                        const name = prompt('Location name:');\n                        if (name?.trim()) {\n                          saveSetting(name.trim());\n                          showToast?.showSuccess(`Location \"${name.trim()}\" saved to library!`);\n                        }\n                      }}\n                      className=\"px-2 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs rounded transition-colors flex items-center justify-center space-x-1\"\n                    >\n                      <span>📍</span>\n                      <span>Location</span>\n                    </button>\n                    <button\n                      onClick={() => {\n                        const name = prompt('Style name:');\n                        if (name?.trim()) {\n                          saveStyle(name.trim());\n                          showToast?.showSuccess(`Style \"${name.trim()}\" saved to library!`);\n                        }\n                      }}\n                      className=\"px-2 py-1 bg-purple-500 hover:bg-purple-600 text-white text-xs rounded transition-colors flex items-center justify-center space-x-1\"\n                    >\n                      <span>🎨</span>\n                      <span>Style</span>\n                    </button>\n                  </div>\n                </div>\n\n                {/* Library Categories */}\n                <div>\n                  {libraryCategories.map(category => (\n                    <div key={category.key} className=\"border-b border-gray-100 dark:border-cinema-border/50 last:border-b-0\">\n                      \n                      {/* Category Header */}\n                      <div className={`p-3 ${category.bgColor} ${category.borderColor} border-l-4`}>\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-lg\">{category.icon}</span>\n                            <span className={`font-medium text-sm ${category.color}`}>{category.label}</span>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <span className={`text-xs px-2 py-1 rounded-full bg-white dark:bg-cinema-card ${category.color}`}>\n                              {category.data.length}\n                            </span>\n                          </div>\n                        </div>\n                        <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted ml-7\">\n                          {category.description}\n                        </p>\n                      </div>\n\n                      {/* Category Items */}\n                      {category.data.length > 0 && (\n                        <div className=\"max-h-32 overflow-y-auto\">\n                          {category.data.slice(-5).reverse().map(item => (\n                            <div key={item.id} className=\"p-2 hover:bg-gray-50 dark:hover:bg-cinema-card/50 transition-colors flex items-center justify-between\">\n                              <div className=\"flex-1 min-w-0\">\n                                <h5 className=\"text-sm font-medium text-cinema-text truncate\">{item.name}</h5>\n                                <p className=\"text-xs text-cinema-text-muted\">{formatDate(item.timestamp)}</p>\n                              </div>\n                              <div className=\"flex space-x-1 ml-2\">\n                                <button\n                                  onClick={() => handleLoadItem(category.key, item.id)}\n                                  className=\"px-2 py-1 bg-cinema-teal text-white text-xs rounded hover:bg-cinema-teal-bright transition-colors\"\n                                  title=\"Apply to current workspace\"\n                                >\n                                  Apply\n                                </button>\n                                <button\n                                  onClick={() => handleExportItem(category.key, item.id)}\n                                  className=\"px-2 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600 transition-colors\"\n                                  title=\"Export\"\n                                >\n                                  Export\n                                </button>\n                                <button\n                                  onClick={() => handleDeleteItem(category.key, item.id)}\n                                  className=\"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors\"\n                                  title=\"Delete\"\n                                >\n                                  ×\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                          {category.data.length > 5 && (\n                            <div className=\"p-2 text-center\">\n                              <span className=\"text-xs text-cinema-text-muted\">\n                                ...and {category.data.length - 5} more\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      )}\n\n                      {/* Empty State */}\n                      {category.data.length === 0 && (\n                        <div className=\"p-3 text-center text-cinema-text-muted\">\n                          <p className=\"text-xs\">No {category.label.toLowerCase()} saved yet</p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Create Project Modal */}\n      {showCreateProject && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg p-6 w-96 border border-cinema-teal/20 shadow-xl dark:shadow-glow-soft\">\n            <h3 className=\"text-lg font-semibold mb-4 text-cinema-text flex items-center space-x-2\">\n              <span>✨</span>\n              <span>Create New Project</span>\n            </h3>\n            <input\n              type=\"text\"\n              value={newProjectName}\n              onChange={(e) => setNewProjectName(e.target.value)}\n              placeholder=\"Enter project name...\"\n              className=\"w-full px-3 py-2 border border-cinema-border rounded-lg focus:outline-none focus:ring-2 focus:ring-cinema-teal focus:border-cinema-teal mb-4 bg-cinema-card text-cinema-text\"\n              onKeyPress={(e) => e.key === 'Enter' && handleCreateProject()}\n              autoFocus\n            />\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleCreateProject}\n                disabled={!newProjectName.trim()}\n                className=\"flex-1 px-4 py-2 bg-cinema-teal hover:bg-cinema-teal-bright disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium\"\n              >\n                Create Project\n              </button>\n              <button\n                onClick={() => {\n                  setShowCreateProject(false);\n                  setNewProjectName('');\n                }}\n                className=\"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IntegratedHeader;","import React, { useState, useEffect, useRef } from 'react';\nimport { schema } from './schema';\nimport FieldRenderer from './FieldRenderer';\nimport TemplateSelector from './TemplateSelector';\nimport ImportSystem from './ImportSystem';\nimport ThemeToggle from './ThemeToggle';\nimport CinematicModeToggle from './CinematicModeToggle';\nimport Logo from './Logo';\nimport LoadingScreen from './LoadingScreen';\nimport InstantUpgradeModal from './InstantUpgradeModal';\nimport ViralVideoGeneratorModal from './ViralVideoGeneratorModal';\nimport LibrarySystem from './LibrarySystem';\nimport ProFeaturesHub from './ProFeaturesHub';\nimport SceneBuilderChecklist from './SceneBuilderChecklist';\nimport ProjectSelector from './ProjectSelector';\nimport { useSubscription } from './StripeIntegration';\nimport ProBadge from './ProBadge';\nimport UpgradeButton from './UpgradeButton';\nimport ToggleSwitch from './ToggleSwitch';\nimport UniversalInput from './UniversalInput';\nimport aiApiService from './aiApiService';\nimport usePromptStore from './store';\nimport analytics from './analytics';\nimport TutorialOverlay from './TutorialOverlay';\nimport { ToastContainer } from './Toast';\nimport { useToast } from './useToast';\nimport IntegratedHeader from './IntegratedHeader';\n\nconst App = () => {\n  const { \n    expandedCategories, \n    toggleCategory, \n    getJsonOutput, \n    randomizeFields, \n    randomizeCharacterFields, \n    randomizeSceneFields,\n    randomizeLocationBased,\n    randomizeCinematicStyle,\n    randomizeEnvironmental,\n    randomizeTechnicalSetup,\n    clearAll,\n    setFieldValue,\n    saveScenePack,\n    saveCharacter,\n    saveAction,\n    saveAudio,\n    saveSetting,\n    saveStyle,\n    saveScene,\n    currentProject,\n    projects,\n    switchProject,\n    applySceneWithMergeStrategy,\n    incrementProjectSceneCount,\n    aspectRatio,\n    setAspectRatio,\n    undo,\n    undoStack\n  } = usePromptStore();\n\n  // State Management\n  const [copySuccess, setCopySuccess] = useState(false);\n  const [showRandomizeDropdown, setShowRandomizeDropdown] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showPricing, setShowPricing] = useState(false);\n  const [showViralGenerator, setShowViralGenerator] = useState(false);\n  const [showSceneExtender, setShowSceneExtender] = useState(false);\n  const [sceneExtenderSuccess, setSceneExtenderSuccess] = useState(false);\n  \n  // Scene extension states\n  const [extensionLoading, setExtensionLoading] = useState(false);\n  const [extensionResult, setExtensionResult] = useState(null);\n  const [extensionError, setExtensionError] = useState(null);\n  const [sceneOptions, setSceneOptions] = useState(null);\n  const [appliedOptionIndex, setAppliedOptionIndex] = useState(null);\n  const [showScenePackModal, setShowScenePackModal] = useState(false);\n  const [scenePackName, setScenePackName] = useState('');\n  const [mergeStrategy, setMergeStrategy] = useState('smart');\n  const [isAdvancedMode, setIsAdvancedMode] = useState(false);\n  \n  // Modal and UI states\n  const subscriptionHook = useSubscription();\n  const [showSaveModal, setShowSaveModal] = useState(false);\n  const [saveCategory, setSaveCategory] = useState('');\n  const [saveName, setSaveName] = useState('');\n  const [showTutorial, setShowTutorial] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(null);\n  const [dontShowAgain, setDontShowAgain] = useState(false);\n  \n  // Toast notifications\n  const { toasts, removeToast, showSuccess, showError, showWarning, showInfo } = useToast();\n  \n  // All users now have pro access\n  const isPro = true;\n  const { subscription, toggleProStatus, forceProStatus, resetUser, refreshUser } = subscriptionHook;\n  const randomizeDropdownRef = useRef(null);\n\n  // Tutorial action handler\n  const handleTutorialAction = (action, params) => {\n    switch (action) {\n      case 'toggleMode':\n        setIsAdvancedMode(!isAdvancedMode);\n        break;\n      case 'expandCategory':\n        if (params && !expandedCategories[params]) {\n          toggleCategory(params);\n        }\n        break;\n      default:\n        console.log('Unknown tutorial action:', action);\n    }\n  };\n\n  // Confirmation preferences utilities\n  const getConfirmationPreference = (actionType) => {\n    return localStorage.getItem(`jsonPromptStudio_skip${actionType}Confirm`) === 'true';\n  };\n\n  const setConfirmationPreference = (actionType, skipConfirm) => {\n    localStorage.setItem(`jsonPromptStudio_skip${actionType}Confirm`, skipConfirm.toString());\n  };\n\n  const resetConfirmationPreference = (actionType) => {\n    localStorage.removeItem(`jsonPromptStudio_skip${actionType}Confirm`);\n  };\n\n  const resetAllConfirmations = () => {\n    resetConfirmationPreference('ClearAll');\n    resetConfirmationPreference('Randomize');\n  };\n\n  // Confirmation modal handlers\n  const handleClearAllClick = () => {\n    if (clearLoading) return;\n    \n    if (getConfirmationPreference('ClearAll')) {\n      handleClearAll();\n      return;\n    }\n    setDontShowAgain(false);\n    setShowConfirmModal({\n      type: 'clearAll',\n      actionType: 'ClearAll',\n      title: 'Clear All Data?',\n      message: 'This will permanently delete your current scene and reset all fields. This action cannot be undone.',\n      confirmText: 'Clear All',\n      confirmClass: 'bg-red-500 hover:bg-red-600',\n      onConfirm: () => {\n        if (dontShowAgain) {\n          setConfirmationPreference('ClearAll', true);\n        }\n        handleClearAll();\n        setShowConfirmModal(null);\n        setDontShowAgain(false);\n      }\n    });\n  };\n\n  const handleClearAll = async () => {\n    setClearLoading(true);\n    try {\n      clearAll();\n      showSuccess('All data cleared successfully!');\n    } catch (error) {\n      showError('Failed to clear data');\n    } finally {\n      setClearLoading(false);\n    }\n  };\n\n  const handleFullSceneRandomizeClick = () => {\n    if (getConfirmationPreference('Randomize')) {\n      randomizeFields();\n      setShowRandomizeDropdown(false);\n      return;\n    }\n    setDontShowAgain(false);\n    setShowConfirmModal({\n      type: 'fullRandomize',\n      actionType: 'Randomize',\n      title: 'Randomize Full Scene?',\n      message: 'This will replace all your current scene settings with randomly generated values. Your current work will be lost.',\n      confirmText: 'Randomize Scene',\n      confirmClass: 'bg-purple-500 hover:bg-purple-600',\n      onConfirm: () => {\n        if (dontShowAgain) {\n          setConfirmationPreference('Randomize', true);\n        }\n        randomizeFields();\n        setShowRandomizeDropdown(false);\n        setShowConfirmModal(null);\n        setDontShowAgain(false);\n      }\n    });\n  };\n\n  // Initialize API service with environment variables\n  useEffect(() => {\n    if (import.meta.env.VITE_GROQ_API_KEY || import.meta.env.VITE_OPENAI_API_KEY) {\n      console.log('🔧 Initializing API service with environment variables from App.jsx');\n      aiApiService.initializeApiKeys(import.meta.env);\n    }\n  }, []);\n\n  // Developer functions for console access (development only)\n  useEffect(() => {\n    if (typeof window !== 'undefined' && import.meta.env.DEV) {\n      window.devTogglePro = () => {\n        console.log('🔧 DEV: Console command - toggling Pro status');\n        return toggleProStatus();\n      };\n      window.devForcePro = () => {\n        console.log('🔧 DEV: Console command - forcing Pro status');\n        return forceProStatus();\n      };\n      window.devStatus = () => {\n        console.log('🔧 DEV: Current status - isPro:', isPro);\n        return { isPro, subscription };\n      };\n      window.devResetTutorial = () => {\n        console.log('🔧 DEV: Resetting tutorial');\n        localStorage.removeItem('hasSeenTutorial');\n        setShowTutorial(true);\n        return 'Tutorial reset and shown';\n      };\n      window.devShowTutorial = () => {\n        console.log('🔧 DEV: Showing tutorial directly');\n        setShowTutorial(true);\n        return 'Tutorial shown';\n      };\n      console.log('🔧 DEV: Console commands available - devTogglePro(), devForcePro(), devStatus(), devResetTutorial(), devShowTutorial()');\n    }\n  }, [toggleProStatus, forceProStatus, isPro, subscription]);\n\n  // Check if user should see tutorial\n  useEffect(() => {\n    const hasSeenTutorial = localStorage.getItem('hasSeenTutorial');\n    if (!hasSeenTutorial && !isLoading) {\n      setShowTutorial(true);\n    }\n  }, [isLoading]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (randomizeDropdownRef.current && !randomizeDropdownRef.current.contains(event.target)) {\n        setShowRandomizeDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Track initial page load\n  useEffect(() => {\n    if (!isLoading) {\n      analytics.trackPageView('/', 'AI Video Prompt Generator - Home');\n    }\n  }, [isLoading]);\n\n  // Auto-scroll to scene options when they are generated\n  useEffect(() => {\n    if (sceneOptions && sceneOptions.length > 0) {\n      const timer = setTimeout(() => {\n        const optionsElement = document.querySelector('[data-scene-options]');\n        if (optionsElement) {\n          optionsElement.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'start',\n            inline: 'nearest' \n          });\n        }\n      }, 500); // Small delay to ensure DOM is updated\n      \n      return () => clearTimeout(timer);\n    }\n  }, [sceneOptions]);\n\n  const [copyLoading, setCopyLoading] = useState(false);\n  const [clearLoading, setClearLoading] = useState(false);\n  const [saveLoading, setSaveLoading] = useState(false);\n  \n  const copyToClipboard = async () => {\n    if (copyLoading) return;\n    \n    setCopyLoading(true);\n    try {\n      await navigator.clipboard.writeText(getJsonOutput());\n      setCopySuccess(true);\n      setTimeout(() => setCopySuccess(false), 2000);\n      \n      // Track export action\n      analytics.trackExport('json');\n    } catch (err) {\n      console.error('Failed to copy: ', err);\n      analytics.trackError('clipboard_copy_failed', err.message);\n      showError('Failed to copy to clipboard');\n    } finally {\n      setCopyLoading(false);\n    }\n  };\n\n  // Generate 5 scene options handler\n  const handleGenerate5Options = async () => {\n    if (!isPro) {\n      setShowPricing(true);\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      const errorMessage = 'OpenAI API key required. Please set your API key in settings.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n      return;\n    }\n\n    const currentScene = getJsonOutput() ? JSON.parse(getJsonOutput() || '{}') : {};\n    \n    if (Object.keys(currentScene).length === 0) {\n      const errorMessage = 'No scene to extend. Please create a scene first.';\n      setExtensionError(errorMessage);\n      showWarning(errorMessage);\n      return;\n    }\n\n    setExtensionLoading(true);\n    setExtensionError(null);\n    setSceneOptions(null);\n    setAppliedOptionIndex(null);\n\n    try {\n      const response = await aiApiService.generateSceneOptions(currentScene, 5);\n      \n      if (response.success && response.options && response.options.length > 0) {\n        setSceneOptions(response.options);\n      } else {\n        const errorMessage = response.error || 'Failed to generate scene options. Please try again.';\n        setExtensionError(errorMessage);\n        showError(errorMessage);\n      }\n      \n    } catch (error) {\n      console.error('Scene options generation error:', error);\n      const errorMessage = error.message || 'Failed to generate scene options. Please try again.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n      analytics.trackError('scene_options_generation_failed', error.message);\n    } finally {\n      setExtensionLoading(false);\n    }\n  };\n\n  // Apply selected scene option with smart merging\n  const handleApplySceneOption = (option, optionIndex, strategy = null) => {\n    console.log('Applying scene option:', option);\n    \n    if (option.json && typeof option.json === 'object') {\n      // Use the specified strategy or the current merge strategy setting\n      const usedStrategy = strategy || mergeStrategy;\n      \n      console.log('Applying JSON with strategy:', usedStrategy, option.json);\n      \n      // Apply scene with the chosen merge strategy\n      applySceneWithMergeStrategy(option.json, usedStrategy);\n      \n      // Track which option was applied (keep options visible)\n      setAppliedOptionIndex(optionIndex);\n      \n      // Increment project scene count if we have a current project\n      if (currentProject) {\n        incrementProjectSceneCount(currentProject.id);\n      }\n      \n      // Show brief success message\n      setExtensionResult({\n        type: option.type.toLowerCase(),\n        summary: `Applied: ${option.summary} (${usedStrategy} merge)`\n      });\n      \n      // Auto-hide result after 3 seconds\n      setTimeout(() => {\n        setExtensionResult(null);\n      }, 3000);\n      \n      // Smooth scroll to JSON output\n      setTimeout(() => {\n        const jsonSection = document.querySelector('.json-output-section');\n        if (jsonSection) {\n          jsonSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      }, 100);\n    } else {\n      console.error('Scene option missing json property:', option);\n      const errorMessage = 'Scene option is missing JSON data. Please try generating new options.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n    }\n  };\n\n  // Dismiss scene options manually\n  const handleDismissSceneOptions = () => {\n    setSceneOptions(null);\n    setAppliedOptionIndex(null);\n    setExtensionResult(null);\n  };\n\n  // Handle scene pack saving\n  const handleSaveScenePack = () => {\n    if (!sceneOptions || sceneOptions.length === 0) return;\n    \n    const currentScene = getJsonOutput() ? JSON.parse(getJsonOutput() || '{}') : {};\n    const packName = scenePackName.trim() || `Scene Pack ${new Date().toLocaleDateString()}`;\n    \n    try {\n      const packId = saveScenePack(packName, sceneOptions, currentScene);\n      \n      // Show success message\n      setExtensionResult({\n        type: 'pack_saved',\n        summary: `Scene pack \"${packName}\" saved successfully!`\n      });\n      \n      // Close modal and reset\n      setShowScenePackModal(false);\n      setScenePackName('');\n      \n      // Auto-hide success message\n      setTimeout(() => {\n        setExtensionResult(null);\n      }, 3000);\n      \n    } catch (error) {\n      console.error('Error saving scene pack:', error);\n      const errorMessage = error.message || 'Failed to save scene pack. Please try again.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n      analytics.trackError('scene_pack_save_failed', error.message);\n    }\n  };\n\n  // Legacy simple extension handler (keeping for backward compatibility)\n  const handleSimpleExtension = async (extensionType) => {\n    if (!isPro) {\n      setShowPricing(true);\n      return;\n    }\n\n    if (!aiApiService.hasApiKey()) {\n      const errorMessage = 'OpenAI API key required. Please set your API key in settings.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n      return;\n    }\n\n    const currentScene = getJsonOutput() ? JSON.parse(getJsonOutput() || '{}') : {};\n    \n    if (Object.keys(currentScene).length === 0) {\n      const errorMessage = 'No scene to extend. Please create a scene first.';\n      setExtensionError(errorMessage);\n      showWarning(errorMessage);\n      return;\n    }\n\n    setExtensionLoading(true);\n    setExtensionError(null);\n    setExtensionResult(null);\n\n    try {\n      const response = await aiApiService.extendSceneSimple(currentScene, extensionType);\n      \n      if (response.success) {\n        // Update the store with the extended scene data\n        if (response.updatedJson && typeof response.updatedJson === 'object') {\n          Object.keys(response.updatedJson).forEach(key => {\n            if (response.updatedJson[key] !== undefined) {\n              setFieldValue(key, response.updatedJson[key]);\n            }\n          });\n        }\n        \n        // Show the result summary\n        setExtensionResult({\n          type: extensionType,\n          summary: response.summary\n        });\n        \n        // Auto-hide result after 5 seconds\n        setTimeout(() => {\n          setExtensionResult(null);\n        }, 5000);\n        \n      } else {\n        const errorMessage = response.error || 'Extension failed. Please try again.';\n        setExtensionError(errorMessage);\n        showError(errorMessage);\n      }\n      \n    } catch (error) {\n      console.error('Extension error:', error);\n      const errorMessage = error.message || 'Extension failed. Please try again.';\n      setExtensionError(errorMessage);\n      showError(errorMessage);\n      analytics.trackError('scene_extension_failed', error.message);\n    } finally {\n      setExtensionLoading(false);\n    }\n  };\n\n  const handleSceneExtended = (extendedScene) => {\n    // Update the store with the extended scene data\n    if (extendedScene && typeof extendedScene === 'object') {\n      Object.keys(extendedScene).forEach(key => {\n        if (key !== '_metadata' && extendedScene[key] !== undefined) {\n          setFieldValue(key, extendedScene[key]);\n        }\n      });\n      \n      // Show success feedback\n      setSceneExtenderSuccess(true);\n      setShowSceneExtender(false);\n      \n      // Smooth scroll to JSON output\n      setTimeout(() => {\n        const jsonSection = document.querySelector('.json-output-section');\n        if (jsonSection) {\n          jsonSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      }, 100);\n      \n      // Hide success feedback after 3 seconds\n      setTimeout(() => {\n        setSceneExtenderSuccess(false);\n      }, 3000);\n    }\n  };\n\n  // Show loading screen first\n  if (isLoading) {\n    if (import.meta.env.DEV) console.log('App: Showing loading screen');\n    return <LoadingScreen onComplete={() => setIsLoading(false)} />;\n  }\n\n  if (import.meta.env.DEV) {\n    console.log('App: Loading complete, rendering main app');\n    console.log('App: isPro =', isPro);\n  }\n\n  // Render randomize dropdown\n  const renderRandomizeDropdown = () => (\n    <div className=\"header-dropdown top-full mt-1 right-0 bg-white dark:bg-cinema-panel border border-gray-200 dark:border-cinema-border rounded-md shadow-lg dark:shadow-glow-soft min-w-[220px]\">\n      <button\n        onClick={() => {\n          randomizeCharacterFields();\n          setShowRandomizeDropdown(false);\n        }}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300 rounded-t-md\"\n      >\n        👤 Character\n      </button>\n      <button\n        onClick={() => {\n          randomizeLocationBased();\n          setShowRandomizeDropdown(false);\n        }}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300\"\n      >\n        📍 Setting\n      </button>\n      <button\n        onClick={() => {\n          const audioFields = ['sound_effects', 'background_music', 'ambient_sound'];\n          audioFields.forEach(field => {\n            const randomOptions = ['cinematic', 'dramatic', 'upbeat', 'mysterious', 'calm', 'intense'];\n            setFieldValue(field, randomOptions[Math.floor(Math.random() * randomOptions.length)]);\n          });\n          setShowRandomizeDropdown(false);\n        }}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300\"\n      >\n        🎵 Audio\n      </button>\n      <button\n        onClick={() => {\n          const actionFields = ['action', 'movement', 'activity'];\n          actionFields.forEach(field => {\n            const randomOptions = ['walking', 'running', 'dancing', 'talking', 'working', 'playing', 'sleeping', 'eating'];\n            setFieldValue(field, randomOptions[Math.floor(Math.random() * randomOptions.length)]);\n          });\n          setShowRandomizeDropdown(false);\n        }}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300\"\n      >\n        🎬 Action\n      </button>\n      <button\n        onClick={() => {\n          randomizeCinematicStyle();\n          setShowRandomizeDropdown(false);\n        }}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300\"\n      >\n        🎨 Style\n      </button>\n      <button\n        onClick={handleFullSceneRandomizeClick}\n        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-cinema-text hover:bg-gray-100 dark:hover:bg-cinema-border transition-colors duration-300\"\n      >\n        🎲 Full Scene\n      </button>\n    </div>\n  );\n\n  // Render Scene Options\n  const renderSceneOptions = () => {\n    if (!sceneOptions || sceneOptions.length === 0) return null;\n\n    return (\n      <div data-scene-options className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-lg dark:shadow-glow-soft p-4 lg:p-6 border border-transparent dark:border-cinema-border transition-all duration-300\">\n        {/* Success indicator */}\n        <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-3 mb-4\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-lg\">✅</span>\n            <span className=\"font-medium text-green-800 dark:text-green-200\">5 scene options generated successfully!</span>\n          </div>\n          <p className=\"text-sm text-green-600 dark:text-green-300 mt-1\">\n            Choose an option below to extend your current scene, or preview for details.\n          </p>\n        </div>\n        \n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-800 dark:text-cinema-text flex items-center\">\n            <span className=\"mr-2\">🎬</span>\n            AI Scene Options\n          </h3>\n          <button\n            onClick={handleDismissSceneOptions}\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-sm\"\n          >\n            ✕ Close\n          </button>\n        </div>\n        \n        <div className=\"space-y-3\">\n          {sceneOptions.map((option, index) => (\n            <div key={index} className=\"bg-gray-50 dark:bg-cinema-card rounded-lg p-3 border border-gray-200 dark:border-cinema-border\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2 mb-2\">\n                    <span className=\"text-sm font-medium text-purple-600 dark:text-purple-400\">\n                      {option.type}\n                    </span>\n                    {appliedOptionIndex === index && (\n                      <span className=\"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded\">\n                        Applied\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-gray-700 dark:text-cinema-text mb-2\">\n                    {option.summary}\n                  </p>\n                </div>\n                <button\n                  onClick={() => handleApplySceneOption(option, index)}\n                  disabled={appliedOptionIndex === index}\n                  className={`ml-3 px-3 py-2 text-sm rounded-md transition-colors ${\n                    appliedOptionIndex === index\n                      ? 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 cursor-not-allowed'\n                      : 'bg-purple-500 hover:bg-purple-600 text-white'\n                  }`}\n                >\n                  {appliedOptionIndex === index ? 'Applied' : 'Apply'}\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  // Main app render\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-cinema-black transition-colors duration-300\">\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 lg:py-6\">\n        \n        {/* HEADER SECTION */}\n        <header className=\"header-base mb-4 sm:mb-6 bg-white/90 dark:bg-cinema-panel/90 backdrop-blur-md border border-cinema-border rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\" role=\"banner\">\n          {/* Desktop Header - 3 Section Grid */}\n          <div className=\"hidden md:grid md:grid-cols-12 md:gap-4 items-center py-3 px-4 transition-all duration-300\">\n            \n            {/* LEFT SECTION - Project & Library Manager */}\n            <div data-tutorial=\"project-system\" className=\"col-span-3 flex items-center space-x-2 lg:space-x-3\">\n              <Logo size=\"small\" />\n              <IntegratedHeader showToast={{ showSuccess, showError, showWarning, showInfo }} />\n            </div>\n\n            {/* CENTER SECTION - Tools Group */}\n            <div data-tutorial=\"quick-tools\" className=\"col-span-6 flex items-center justify-center space-x-1.5 lg:space-x-2\">\n              {/* Templates & Presets */}\n              <TemplateSelector />\n              \n              {/* Viral Generator */}\n              <button\n                onClick={() => setShowViralGenerator(true)}\n                className=\"px-4 py-2 rounded-md font-semibold text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:brightness-110 shadow-md transition-all duration-200 flex items-center\"\n                title=\"Viral Video Generator\"\n              >\n                <span className=\"mr-2\">📈</span>\n                <span>Viral Gen</span>\n              </button>\n              \n              {/* Randomize Tools */}\n              <div className=\"relative overflow-visible\" ref={randomizeDropdownRef}>\n                <button\n                  onClick={() => setShowRandomizeDropdown(!showRandomizeDropdown)}\n                  className=\"px-4 py-2 rounded-md font-semibold text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:brightness-110 shadow-md transition-all duration-200 flex items-center\"\n                  title=\"Randomize Elements\"\n                >\n                  <span className=\"mr-2\">🎲</span>\n                  <span>Randomize</span>\n                  <svg\n                    className={`ml-1 w-4 h-4 transition-transform duration-200 ${\n                      showRandomizeDropdown ? 'rotate-180' : ''\n                    }`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                {showRandomizeDropdown && renderRandomizeDropdown()}\n              </div>\n            </div>\n\n            {/* RIGHT SECTION - View Controls */}\n            <div className=\"col-span-3 flex items-center justify-end space-x-2 lg:space-x-3\">\n              <CinematicModeToggle />\n            </div>\n          </div>\n\n          {/* Mobile Header - Stacked Layout */}\n          <div className=\"md:hidden space-y-3 py-3 px-4 transition-all duration-300\">\n            {/* Top Row: Logo and View Controls */}\n            <div className=\"flex items-center justify-between\">\n              <Logo size=\"small\" width={100} height={40} />\n              <CinematicModeToggle className=\"scale-90\" />\n            </div>\n            \n            {/* Bottom Row: Project & Library Manager and Tools */}\n            <div data-tutorial=\"project-system\" className=\"flex flex-wrap items-center gap-2\">\n              <IntegratedHeader showToast={{ showSuccess, showError, showWarning, showInfo }} />\n              <TemplateSelector />\n              <button\n                onClick={() => setShowViralGenerator(true)}\n                className=\"px-3 py-2 rounded-md font-semibold text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:brightness-110 shadow-md transition-all duration-200 flex items-center text-xs focus:outline-none focus:ring-2 focus:ring-purple-400\"\n                aria-label=\"Open viral video generator\"\n                title=\"Viral Video Generator\"\n              >\n                <span className=\"mr-1\">📈</span>\n                <span className=\"hidden xs:inline\">Viral Gen</span>\n                <span className=\"xs:hidden\">Viral</span>\n              </button>\n              <button\n                onClick={() => setShowRandomizeDropdown(!showRandomizeDropdown)}\n                className=\"px-3 py-2 rounded-md font-semibold text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:brightness-110 shadow-md transition-all duration-200 flex items-center text-xs focus:outline-none focus:ring-2 focus:ring-purple-400\"\n                aria-label=\"Open randomization tools\"\n                title=\"Randomize Elements\"\n              >\n                <span className=\"mr-1\">🎲</span>\n                <span className=\"hidden xs:inline\">Randomize</span>\n                <span className=\"xs:hidden\">Random</span>\n              </button>\n            </div>\n          </div>\n        </header>\n\n        {/* CONTEXT-SENSITIVE MODE TOGGLE */}\n        <div className=\"mb-4 flex items-center justify-center\">\n          <button\n            data-tutorial=\"advanced-mode-toggle\"\n            onClick={() => setIsAdvancedMode(!isAdvancedMode)}\n            className={`\n              inline-flex items-center px-4 py-2 rounded-full font-medium transition-all duration-300 cursor-pointer\n              hover:scale-105 active:scale-95 group focus:outline-none focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-600\n              bg-teal-100 text-teal-800 border-2 border-teal-200 hover:bg-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-700 dark:hover:bg-teal-800/40\n            `}\n            aria-label={`Switch to ${isAdvancedMode ? 'Simple' : 'Advanced'} editing mode`}\n            title=\"Switch between simple and advanced editing modes\"\n          >\n            <div className=\"w-3 h-3 rounded-full mr-2 transition-all duration-300 group-hover:scale-110 bg-teal-500\" />\n            \n            {/* Desktop: Full text */}\n            <span className=\"hidden sm:inline\">\n              {isAdvancedMode ? 'Advanced Mode' : 'Simple Mode'}\n            </span>\n            \n            {/* Mobile: Icon only */}\n            <span className=\"sm:hidden text-lg\" title=\"Switch editing mode\">\n              ⚙️\n            </span>\n            \n            {/* Switch indicator */}\n            <svg className=\"w-4 h-4 ml-2 opacity-60 group-hover:opacity-100 transition-opacity duration-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* MAIN CONTENT GRID */}\n        <main className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 min-h-[400px] sm:min-h-[500px] lg:min-h-[600px]\" role=\"main\">\n          \n          {/* LEFT PANEL */}\n          <div className=\"space-y-4 sm:space-y-5 lg:space-y-6 h-full relative\">\n            {/* Simple Mode: Scene Builder Only */}\n            {!isAdvancedMode && (\n              <div data-tutorial=\"scene-builder\" className=\"transition-all duration-500 ease-in-out transform h-full\">\n                <SceneBuilderChecklist \n                  compact={true}\n                  isAdvancedMode={isAdvancedMode}\n                  setIsAdvancedMode={setIsAdvancedMode}\n                  showToast={{ showSuccess, showError, showWarning, showInfo }}\n                  onProjectChange={(data) => {\n                    if (data && data.type === 'switchToAdvanced') {\n                      setIsAdvancedMode(true);\n                      // Scroll to the relevant category if specified\n                      if (data.category) {\n                        setTimeout(() => {\n                          const categoryElement = document.querySelector(`[data-category=\"${data.category}\"]`);\n                          if (categoryElement) {\n                            categoryElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                          }\n                        }, 100);\n                      }\n                    } else {\n                      switchProject(data);\n                    }\n                  }}\n                />\n              </div>\n            )}\n            \n            {/* Advanced Mode: Configuration Panel Only */}\n            {isAdvancedMode && (\n              <div data-tutorial=\"form-fields\" className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-lg dark:shadow-glow-soft p-4 lg:p-6 border border-transparent dark:border-cinema-border transition-all duration-500 ease-in-out transform\">\n                <div className=\"mb-4 lg:mb-6\">\n                  <div className=\"mb-3 lg:mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h2 className=\"text-lg lg:text-xl font-semibold text-gray-800 dark:text-cinema-text\">\n                          Configure Your Prompt\n                        </h2>\n                        {isAdvancedMode && (\n                          <p className=\"text-xs text-gray-600 dark:text-cinema-text-muted mt-1\">\n                            Detailed manual configuration for all scene elements\n                          </p>\n                        )}\n                      </div>\n                      \n                    </div>\n                  </div>\n                \n                  <div className=\"space-y-4 transition-all duration-300\">\n                    {schema.categories.map((category) => (\n                      <div key={category.id} data-category={category.id} className=\"border border-gray-200 dark:border-cinema-border rounded-lg transition-colors duration-300\">\n                        <button\n                          onClick={() => toggleCategory(category.id)}\n                          className=\"w-full px-4 py-3 text-left bg-gray-50 dark:bg-cinema-card hover:bg-gray-100 dark:hover:bg-cinema-border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cinema-teal transition-all duration-300\"\n                        >\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"font-medium text-gray-900 dark:text-cinema-text\">\n                              {category.label}\n                            </span>\n                            <svg\n                              className={`w-5 h-5 text-gray-500 dark:text-cinema-text-muted transition-all duration-300 ${\n                                expandedCategories.has(category.id) ? 'rotate-180' : ''\n                              }`}\n                              fill=\"none\"\n                              stroke=\"currentColor\"\n                              viewBox=\"0 0 24 24\"\n                            >\n                              <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth={2}\n                                d=\"M19 9l-7 7-7-7\"\n                              />\n                            </svg>\n                          </div>\n                        </button>\n                        \n                        {expandedCategories.has(category.id) && (\n                          <div className=\"p-4 border-t border-gray-200 dark:border-cinema-border bg-white dark:bg-cinema-panel/50\">\n                            {category.fields.map((field) => (\n                              <FieldRenderer key={field.key} field={field} />\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* RIGHT PANEL */}\n          <div data-tutorial=\"json-output\" className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-lg dark:shadow-glow-soft p-4 lg:p-6 space-y-4 lg:space-y-6 border border-transparent dark:border-cinema-border transition-all duration-300\">\n              \n              {/* JSON OUTPUT SECTION */}\n              <div className=\"json-output-section\">\n                {/* Success Notification */}\n                {sceneExtenderSuccess && (\n                  <div className=\"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg animate-pulse\">\n                    <div className=\"flex items-center space-x-2\">\n                      <svg className=\"w-5 h-5 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                      <span className=\"text-sm font-medium text-green-700 dark:text-green-300\">\n                        🎬 Scene extended successfully! Your JSON has been updated.\n                      </span>\n                    </div>\n                  </div>\n                )}\n                \n                {/* JSON Output Header */}\n                <div className=\"flex items-center justify-between mb-3 py-2 border-b border-gray-200 dark:border-cinema-border\">\n                  <div className=\"flex items-center space-x-2 lg:space-x-4\">\n                    <h2 className=\"text-base lg:text-lg font-semibold text-gray-800 dark:text-cinema-text\">\n                      JSON Output\n                    </h2>\n                    <div data-tutorial=\"advanced-controls\" className=\"flex items-center space-x-1\">\n                      <span className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">Ratio:</span>\n                      <select\n                        value={aspectRatio}\n                        onChange={(e) => setAspectRatio(e.target.value)}\n                        className=\"text-xs px-2 py-1 bg-white dark:bg-cinema-panel border border-gray-300 dark:border-cinema-border rounded text-gray-700 dark:text-cinema-text h-6 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                        aria-label=\"Select aspect ratio for video output\"\n                      >\n                        <option value=\"1:1\">🔳 1:1</option>\n                        <option value=\"16:9\">🖥️ 16:9</option>\n                        <option value=\"9:16\">📱 9:16</option>\n                        <option value=\"4:3\">📺 4:3</option>\n                        <option value=\"21:9\">🎬 21:9</option>\n                        <option value=\"3:2\">📸 3:2</option>\n                      </select>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2\">\n                    <button\n                      onClick={copyToClipboard}\n                      disabled={copyLoading}\n                      className={`px-3 py-2 text-xs rounded transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed ${\n                        copySuccess \n                          ? 'bg-green-500 text-white' \n                          : copyLoading\n                          ? 'bg-gray-400 text-white'\n                          : 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/50'\n                      }`}\n                      aria-label=\"Copy JSON to clipboard\"\n                    >\n                      {copyLoading ? (\n                        <div className=\"flex items-center space-x-1\">\n                          <div className=\"animate-spin h-3 w-3 border border-white border-t-transparent rounded-full\"></div>\n                          <span>Copying...</span>\n                        </div>\n                      ) : copySuccess ? 'Copied!' : 'Copy to Clipboard'}\n                    </button>\n                    \n                    <button\n                      onClick={() => setShowSaveModal(true)}\n                      disabled={saveLoading}\n                      className=\"px-3 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors text-xs flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-purple-400 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      aria-label=\"Save current scene\"\n                    >\n                      {saveLoading ? (\n                        <div className=\"flex items-center space-x-1\">\n                          <div className=\"animate-spin h-3 w-3 border border-purple-600 border-t-transparent rounded-full\"></div>\n                          <span>Saving...</span>\n                        </div>\n                      ) : (\n                        <>\n                          💾 Save\n                        </>\n                      )}\n                    </button>\n                    \n                    <button\n                      onClick={() => {\n                        const success = undo();\n                        if (success) {\n                          showSuccess('Previous state restored!');\n                        } else {\n                          showInfo('Nothing to undo');\n                        }\n                      }}\n                      disabled={undoStack.length === 0}\n                      className=\"px-3 py-2 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors text-xs flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-orange-400\"\n                      aria-label=\"Undo last action\"\n                      title=\"Undo last action\"\n                    >\n                      ↶ Undo\n                    </button>\n                    \n                    <button\n                      onClick={handleClearAllClick}\n                      disabled={clearLoading}\n                      className=\"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-xs flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-red-400 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      aria-label=\"Clear all scene data\"\n                    >\n                      {clearLoading ? (\n                        <div className=\"flex items-center space-x-1\">\n                          <div className=\"animate-spin h-3 w-3 border border-red-600 border-t-transparent rounded-full\"></div>\n                          <span>Clearing...</span>\n                        </div>\n                      ) : 'Clear All'}\n                    </button>\n                  </div>\n                </div>\n                \n                {/* JSON Container */}\n                <div \n                  className=\"bg-gray-900 dark:bg-cinema-black rounded-lg p-3 sm:p-4 h-32 sm:h-40 md:h-64 max-h-[40vh] sm:max-h-[50vh] overflow-auto border border-gray-700 dark:border-cinema-border relative\"\n                  role=\"textbox\"\n                  aria-readonly=\"true\"\n                  aria-label=\"Generated JSON output\"\n                  tabIndex=\"0\"\n                >\n                  <pre className=\"text-green-400 dark:text-cinema-teal text-xs sm:text-sm font-mono whitespace-pre-wrap\" aria-live=\"polite\">\n                    {getJsonOutput() || '{}'}\n                    <span className=\"animate-cursor-blink text-cinema-teal\">▊</span>\n                  </pre>\n                </div>\n              </div>\n              \n              {/* UNIVERSAL INPUT + AI FEATURES */}\n              <div data-tutorial=\"text-input\" className=\"bg-white dark:bg-cinema-panel rounded-lg shadow-lg dark:shadow-glow-soft p-4 lg:p-6 border border-transparent dark:border-cinema-border transition-all duration-300\">\n                <UniversalInput \n                  aiFeatures={\n                    <div data-tutorial=\"ai-tools\">\n                      <ProFeaturesHub \n                        isPro={isPro}\n                        onShowPricing={() => setShowPricing(true)}\n                      onSceneExtenderClick={() => handleGenerate5Options()}\n                      currentJson={JSON.parse(getJsonOutput() || '{}')}\n                      onJsonUpdate={(updatedJson) => {\n                        // Update the store with the new JSON data\n                        if (updatedJson && typeof updatedJson === 'object') {\n                          Object.keys(updatedJson).forEach(key => {\n                            if (key !== '_metadata' && updatedJson[key] !== undefined) {\n                              setFieldValue(key, updatedJson[key]);\n                            }\n                          });\n                        }\n                      }}\n                      sceneOptions={sceneOptions}\n                      onApplySceneOption={handleApplySceneOption}\n                      onDismissSceneOptions={handleDismissSceneOptions}\n                      extensionLoading={extensionLoading}\n                      extensionError={extensionError}\n                      compact={true}\n                    />\n                    </div>\n                  }\n                />\n              </div>\n              \n              {/* AI SCENE OPTIONS */}\n              {renderSceneOptions()}\n\n          </div>\n        </main>\n\n        {/* FOOTER */}\n        <footer className=\"mt-8 sm:mt-10 lg:mt-12 pt-6 sm:pt-8 pb-4 sm:pb-6 border-t border-gray-200 dark:border-cinema-border\" role=\"contentinfo\">\n          <div className=\"flex flex-col sm:flex-row justify-center items-center space-y-3 sm:space-y-0 sm:space-x-3 lg:space-x-4 mb-4 sm:mb-6\">\n            <a \n              href=\"/privacy-policy.html\" \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"group flex items-center space-x-2 px-3 py-1.5 bg-white dark:bg-cinema-card border border-gray-200 dark:border-cinema-border rounded-lg hover:border-purple-300 dark:hover:border-purple-500 hover:shadow-md transition-all duration-300 text-gray-700 dark:text-cinema-text\"\n            >\n              <span className=\"text-purple-500 text-sm\">🔒</span>\n              <span className=\"text-xs font-medium group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors\">Privacy Policy</span>\n            </a>\n            <a \n              href=\"/terms-of-service.html\" \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"group flex items-center space-x-2 px-3 py-1.5 bg-white dark:bg-cinema-card border border-gray-200 dark:border-cinema-border rounded-lg hover:border-purple-300 dark:hover:border-purple-500 hover:shadow-md transition-all duration-300 text-gray-700 dark:text-cinema-text\"\n            >\n              <span className=\"text-purple-500 text-sm\">📜</span>\n              <span className=\"text-xs font-medium group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors\">Terms of Service</span>\n            </a>\n            <a \n              href=\"mailto:insightout11@gmail.com\"\n              className=\"group flex items-center space-x-2 px-3 py-1.5 bg-white dark:bg-cinema-card border border-gray-200 dark:border-cinema-border rounded-lg hover:border-purple-300 dark:hover:border-purple-500 hover:shadow-md transition-all duration-300 text-gray-700 dark:text-cinema-text\"\n            >\n              <span className=\"text-purple-500 text-sm\">✉️</span>\n              <span className=\"text-xs font-medium group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors\">Contact</span>\n            </a>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-xs text-gray-500 dark:text-cinema-text-muted\">&copy; 2025 JSON Prompt Studio. All rights reserved.</p>\n          </div>\n        </footer>\n\n        {/* TOAST CONTAINER */}\n        <ToastContainer toasts={toasts} removeToast={removeToast} />\n\n      </div>\n\n      {/* MODALS */}\n      {showViralGenerator && (\n        <ViralVideoGeneratorModal \n          onClose={() => setShowViralGenerator(false)}\n          showToast={{ showSuccess, showError, showWarning, showInfo }}\n        />\n      )}\n\n      {showTutorial && (\n        <TutorialOverlay \n          onComplete={() => setShowTutorial(false)}\n          onSkip={() => setShowTutorial(false)}\n          onTutorialAction={handleTutorialAction}\n          isAdvancedMode={isAdvancedMode}\n          expandedCategories={expandedCategories}\n        />\n      )}\n\n      {/* Save Modal */}\n      {showSaveModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[3000] p-4\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg p-6 w-96 border border-transparent dark:border-cinema-border shadow-xl dark:shadow-glow-soft\">\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-cinema-text\">\n              💾 Save Current Scene\n            </h3>\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n                Save as:\n              </label>\n              <select\n                value={saveCategory}\n                onChange={(e) => setSaveCategory(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 mb-3 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text\"\n                required\n                aria-required=\"true\"\n              >\n                <option value=\"\">Select category...</option>\n                <option value=\"scene\">Complete Scene</option>\n                <option value=\"character\">Character Only</option>\n                <option value=\"action\">Action Only</option>\n                <option value=\"setting\">Setting Only</option>\n                <option value=\"style\">Style Only</option>\n                <option value=\"audio\">Audio Only</option>\n              </select>\n              {!saveCategory && (\n                <p className=\"text-xs text-red-500 mb-2\">Please select a category</p>\n              )}\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-cinema-text mb-2\">\n                Name:\n              </label>\n              <input\n                type=\"text\"\n                value={saveName}\n                onChange={(e) => setSaveName(e.target.value)}\n                placeholder=\"Enter name for saved item...\"\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-cinema-border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 bg-white dark:bg-cinema-card text-gray-900 dark:text-cinema-text\"\n                onKeyPress={(e) => e.key === 'Enter' && saveCategory && saveName.trim() && !saveLoading && document.querySelector('.save-modal-confirm-btn').click()}\n                required\n                aria-required=\"true\"\n                minLength=\"1\"\n                maxLength=\"50\"\n                autoFocus\n              />\n              {!saveName.trim() && saveName.length > 0 && (\n                <p className=\"text-xs text-red-500 mt-1\">Name cannot be empty</p>\n              )}\n              {saveName.length > 50 && (\n                <p className=\"text-xs text-red-500 mt-1\">Name must be 50 characters or less</p>\n              )}\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={async () => {\n                  if (saveCategory && saveName.trim() && !saveLoading) {\n                    setSaveLoading(true);\n                    try {\n                      // Call the appropriate save function based on category\n                      switch(saveCategory) {\n                        case 'scene':\n                          saveScene(saveName.trim());\n                          break;\n                        case 'character':\n                          saveCharacter(saveName.trim());\n                          break;\n                        case 'action':\n                          saveAction(saveName.trim());\n                          break;\n                        case 'setting':\n                          saveSetting(saveName.trim());\n                          break;\n                        case 'style':\n                          saveStyle(saveName.trim());\n                          break;\n                        case 'audio':\n                          saveAudio(saveName.trim());\n                          break;\n                        default:\n                          throw new Error('Invalid save category');\n                      }\n                      setShowSaveModal(false);\n                      setSaveName('');\n                      setSaveCategory('');\n                      showSuccess(`Saved \"${saveName.trim()}\" as ${saveCategory}!`);\n                    } catch (error) {\n                      console.error('Save error:', error);\n                      showError(`Failed to save: ${error.message}`);\n                    } finally {\n                      setSaveLoading(false);\n                    }\n                  }\n                }}\n                disabled={!saveCategory || !saveName.trim() || saveLoading}\n                className=\"save-modal-confirm-btn flex-1 px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-300 dark:disabled:bg-cinema-border disabled:cursor-not-allowed text-white rounded-md transition-all duration-300\"\n              >\n                {saveLoading ? (\n                  <div className=\"flex items-center justify-center space-x-2\">\n                    <div className=\"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full\"></div>\n                    <span>Saving...</span>\n                  </div>\n                ) : 'Save'}\n              </button>\n              <button\n                onClick={() => {\n                  setShowSaveModal(false);\n                  setSaveName('');\n                  setSaveCategory('');\n                }}\n                className=\"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-md transition-all duration-300\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Confirmation Modal */}\n      {showConfirmModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[3000] p-4\">\n          <div className=\"bg-white dark:bg-cinema-panel rounded-lg p-6 w-96 border border-transparent dark:border-cinema-border shadow-xl dark:shadow-glow-soft\">\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-cinema-text\">\n              {showConfirmModal.title}\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-cinema-text-muted mb-6\">\n              {showConfirmModal.message}\n            </p>\n            <div className=\"flex items-center justify-between mb-6\">\n              <label className=\"flex items-center space-x-2 text-sm\">\n                <input\n                  type=\"checkbox\"\n                  checked={dontShowAgain}\n                  onChange={(e) => setDontShowAgain(e.target.checked)}\n                  className=\"rounded border-gray-300 dark:border-cinema-border\"\n                />\n                <span className=\"text-gray-600 dark:text-cinema-text-muted\">Don't show this again</span>\n              </label>\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => {\n                  if (showConfirmModal.onConfirm) {\n                    showConfirmModal.onConfirm();\n                  }\n                  setShowConfirmModal(null);\n                  setDontShowAgain(false);\n                }}\n                className={`flex-1 px-4 py-2 text-white rounded-md transition-all duration-300 ${showConfirmModal.confirmClass || 'bg-red-500 hover:bg-red-600'}`}\n              >\n                {showConfirmModal.confirmText || 'Confirm'}\n              </button>\n              <button\n                onClick={() => {\n                  setShowConfirmModal(null);\n                  setDontShowAgain(false);\n                }}\n                className=\"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-md transition-all duration-300\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.jsx'\nimport ThemeProvider from './ThemeContext.jsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n)"],"file":"assets/react-app-2731ba1f.js"}